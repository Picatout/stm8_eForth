ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 1.
Hexadecimal [24-Bits]



                                      1 ;-------------------------------------------------------------
                                      2 ;  eForth for STM8S adapted from C. H. Ting source file to 
                                      3 ;  assemble using sdasstm8
                                      4 ;  implemented on NUCLEO-8S208RB board
                                      5 ;  Adapted by picatout 2019/10/27
                                      6 ;  https://github.com/picatout/stm8_nucleo/eForth
                                      7 ;--------------------------------------------------------------
                                      8 	.module EFORTH
                                      9          .optsdcc -mstm8
                                        	.include "inc/nucleo_8s208.inc"
                                        ;;
                                        ; Copyright Jacques Deschênes 2019 
                                        ; This file is part of MONA 
                                        ;
                                        ;     MONA is free software: you can redistribute it and/or modify
                                        ;     it under the terms of the GNU General Public License as published by
                                        ;     the Free Software Foundation, either version 3 of the License, or
                                        ;     (at your option) any later version.
                                        ;
                                        ;     MONA is distributed in the hope that it will be useful,
                                        ;     but WITHOUT ANY WARRANTY; without even the implied warranty of
                                        ;     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                                        ;     GNU General Public License for more details.
                                        ;
                                        ;     You should have received a copy of the GNU General Public License
                                        ;     along with MONA.  If not, see <http://www.gnu.org/licenses/>.
                                        ;;
                                        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                                        ; NUCLEO-8S208RB board specific definitions
                                        ; Date: 2019/10/29
                                        ; author: Jacques Deschênes, copyright 2018,2019
                                        ; licence: GPLv3
                                        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                                        
                                        ; mcu on board is stm8s208rbt6
                                        
                                        ; crystal on board is 8Mhz
                                 
                                        
                                        ; LED2 is user LED
                                        ; connected to PC5 via Q2 -> 2N7002 MOSFET
                                 
                                 
                                 
                                        
                                        ; B1 on schematic is user button
                                        ; connected to PE4
                                        ; external pullup resistor R6 4k7 and debounce capacitor C5 100nF
                                 
                                 
                                 
                                        
                                        
                                        	.include "inc/stm8s208.inc"
                                        ;;
                                        ; Copyright Jacques Deschênes 2019 
                                        ; This file is part of MONA 
                                        ;
                                        ;     MONA is free software: you can redistribute it and/or modify
                                        ;     it under the terms of the GNU General Public License as published by
                                        ;     the Free Software Foundation, either version 3 of the License, or
                                        ;     (at your option) any later version.
                                        ;
                                        ;     MONA is distributed in the hope that it will be useful,
                                        ;     but WITHOUT ANY WARRANTY; without even the implied warranty of
                                        ;     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                                        ;     GNU General Public License for more details.
                                        ;
                                        ;     You should have received a copy of the GNU General Public License
                                        ;     along with MONA.  If not, see <http://www.gnu.org/licenses/>.
                                        ;;
                                        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                                        ; 2019/10/18
                                        ; STM8S208RB µC registers map
                                        ; sdas source file
                                        ; author: Jacques Deschênes, copyright 2018,2019
                                        ; licence: GPLv3
                                        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                                        	.module stm8s208rb
                                        
                                        ;;;;;;;;;;;;
                                        ; bits
                                        ;;;;;;;;;;;;
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                         	
                                        ;;;;;;;;;;;;
                                        ; bits masks
                                        ;;;;;;;;;;;;
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; HSI oscillator frequency 16Mhz
                                 
                                        ; LSI oscillator frequency 128Khz
                                 
                                        
                                        ; controller memory regions
                                 
                                 
                                        ; STM8S208RB have 128K flash
                                 
                                        ; erase block size 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; options bytes
                                        ; this one can be programmed only from SWIM  (ICP)
                                 
                                        ; these can be programmed at runtime (IAP)
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; option registers usage
                                        ; read out protection, value 0xAA enable ROP
                                 
                                        ; user boot code, {0..0x3e} 512 bytes row
                                 
                                 
                                        ; alternate function register
                                 
                                 
                                        ; miscelinous options
                                 
                                 
                                        ; clock options
                                 
                                 
                                        ; HSE clock startup delay
                                 
                                 
                                        ; flash wait state
                                 
                                 
                                        
                                        ; watchdog options bits
                                 
                                 
                                 
                                 
                                        ; NWDGOPT bits
                                 
                                 
                                 
                                 
                                        
                                        ; CLKOPT bits
                                 
                                 
                                 
                                 
                                        
                                        ; AFR option, remapable functions
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; device ID = (read only)
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        
                                 
                                 
                                        ; PORTS SFR OFFSET
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; GPIO
                                        ; gpio register offset to base
                                 
                                 
                                 
                                 
                                 
                                 
                                         
                                        ; port A
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port B
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port C
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port D
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port E
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port F
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port G
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port H not present on LQFP48/LQFP64 package
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; port I ; only bit 0 on LQFP64 package, not present on LQFP48
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; input modes CR1
                                 
                                 
                                        ; output mode CR1
                                 
                                 
                                        ; input modes CR2
                                 
                                 
                                        ; output speed CR2
                                 
                                 
                                        
                                        
                                        ; Flash memory
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; data memory unlock keys
                                 
                                 
                                        ; flash memory unlock keys
                                 
                                 
                                        ; FLASH_CR1 bits
                                 
                                 
                                 
                                 
                                        ; FLASH_CR2 bits
                                 
                                 
                                 
                                 
                                 
                                        ; FLASH_FPR bits
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; FLASH_NFPR bits
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; FLASH_IAPSR bits
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Interrupt control
                                 
                                 
                                        
                                        ; Reset Status
                                 
                                        
                                        ; Clock Registers
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Peripherals clock gating
                                        ; CLK_PCKENR1 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        ; CLK_PCKENR2
                                 
                                 
                                 
                                        
                                        ; Clock bits
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                        ; clock source
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Watchdog
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Beeper
                                        ; beeper output is alternate function AFR7 on PD4
                                        ; connected to CN9-6
                                 
                                 
                                 
                                 
                                        
                                        ; SPI
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; I2C
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                        
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                        
                                        ; Precalculated values, all in KHz
                                 
                                 
                                        ;
                                        ; Fast I2C mode max rise time = 300ns
                                        ; I2C_FREQR = 16 = (MHz) => tMASTER = 1/16 = 62.5 ns
                                        ; TRISER = = (300/62.5) + 1 = floor(4.8) + 1 = 5.
                                        
                                 
                                        
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                        
                                 
                                 
                                        ;
                                        ; Standard I2C mode max rise time = 1000ns
                                        ; I2C_FREQR = 16 = (MHz) => tMASTER = 1/16 = 62.5 ns
                                        ; TRISER = = (1000/62.5) + 1 = floor(16) + 1 = 17.
                                        
                                 
                                        
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                        
                                 
                                 
                                        
                                        ; baudrate constant for brr_value table access
                                        ; to be used by uart_init 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; UART registers offset from
                                        ; base address 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; uart identifier
                                        ; to be used by uart_init
                                 
                                 
                                        
                                        ; pins used by uart 
                                 
                                 
                                 
                                 
                                        ; uart port base address 
                                 
                                 
                                        
                                        ; UART1 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; UART3
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; UART Status Register bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Uart Control Register bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        ; LIN mode config register
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; TIMERS
                                        ; Timer 1 - 16-bit timer with complementary PWM outputs
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer Control Register bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer Slave Mode Control bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer External Trigger Enable bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer Interrupt Enable bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer Status Register bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                        
                                        ; Timer Event Generation Register bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Capture/Compare Mode Register 1 - channel configured in output
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Capture/Compare Mode Register 1 - channel configured in input
                                 
                                 
                                 
                                 
                                 
                                 
                                        ;  TIM1_CCMR1_CC1S1 = (1)
                                 
                                        
                                        ; Capture/Compare Mode Register 2 - channel configured in output
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Capture/Compare Mode Register 2 - channel configured in input
                                 
                                 
                                 
                                 
                                 
                                 
                                        ;  TIM1_CCMR2_CC2S1 = (1)
                                 
                                        
                                        ; Capture/Compare Mode Register 3 - channel configured in output
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Capture/Compare Mode Register 3 - channel configured in input
                                 
                                 
                                 
                                 
                                 
                                 
                                        ;  TIM1_CCMR3_CC3S1 = (1)
                                 
                                        
                                        ; Capture/Compare Mode Register 4 - channel configured in output
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Capture/Compare Mode Register 4 - channel configured in input
                                 
                                 
                                 
                                 
                                 
                                 
                                        ;  TIM1_CCMR4_CC4S1 = (1)
                                 
                                        
                                        ; Timer 2 - 16-bit timer
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer 3
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; TIM3_CR1  fields
                                 
                                 
                                 
                                 
                                 
                                        ; TIM3_CCR2  fields
                                 
                                 
                                 
                                        ; TIM3_CCER1 fields
                                 
                                 
                                 
                                 
                                        ; TIM3_CCER2 fields
                                 
                                 
                                        
                                        ; Timer 4
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Timer 4 bitmasks
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                        
                                 
                                        
                                 
                                        
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; ADC2
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                         
                                        ; ADC bitmasks
                                        
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                 
                                 
                                 
                                        
                                 
                                 
                                        
                                        ; beCAN
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        
                                        ; CPU
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; global configuration register
                                 
                                 
                                 
                                        
                                        ; interrupt control registers
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; SWIM, control and status register
                                 
                                        ; debug registers
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Interrupt Numbers
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Interrupt Vectors
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                        
                                        ; Condition code register bits
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                     13 	.list
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 2.
Hexadecimal [24-Bits]



                                     15 
                                     16 ;===============================================================
                                     17 ;  Adaption to NUCLEO-8S208RB by Picatout
                                     18 ;  Date: 2019-10-26
                                     19 ;  Changes to memory map:
                                     20 ;       0x16f0  Data Stack, growing downward
                                     21 ;       0x1700  Terminal input buffer TIB
                                     22 ;       0x17ff  Return Stack, growing downard
                                     23 ;================================================================
                                     24 ;       STM8EF, Version 2.1, 13 July
                                     25 ;               Implemented on STM8S-Discovery Board.
                                     26 ;               Assembled by ST VisualDevelop STVD 
                                     27 ;               Bootup on internal 2 MHz clock
                                     28 ;               Switch to external 16 MHz crystal clock
                                     29 ;
                                     30 ; FORTH Virtual Machine:
                                     31 ; Subroutine threaded model
                                     32 ; SP Return stack pointer
                                     33 ; X Data stack pointer
                                     34 ; A,Y Scratch pad registers
                                     35 ;
                                     36 ; Memory Map:
                                     37 ; 0x0 RAM memory, system variables
                                     38 ; 0x80 Start of user defined words, linked to ROM dictionary
                                     39 ; 0x780 Data stack, growing downward
                                     40 ; 0x790 Terminal input buffer TIB
                                     41 ; 0x7FF Return stack, growing downward
                                     42 ; 0x8000 Interrupt vector table
                                     43 ; 0x8080 FORTH startup code
                                     44 ; 0x80E7 Start of FORTH dictionary in ROM
                                     45 ; 0x9584 End of FORTH dictionary
                                     46 ;
                                     47 ;       EF12, Version 2.1, 18apr00cht
                                     48 ;               move to 8000H replacing WHYP.
                                     49 ;               copy interrupt vectors from WHYPFLSH.S19
                                     50 ;               to EF12.S19 before flashing
                                     51 ;               add TICKS1 and DELAY1 for motor stepping
                                     52 ;
                                     53 ;       EF12, 02/18/00, C. H. Ting
                                     54 ;       Adapt 86eForth v2.02 to 68HC12.
                                     55 ;               Use WHYP to seed EF12.ASM
                                     56 ;               Use AS12 native 68HC12 assembler:
                                     57 ;               as12 ef12.asm >ef12.lst
                                     58 ;       EF12A, add ADC code, 02mar00cht
                                     59 ;       EF12B, 01mar00cht
                                     60 ;               stack to 0x78, return stack to 0xf8.
                                     61 ;               add all port definitions
                                     62 ;               add PWM registers
                                     63 ;               add SPI registers and code
                                     64 ;       EF12C, 12mar00cht
                                     65 ;               add MAX5250 D/A converter
                                     66 ;       EF12D, 15mar00cht
                                     67 ;               add all the Lexel interface words
                                     68 ;       EF12E, 18apr00cht, save for reference
                                     69 ;
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 3.
Hexadecimal [24-Bits]



                                     70 ;       Copyright (c) 2000
                                     71 ;       Dr. C. H. Ting
                                     72 ;       156 14th Avenue
                                     73 ;       San Mateo, CA 94402
                                     74 ;       (650) 571-7639
                                     75 ;
                                     76 
                                     77 ;*********************************************************
                                     78 ;	Assembler constants
                                     79 ;*********************************************************
                           000000    80 RAMBASE =	0x0000	   ;ram base
                           0017FF    81 STACK   =	0x17FF	;system (return) stack empty 
                           0016F0    82 DATSTK  =	0x16F0	;data stack  empty
                           001700    83 TIBBASE =       0X1700  ; tib addr.
                                     84 ;******  System Variables  ******
                           00001A    85 XTEMP	=	26	;address called by CREATE
                           00001C    86 YTEMP	=	28	;address called by CREATE
                           00001A    87 PROD1 = 26	;space for UM*
                           00001C    88 PROD2 = 28
                           00001E    89 PROD3 = 30
                           000020    90 CARRY = 32
                           000022    91 SP0	=	34	 ;initial data stack pointer
                           000024    92 RP0	=	36	;initial return stack pointer
                                     93 
                                     94 ;***********************************************
                                     95 ;; Version control
                                     96 
                           000002    97 VER     =     2         ;major release version
                           000001    98 EXT     =     1         ;minor extension
                                     99 
                                    100 ;; Constants
                                    101 
                           00FFFF   102 TRUEE   =     0xFFFF      ;true flag
                                    103 
                           000040   104 COMPO   =     0x40     ;lexicon compile only bit
                           000080   105 IMEDD   =     0x80     ;lexicon immediate bit
                           001F7F   106 MASKK   =     0x1F7F  ;lexicon bit mask
                                    107 
                           000002   108 CELLL   =     2       ;size of a cell
                           00000A   109 BASEE   =     10      ;default radix
                           000008   110 BKSPP   =     8       ;back space
                           00000A   111 LF      =     10      ;line feed
                           00000D   112 CRR     =     13      ;carriage return
                           00001B   113 ERR     =     27      ;error escape
                           000027   114 TIC     =     39      ;tick
                           0000CD   115 CALLL   =     0xCD     ;CALL opcodes
                                    116 
                                    117 ;; Memory allocation
                                    118 
                           000006   119 UPP     =     RAMBASE+6
                           0016F0   120 SPP     =     RAMBASE+DATSTK
                           0017FF   121 RPP     =     RAMBASE+STACK
                           001700   122 TIBB    =     RAMBASE+TIBBASE
                           000080   123 CTOP    =     RAMBASE+0x80
                                    124 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 4.
Hexadecimal [24-Bits]



                                    125         .macro _ledon
                                    126         bset PC_ODR,#LED2_BIT
                                    127         .endm
                                    128 
                                    129         .macro _ledoff
                                    130         bres PC_ODR,#LED2_BIT
                                    131         .endm
                                    132 
                                    133 ;**********************************************************
                                    134         .area DATA (ABS)
      000000                        135         .org RAMBASE 
                                    136 ;**********************************************************
                                    137 
                                    138 ;**********************************************************
                                    139         .area SSEG (ABS) ; STACK
      001700                        140         .org 0x1700
      001700                        141         .ds 256 
                                    142 ; space for DATSTK,TIB and STACK         
                                    143 ;**********************************************************
                                    144 
                                    145 ;**********************************************************
                                    146         .area HOME ; vectors table
                                    147 ;**********************************************************
      000000 82 00 00 05            148 	int main	        ; reset
      000004 82 00 00 00            149 	int NonHandledInterrupt	; trap
      000008 82 00 00 00            150 	int NonHandledInterrupt	; irq0
      00000C 82 00 00 00            151 	int NonHandledInterrupt	; irq1
      000010 82 00 00 00            152 	int NonHandledInterrupt	; irq2
      000014 82 00 00 00            153 	int NonHandledInterrupt	; irq3
      000018 82 00 00 00            154 	int NonHandledInterrupt	; irq4
      00001C 82 00 00 00            155 	int NonHandledInterrupt	; irq5
      000020 82 00 00 00            156 	int NonHandledInterrupt	; irq6
      000024 82 00 00 00            157 	int NonHandledInterrupt	; irq7
      000028 82 00 00 00            158 	int NonHandledInterrupt	; irq8
      00002C 82 00 00 00            159 	int NonHandledInterrupt	; irq9
      000030 82 00 00 00            160 	int NonHandledInterrupt	; irq10
      000034 82 00 00 00            161 	int NonHandledInterrupt	; irq11
      000038 82 00 00 00            162 	int NonHandledInterrupt	; irq12
      00003C 82 00 00 00            163 	int NonHandledInterrupt	; irq13
      000040 82 00 00 00            164 	int NonHandledInterrupt	; irq14
      000044 82 00 00 00            165 	int NonHandledInterrupt	; irq15
      000048 82 00 00 00            166 	int NonHandledInterrupt	; irq16
      00004C 82 00 00 00            167 	int NonHandledInterrupt	; irq17
      000050 82 00 00 00            168 	int NonHandledInterrupt	; irq18
      000054 82 00 00 00            169 	int NonHandledInterrupt	; irq19
      000058 82 00 00 00            170 	int NonHandledInterrupt	; irq20
      00005C 82 00 00 00            171 	int NonHandledInterrupt	; irq21
      000060 82 00 00 00            172 	int NonHandledInterrupt	; irq22
      000064 82 00 00 00            173 	int NonHandledInterrupt	; irq23
      000068 82 00 00 00            174 	int NonHandledInterrupt	; irq24
      00006C 82 00 00 00            175 	int NonHandledInterrupt	; irq25
      000070 82 00 00 00            176 	int NonHandledInterrupt	; irq26
      000074 82 00 00 00            177 	int NonHandledInterrupt	; irq27
      000078 82 00 00 00            178 	int NonHandledInterrupt	; irq28
      00007C 82 00 00 00            179 	int NonHandledInterrupt	; irq29
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 5.
Hexadecimal [24-Bits]



                                    180 
                                    181 ;**********************************************************
                                    182         .area CODE
                                    183 ;**********************************************************
                                    184 
                                    185 ; non handled interrupt reset MCU
      000000                        186 NonHandledInterrupt:
      000000 A6 80            [ 1]  187         ld a, #0x80
      000002 C7 50 D1         [ 1]  188         ld WWDG_CR,a ; WWDG_CR used to reset mcu
                                    189 	;iret
                                    190 
                                    191 
                                    192 ;; Main entry points and COLD start data
      000005                        193 main:
                                    194 ; clear all RAM
      000005 AE 00 00         [ 2]  195 	ldw X,#RAMBASE
      000008                        196 clear_ram0:
      000008 7F               [ 1]  197 	clr (X)
      000009 5C               [ 1]  198 	incw X
      00000A A3 17 FF         [ 2]  199 	cpw X,#RAM_END
      00000D 23 F9            [ 2]  200 	jrule clear_ram0
      00000F AE 17 FF         [ 2]  201         ldw x,#RPP
      000012 94               [ 1]  202         ldw sp,x 
      000013 CC 00 2C         [ 2]  203 	jp ORIG
                                    204 
                                    205 ; COLD initialize these variables.
      000016                        206 UZERO:
      000016 00 0A                  207         .word      BASEE   ;BASE
      000018 00 00                  208         .word      0       ;tmp
      00001A 00 00                  209         .word      0       ;>IN
      00001C 00 00                  210         .word      0       ;#TIB
      00001E 17 00                  211         .word      TIBB    ;TIB
      000020 0F 14                  212         .word      INTER   ;'EVAL
      000022 00 00                  213         .word      0       ;HLD
      000024 14 E5                  214         .word       LASTN   ;CONTEXT pointer
      000026 00 80                  215         .word       CTOP   ;CP in RAM
      000028 14 E5                  216         .word      LASTN   ;LAST
      00002A 00 00                  217 ULAST:  .word      0
                                    218 
      00002C                        219 ORIG:   
                                    220 ; initialize SP
      00002C AE 17 FF         [ 2]  221         LDW     X,#STACK  ;initialize return stack
      00002F 94               [ 1]  222         LDW     SP,X
      000030 BF 24            [ 2]  223         LDW     RP0,X
      000032 AE 16 F0         [ 2]  224         LDW     X,#DATSTK ;initialize data stack
      000035 BF 22            [ 2]  225         LDW     SP0,X
                                    226 ; initialize PC_5 as output to control LED2
      000037 72 1A 50 0D      [ 1]  227         bset PC_CR1,#LED2_BIT
      00003B 72 1A 50 0E      [ 1]  228         bset PC_CR2,#LED2_BIT
      00003F 72 1A 50 0C      [ 1]  229         bset PC_DDR,#LED2_BIT
      000043                        230         _ledoff
      000043 72 1B 50 0A      [ 1]    1         bres PC_ODR,#LED2_BIT
                                    231 ; initialize clock to HSE
                                    232 ; switch to external 8 Mhz crystal 
      000047                        233 clock_init:	
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 6.
Hexadecimal [24-Bits]



      000047 72 12 50 C5      [ 1]  234 	bset CLK_SWCR,#CLK_SWCR_SWEN
      00004B A6 B4            [ 1]  235 	ld a,#CLK_SWR_HSE
      00004D C7 50 C4         [ 1]  236 	ld CLK_SWR,a
      000050 C1 50 C3         [ 1]  237 1$:	cp a,CLK_CMSR
      000053 26 FB            [ 1]  238 	jrne 1$
                                    239 ; initialize UART1, 115200 8N1
      000055                        240 uart1_init:
      000055 72 14 50 C7      [ 1]  241 	bset CLK_PCKENR1,#CLK_PCKENR1_UART1
                                    242 	; configure tx pin
      000059 72 1A 50 02      [ 1]  243 	bset PA_DDR,#UART1_TX_PIN ; tx pin
      00005D 72 1A 50 03      [ 1]  244 	bset PA_CR1,#UART1_TX_PIN ; push-pull output
      000061 72 1A 50 04      [ 1]  245 	bset PA_CR2,#UART1_TX_PIN ; fast output
                                    246 	; baud rate 115200 Fmaster=8Mhz  8000000/115200=69=0x45
      000065 35 05 52 33      [ 1]  247 	mov UART1_BRR2,#0x05 ; must be loaded first
      000069 35 04 52 32      [ 1]  248 	mov UART1_BRR1,#0x4
      00006D 35 0C 52 35      [ 1]  249 	mov UART1_CR2,#((1<<UART_CR2_TEN)|(1<<UART_CR2_REN));|(1<<UART_CR2_RIEN))
      000071 CC 14 EA         [ 2]  250         jp  COLD   ;default=MN1
                                    251 
                                    252 ;; Device dependent I/O
                                    253 ;       All channeled to DOS 21H services
                                    254 
                                    255 ;       ?RX     ( -- c T | F )
                                    256 ;         Return input byte and true, or false.
      000074 00 00                  257         .word      0
                           000076   258 LINK	= .
      000076 04                     259         .byte      4
      000077 3F 4B 45 59            260         .ascii     "?KEY"
      00007B                        261 QKEY:
      00007B 90 5F            [ 1]  262         CLRW Y 
      00007D 72 0B 52 30 0B   [ 2]  263         BTJF UART1_SR,#UART_SR_RXNE,INCH   ;check status
      000082 C6 52 31         [ 1]  264         LD    A,UART1_DR   ;get char in A
      000085 1D 00 02         [ 2]  265 	SUBW	X,#2
      000088 E7 01            [ 1]  266         LD     (1,X),A
      00008A 7F               [ 1]  267 	CLR	(X)
      00008B 90 53            [ 2]  268         CPLW     Y
      00008D                        269 INCH:
      00008D 1D 00 02         [ 2]  270 	SUBW	X,#2
      000090 FF               [ 2]  271         LDW     (X),Y
      000091 81               [ 4]  272         RET
                                    273 
                                    274 ;       TX!     ( c -- )
                                    275 ;       Send character c to  output device.
      000092 00 76                  276         .word      LINK
                           000094   277 LINK	= .
      000094 04                     278         .byte      4
      000095 45 4D 49 54            279         .ascii     "EMIT"
      000099                        280 EMIT:
      000099 E6 01            [ 1]  281         LD     A,(1,X)
      00009B 1C 00 02         [ 2]  282 	ADDW	X,#2
      00009E 72 0F 52 30 FB   [ 2]  283 OUTPUT: BTJF UART1_SR,#UART_SR_TXE,OUTPUT  ;loop until tdre
      0000A3 C7 52 31         [ 1]  284         LD    UART1_DR,A   ;send A
      0000A6 81               [ 4]  285         RET
                                    286 
                                    287 ;; The kernel
                                    288 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 7.
Hexadecimal [24-Bits]



                                    289 ;       doLIT   ( -- w )
                                    290 ;       Push an inline literal.
      0000A7 00 94                  291         .word      LINK
                           0000A9   292 LINK	= 	.
      0000A9 45                     293 	.byte      COMPO+5
      0000AA 64 6F 4C 69 74         294         .ascii     "doLit"
      0000AF                        295 DOLIT:
      0000AF 1D 00 02         [ 2]  296 	SUBW X,#2
      0000B2 90 85            [ 2]  297         POPW Y
      0000B4 90 BF 1C         [ 2]  298 	LDW YTEMP,Y
      0000B7 90 FE            [ 2]  299 	LDW Y,(Y)
      0000B9 FF               [ 2]  300         LDW (X),Y
      0000BA 90 BE 1C         [ 2]  301         LDW Y,YTEMP
      0000BD 90 EC 02         [ 2]  302 	JP (2,Y)
                                    303 
                                    304 ;       next    ( -- )
                                    305 ;       Code for  single index loop.
      0000C0 00 A9                  306         .word      LINK
                           0000C2   307 LINK	= 	.
      0000C2 44                     308 	.byte      COMPO+4
      0000C3 6E 65 78 74            309         .ascii     "next"
      0000C7                        310 DONXT:
      0000C7 16 03            [ 2]  311 	LDW Y,(3,SP)
      0000C9 90 5A            [ 2]  312 	DECW Y
      0000CB 2A 07            [ 1]  313 	JRPL NEX1
      0000CD 90 85            [ 2]  314 	POPW Y
      0000CF 84               [ 1]  315 	POP A
      0000D0 84               [ 1]  316 	POP A
      0000D1 90 EC 02         [ 2]  317     JP (2,Y)
      0000D4                        318 NEX1:
      0000D4 17 03            [ 2]  319     LDW (3,SP),Y
      0000D6 90 85            [ 2]  320     POPW Y
      0000D8 90 FE            [ 2]  321 	LDW Y,(Y)
      0000DA 90 FC            [ 2]  322 	JP (Y)
                                    323 
                                    324 ;       ?branch ( f -- )
                                    325 ;       Branch if flag is zero.
      0000DC 00 C2                  326         .word      LINK
                           0000DE   327 LINK	= 	.
      0000DE 47                     328 	.byte      COMPO+7
      0000DF 3F 62 72 61 6E 63 68   329         .ascii     "?branch"
      0000E6                        330 QBRAN:	
      0000E6 90 93            [ 1]  331         LDW Y,X
      0000E8 1C 00 02         [ 2]  332 	ADDW X,#2
      0000EB 90 FE            [ 2]  333 	LDW Y,(Y)
      0000ED 27 0E            [ 1]  334         JREQ     BRAN
      0000EF 90 85            [ 2]  335 	POPW Y
      0000F1 90 EC 02         [ 2]  336 	JP (2,Y)
                                    337         
                                    338 ;       branch  ( -- )
                                    339 ;       Branch to an inline address.
      0000F4 00 DE                  340         .word      LINK
                           0000F6   341 LINK	= 	.
      0000F6 46                     342 	.byte      COMPO+6
      0000F7 62 72 61 6E 63 68      343         .ascii     "branch"
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 8.
Hexadecimal [24-Bits]



      0000FD                        344 BRAN:
      0000FD 90 85            [ 2]  345         POPW Y
      0000FF 90 FE            [ 2]  346 	LDW Y,(Y)
      000101 90 FC            [ 2]  347         JP     (Y)
                                    348 
                                    349 ;       EXECUTE ( ca -- )
                                    350 ;       Execute  word at ca.
      000103 00 F6                  351         .word      LINK
                           000105   352 LINK	= 	.
      000105 07                     353         .byte       7
      000106 45 58 45 43 55 54 45   354         .ascii     "EXECUTE"
      00010D                        355 EXECU:
      00010D 90 93            [ 1]  356         LDW Y,X
      00010F 1C 00 02         [ 2]  357 	ADDW X,#2
      000112 90 FE            [ 2]  358 	LDW     Y,(Y)
      000114 90 FC            [ 2]  359         JP     (Y)
                                    360 
                                    361 ;       EXIT    ( -- )
                                    362 ;       Terminate a colon definition.
      000116 01 05                  363         .word      LINK
                           000118   364 LINK = .
      000118 04                     365         .byte      4
      000119 45 58 49 54            366         .ascii     "EXIT"
      00011D                        367 EXIT:
      00011D 90 85            [ 2]  368         POPW Y
      00011F 81               [ 4]  369         RET
                                    370 
                                    371 ;       !       ( w a -- )
                                    372 ;       Pop  data stack to memory.
      000120 01 18                  373         .word      LINK
                           000122   374 LINK = .
      000122 01                     375         .byte      1
      000123 21                     376         .ascii     "!"
      000124                        377 STORE:
      000124 90 93            [ 1]  378         LDW Y,X
      000126 90 FE            [ 2]  379         LDW Y,(Y)    ;Y=a
      000128 90 BF 1C         [ 2]  380         LDW YTEMP,Y
      00012B 90 93            [ 1]  381         LDW Y,X
      00012D 90 EE 02         [ 2]  382         LDW Y,(2,Y)
      000130 91 CF 1C         [ 5]  383         LDW [YTEMP],Y
      000133 1C 00 04         [ 2]  384         ADDW X,#4 ;store w at a
      000136 81               [ 4]  385         RET     
                                    386 
                                    387 ;       @       ( a -- w )
                                    388 ;       Push memory location to stack.
      000137 01 22                  389         .word      LINK
                           000139   390 LINK	= 	.
      000139 01                     391         .byte    1
      00013A 40                     392         .ascii	"@"
      00013B                        393 AT:
      00013B 90 93            [ 1]  394         LDW Y,X     ;Y = a
      00013D 90 FE            [ 2]  395         LDW Y,(Y)
      00013F 90 FE            [ 2]  396         LDW Y,(Y)
      000141 FF               [ 2]  397         LDW (X),Y ;w = @Y
      000142 81               [ 4]  398         RET     
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 9.
Hexadecimal [24-Bits]



                                    399 
                                    400 ;       C!      ( c b -- )
                                    401 ;       Pop  data stack to byte memory.
      000143 01 39                  402         .word      LINK
                           000145   403 LINK	= .
      000145 02                     404         .byte      2
      000146 43 21                  405         .ascii     "C!"
      000148                        406 CSTOR:
      000148 90 93            [ 1]  407         LDW Y,X
      00014A 90 FE            [ 2]  408 	LDW Y,(Y)    ;Y=b
      00014C E6 03            [ 1]  409         LD A,(3,X)    ;D = c
      00014E 90 F7            [ 1]  410         LD  (Y),A     ;store c at b
      000150 1C 00 04         [ 2]  411 	ADDW X,#4
      000153 81               [ 4]  412         RET     
                                    413 
                                    414 ;       C@      ( b -- c )
                                    415 ;       Push byte in memory to  stack.
      000154 01 45                  416         .word      LINK
                           000156   417 LINK	= 	.
      000156 02                     418         .byte      2
      000157 43 40                  419         .ascii     "C@"
      000159                        420 CAT:
      000159 90 93            [ 1]  421         LDW Y,X     ;Y=b
      00015B 90 FE            [ 2]  422         LDW Y,(Y)
      00015D 90 F6            [ 1]  423         LD A,(Y)
      00015F E7 01            [ 1]  424         LD (1,X),A
      000161 7F               [ 1]  425         CLR (X)
      000162 81               [ 4]  426         RET     
                                    427 
                                    428 ;       RP@     ( -- a )
                                    429 ;       Push current RP to data stack.
      000163 01 56                  430         .word      LINK
                           000165   431 LINK	= .
      000165 03                     432         .byte      3
      000166 72 70 40               433         .ascii     "rp@"
      000169                        434 RPAT:
      000169 90 96            [ 1]  435         LDW Y,SP    ;save return addr
      00016B 1D 00 02         [ 2]  436         SUBW X,#2
      00016E FF               [ 2]  437         LDW (X),Y
      00016F 81               [ 4]  438         RET     
                                    439 
                                    440 ;       RP!     ( a -- )
                                    441 ;       Set  return stack pointer.
      000170 01 65                  442         .word      LINK
                           000172   443 LINK	= 	. 
      000172 43                     444 	.byte      COMPO+3
      000173 72 70 21               445         .ascii     "rp!"
      000176                        446 RPSTO:
      000176 90 85            [ 2]  447         POPW Y
      000178 90 BF 1C         [ 2]  448         LDW YTEMP,Y
      00017B 90 93            [ 1]  449         LDW Y,X
      00017D 90 FE            [ 2]  450         LDW Y,(Y)
      00017F 90 94            [ 1]  451         LDW SP,Y
      000181 92 CC 1C         [ 5]  452         JP [YTEMP]
                                    453 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 10.
Hexadecimal [24-Bits]



                                    454 ;       R>      ( -- w )
                                    455 ;       Pop return stack to data stack.
      000184 01 72                  456         .word      LINK
                           000186   457 LINK	= 	. 
      000186 42                     458 	.byte      COMPO+2
      000187 52 3E                  459         .ascii     "R>"
      000189                        460 RFROM:
      000189 90 85            [ 2]  461         POPW Y    ;save return addr
      00018B 90 BF 1C         [ 2]  462         LDW YTEMP,Y
      00018E 90 85            [ 2]  463         POPW Y
      000190 1D 00 02         [ 2]  464         SUBW X,#2
      000193 FF               [ 2]  465         LDW (X),Y
      000194 92 CC 1C         [ 5]  466         JP [YTEMP]
                                    467 
                                    468 ;       R@      ( -- w )
                                    469 ;       Copy top of return stack to stack.
      000197 01 86                  470         .word      LINK
                           000199   471 LINK	= 	. 
      000199 02                     472         .byte      2
      00019A 52 40                  473         .ascii     "R@"
      00019C                        474 RAT:
      00019C 90 85            [ 2]  475         POPW Y
      00019E 90 BF 1C         [ 2]  476         LDW YTEMP,Y
      0001A1 90 85            [ 2]  477         POPW Y
      0001A3 90 89            [ 2]  478         PUSHW Y
      0001A5 1D 00 02         [ 2]  479         SUBW X,#2
      0001A8 FF               [ 2]  480         LDW (X),Y
      0001A9 92 CC 1C         [ 5]  481         JP [YTEMP]
                                    482 
                                    483 ;       >R      ( w -- )
                                    484 ;       Push data stack to return stack.
      0001AC 01 99                  485         .word      LINK
                           0001AE   486 LINK	= 	. 
      0001AE 42                     487 	.byte      COMPO+2
      0001AF 3E 52                  488         .ascii     ">R"
      0001B1                        489 TOR:
      0001B1 90 85            [ 2]  490         POPW Y    ;save return addr
      0001B3 90 BF 1C         [ 2]  491         LDW YTEMP,Y
      0001B6 90 93            [ 1]  492         LDW Y,X
      0001B8 90 FE            [ 2]  493         LDW Y,(Y)
      0001BA 90 89            [ 2]  494         PUSHW Y    ;restore return addr
      0001BC 1C 00 02         [ 2]  495         ADDW X,#2
      0001BF 92 CC 1C         [ 5]  496         JP [YTEMP]
                                    497 
                                    498 ;       SP@     ( -- a )
                                    499 ;       Push current stack pointer.
      0001C2 01 AE                  500         .word      LINK
                           0001C4   501 LINK	= 	. 
      0001C4 03                     502         .byte      3
      0001C5 73 70 40               503         .ascii     "sp@"
      0001C8                        504 SPAT:
      0001C8 90 93            [ 1]  505 	LDW Y,X
      0001CA 1D 00 02         [ 2]  506         SUBW X,#2
      0001CD FF               [ 2]  507 	LDW (X),Y
      0001CE 81               [ 4]  508         RET     
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 11.
Hexadecimal [24-Bits]



                                    509 
                                    510 ;       SP!     ( a -- )
                                    511 ;       Set  data stack pointer.
      0001CF 01 C4                  512         .word      LINK
                           0001D1   513 LINK	= 	. 
      0001D1 03                     514         .byte      3
      0001D2 73 70 21               515         .ascii     "sp!"
      0001D5                        516 SPSTO:
      0001D5 FE               [ 2]  517         LDW     X,(X)     ;X = a
      0001D6 81               [ 4]  518         RET     
                                    519 
                                    520 ;       DROP    ( w -- )
                                    521 ;       Discard top stack item.
      0001D7 01 D1                  522         .word      LINK
                           0001D9   523 LINK	= 	. 
      0001D9 04                     524         .byte      4
      0001DA 44 52 4F 50            525         .ascii     "DROP"
      0001DE                        526 DROP:
      0001DE 1C 00 02         [ 2]  527         ADDW X,#2     
      0001E1 81               [ 4]  528         RET     
                                    529 
                                    530 ;       DUP     ( w -- w w )
                                    531 ;       Duplicate  top stack item.
      0001E2 01 D9                  532         .word      LINK
                           0001E4   533 LINK	= 	. 
      0001E4 03                     534         .byte      3
      0001E5 44 55 50               535         .ascii     "DUP"
      0001E8                        536 DUPP:
      0001E8 90 93            [ 1]  537 				LDW Y,X
      0001EA 1D 00 02         [ 2]  538         SUBW X,#2
      0001ED 90 FE            [ 2]  539 				LDW Y,(Y)
      0001EF FF               [ 2]  540 				LDW (X),Y
      0001F0 81               [ 4]  541         RET     
                                    542 
                                    543 ;       SWAP    ( w1 w2 -- w2 w1 )
                                    544 ;       Exchange top two stack items.
      0001F1 01 E4                  545         .word      LINK
                           0001F3   546 LINK	= 	. 
      0001F3 04                     547         .byte      4
      0001F4 53 57 41 50            548         .ascii     "SWAP"
      0001F8                        549 SWAPP:
      0001F8 90 93            [ 1]  550         LDW Y,X
      0001FA 90 FE            [ 2]  551         LDW Y,(Y)
      0001FC 90 BF 1C         [ 2]  552         LDW YTEMP,Y
      0001FF 90 93            [ 1]  553         LDW Y,X
      000201 90 EE 02         [ 2]  554         LDW Y,(2,Y)
      000204 FF               [ 2]  555         LDW (X),Y
      000205 90 BE 1C         [ 2]  556         LDW Y,YTEMP
      000208 EF 02            [ 2]  557         LDW (2,X),Y
      00020A 81               [ 4]  558         RET     
                                    559 
                                    560 ;       OVER    ( w1 w2 -- w1 w2 w1 )
                                    561 ;       Copy second stack item to top.
      00020B 01 F3                  562         .word      LINK
                           00020D   563 LINK	= . 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 12.
Hexadecimal [24-Bits]



      00020D 04                     564         .byte      4
      00020E 4F 56 45 52            565         .ascii     "OVER"
      000212                        566 OVER:
      000212 1D 00 02         [ 2]  567         SUBW X,#2
      000215 90 93            [ 1]  568         LDW Y,X
      000217 90 EE 04         [ 2]  569         LDW Y,(4,Y)
      00021A FF               [ 2]  570         LDW (X),Y
      00021B 81               [ 4]  571         RET     
                                    572 
                                    573 ;       0<      ( n -- t )
                                    574 ;       Return true if n is negative.
      00021C 02 0D                  575         .word      LINK
                           00021E   576 LINK	= . 
      00021E 02                     577         .byte      2
      00021F 30 3C                  578         .ascii     "0<"
      000221                        579 ZLESS:
      000221 A6 FF            [ 1]  580         LD A,#0xFF
      000223 90 93            [ 1]  581         LDW Y,X
      000225 90 FE            [ 2]  582         LDW Y,(Y)
      000227 2B 01            [ 1]  583         JRMI     ZL1
      000229 4F               [ 1]  584         CLR A   ;false
      00022A F7               [ 1]  585 ZL1:    LD     (X),A
      00022B E7 01            [ 1]  586         LD (1,X),A
      00022D 81               [ 4]  587 	RET     
                                    588 
                                    589 ;       AND     ( w w -- w )
                                    590 ;       Bitwise AND.
      00022E 02 1E                  591         .word      LINK
                           000230   592 LINK	= . 
      000230 03                     593         .byte      3
      000231 41 4E 44               594         .ascii     "AND"
      000234                        595 ANDD:
      000234 F6               [ 1]  596         LD  A,(X)    ;D=w
      000235 E4 02            [ 1]  597         AND A,(2,X)
      000237 E7 02            [ 1]  598         LD (2,X),A
      000239 E6 01            [ 1]  599         LD A,(1,X)
      00023B E4 03            [ 1]  600         AND A,(3,X)
      00023D E7 03            [ 1]  601         LD (3,X),A
      00023F 1C 00 02         [ 2]  602         ADDW X,#2
      000242 81               [ 4]  603         RET
                                    604 
                                    605 ;       OR      ( w w -- w )
                                    606 ;       Bitwise inclusive OR.
      000243 02 30                  607         .word      LINK
                           000245   608 LINK = . 
      000245 02                     609         .byte      2
      000246 4F 52                  610         .ascii     "OR"
      000248                        611 ORR:
      000248 F6               [ 1]  612         LD A,(X)    ;D=w
      000249 EA 02            [ 1]  613         OR A,(2,X)
      00024B E7 02            [ 1]  614         LD (2,X),A
      00024D E6 01            [ 1]  615         LD A,(1,X)
      00024F EA 03            [ 1]  616         OR A,(3,X)
      000251 E7 03            [ 1]  617         LD (3,X),A
      000253 1C 00 02         [ 2]  618         ADDW X,#2
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 13.
Hexadecimal [24-Bits]



      000256 81               [ 4]  619         RET
                                    620 
                                    621 ;       XOR     ( w w -- w )
                                    622 ;       Bitwise exclusive OR.
      000257 02 45                  623         .word      LINK
                           000259   624 LINK	= . 
      000259 03                     625         .byte      3
      00025A 58 4F 52               626         .ascii     "XOR"
      00025D                        627 XORR:
      00025D F6               [ 1]  628         LD A,(X)    ;D=w
      00025E E8 02            [ 1]  629         XOR A,(2,X)
      000260 E7 02            [ 1]  630         LD (2,X),A
      000262 E6 01            [ 1]  631         LD A,(1,X)
      000264 E8 03            [ 1]  632         XOR A,(3,X)
      000266 E7 03            [ 1]  633         LD (3,X),A
      000268 1C 00 02         [ 2]  634         ADDW X,#2
      00026B 81               [ 4]  635         RET
                                    636 
                                    637 ;       UM+     ( u u -- udsum )
                                    638 ;       Add two unsigned single
                                    639 ;       and return a double sum.
      00026C 02 59                  640         .word      LINK
                           00026E   641 LINK	= . 
      00026E 03                     642         .byte      3
      00026F 55 4D 2B               643         .ascii     "UM+"
      000272                        644 UPLUS:
      000272 A6 01            [ 1]  645         LD A,#1
      000274 90 93            [ 1]  646         LDW Y,X
      000276 90 EE 02         [ 2]  647         LDW Y,(2,Y)
      000279 90 BF 1C         [ 2]  648         LDW YTEMP,Y
      00027C 90 93            [ 1]  649         LDW Y,X
      00027E 90 FE            [ 2]  650         LDW Y,(Y)
      000280 72 B9 00 1C      [ 2]  651         ADDW Y,YTEMP
      000284 EF 02            [ 2]  652         LDW (2,X),Y
      000286 25 01            [ 1]  653         JRC     UPL1
      000288 4F               [ 1]  654         CLR A
      000289 E7 01            [ 1]  655 UPL1:   LD     (1,X),A
      00028B 7F               [ 1]  656         CLR (X)
      00028C 81               [ 4]  657         RET
                                    658 
                                    659 ;; System and user variables
                                    660 
                                    661 ;       doVAR   ( -- a )
                                    662 ;       Code for VARIABLE and CREATE.
      00028D 02 6E                  663         .word      LINK
                           00028F   664 LINK	= . 
      00028F 45                     665 	.byte      COMPO+5
      000290 64 6F 56 61 72         666         .ascii     "doVar"
      000295                        667 DOVAR:
      000295 1D 00 02         [ 2]  668 	SUBW X,#2
      000298 90 85            [ 2]  669         POPW Y    ;get return addr (pfa)
      00029A FF               [ 2]  670         LDW (X),Y    ;push on stack
      00029B 81               [ 4]  671         RET     ;go to RET of EXEC
                                    672 
                                    673 ;       BASE    ( -- a )
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 14.
Hexadecimal [24-Bits]



                                    674 ;       Radix base for numeric I/O.
      00029C 02 8F                  675         .word      LINK        
                           00029E   676 LINK = . 
      00029E 04                     677         .byte      4
      00029F 42 41 53 45            678         .ascii     "BASE"
      0002A3                        679 BASE:
      0002A3 90 AE 00 06      [ 2]  680 	LDW Y,#RAMBASE+6
      0002A7 1D 00 02         [ 2]  681 	SUBW X,#2
      0002AA FF               [ 2]  682         LDW (X),Y
      0002AB 81               [ 4]  683         RET
                                    684 
                                    685 ;       tmp     ( -- a )
                                    686 ;       A temporary storage.
      0002AC 02 9E                  687         .word      LINK
                                    688         
                           0002AE   689 LINK = . 
      0002AE 03                     690 	.byte      3
      0002AF 74 6D 70               691         .ascii     "tmp"
      0002B2                        692 TEMP:
      0002B2 90 AE 00 08      [ 2]  693 	LDW Y,#RAMBASE+8
      0002B6 1D 00 02         [ 2]  694 	SUBW X,#2
      0002B9 FF               [ 2]  695         LDW (X),Y
      0002BA 81               [ 4]  696         RET
                                    697 
                                    698 ;       >IN     ( -- a )
                                    699 ;        Hold parsing pointer.
      0002BB 02 AE                  700         .word      LINK
                           0002BD   701 LINK = . 
      0002BD 03                     702         .byte      3
      0002BE 3E 49 4E               703         .ascii    ">IN"
      0002C1                        704 INN:
      0002C1 90 AE 00 0A      [ 2]  705 	LDW Y,#RAMBASE+10
      0002C5 1D 00 02         [ 2]  706 	SUBW X,#2
      0002C8 FF               [ 2]  707         LDW (X),Y
      0002C9 81               [ 4]  708         RET
                                    709 
                                    710 ;       #TIB    ( -- a )
                                    711 ;       Count in terminal input buffer.
      0002CA 02 BD                  712         .word      LINK
                           0002CC   713 LINK = . 
      0002CC 04                     714         .byte      4
      0002CD 23 54 49 42            715         .ascii     "#TIB"
      0002D1                        716 NTIB:
      0002D1 90 AE 00 0C      [ 2]  717 	LDW Y,#RAMBASE+12
      0002D5 1D 00 02         [ 2]  718 	SUBW X,#2
      0002D8 FF               [ 2]  719         LDW (X),Y
      0002D9 81               [ 4]  720         RET
                                    721 
                                    722 ;       "EVAL   ( -- a )
                                    723 ;       Execution vector of EVAL.
      0002DA 02 CC                  724         .word      LINK
                           0002DC   725 LINK = . 
      0002DC 05                     726         .byte      5
      0002DD 27 65 76 61 6C         727         .ascii     "'eval"
      0002E2                        728 TEVAL:
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 15.
Hexadecimal [24-Bits]



      0002E2 90 AE 00 10      [ 2]  729 	LDW Y,#RAMBASE+16
      0002E6 1D 00 02         [ 2]  730 	SUBW X,#2
      0002E9 FF               [ 2]  731         LDW (X),Y
      0002EA 81               [ 4]  732         RET
                                    733 
                                    734 ;       HLD     ( -- a )
                                    735 ;       Hold a pointer of output string.
      0002EB 02 DC                  736         .word      LINK
                           0002ED   737 LINK = . 
      0002ED 03                     738         .byte      3
      0002EE 68 6C 64               739         .ascii     "hld"
      0002F1                        740 HLD:
      0002F1 90 AE 00 12      [ 2]  741 	LDW Y,#RAMBASE+18
      0002F5 1D 00 02         [ 2]  742 	SUBW X,#2
      0002F8 FF               [ 2]  743         LDW (X),Y
      0002F9 81               [ 4]  744         RET
                                    745 
                                    746 ;       CONTEXT ( -- a )
                                    747 ;       Start vocabulary search.
      0002FA 02 ED                  748         .word      LINK
                           0002FC   749 LINK = . 
      0002FC 07                     750         .byte      7
      0002FD 43 4F 4E 54 45 58 54   751         .ascii     "CONTEXT"
      000304                        752 CNTXT:
      000304 90 AE 00 14      [ 2]  753 	LDW Y,#RAMBASE+20
      000308 1D 00 02         [ 2]  754 	SUBW X,#2
      00030B FF               [ 2]  755         LDW (X),Y
      00030C 81               [ 4]  756         RET
                                    757 
                                    758 ;       CP      ( -- a )
                                    759 ;       Point to top of dictionary.
      00030D 02 FC                  760         .word      LINK
                           00030F   761 LINK = . 
      00030F 02                     762         .byte      2
      000310 63 70                  763         .ascii     "cp"
      000312                        764 CPP:
      000312 90 AE 00 16      [ 2]  765 	LDW Y,#RAMBASE+22
      000316 1D 00 02         [ 2]  766 	SUBW X,#2
      000319 FF               [ 2]  767         LDW (X),Y
      00031A 81               [ 4]  768         RET
                                    769 
                                    770 ;       LAST    ( -- a )
                                    771 ;       Point to last name in dictionary.
      00031B 03 0F                  772         .word      LINK
                           00031D   773 LINK = . 
      00031D 04                     774         .byte      4
      00031E 6C 61 73 74            775         .ascii     "last"
      000322                        776 LAST:
      000322 90 AE 00 18      [ 2]  777 	LDW Y,#RAMBASE+24
      000326 1D 00 02         [ 2]  778 	SUBW X,#2
      000329 FF               [ 2]  779         LDW (X),Y
      00032A 81               [ 4]  780         RET
                                    781 
                                    782 ;; Common functions
                                    783 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 16.
Hexadecimal [24-Bits]



                                    784 ;       ?DUP    ( w -- w w | 0 )
                                    785 ;       Dup tos if its is not zero.
      00032B 03 1D                  786         .word      LINK
                           00032D   787 LINK = . 
      00032D 04                     788         .byte      4
      00032E 3F 44 55 50            789         .ascii     "?DUP"
      000332                        790 QDUP:
      000332 90 93            [ 1]  791         LDW Y,X
      000334 90 FE            [ 2]  792 	LDW Y,(Y)
      000336 27 04            [ 1]  793         JREQ     QDUP1
      000338 1D 00 02         [ 2]  794 	SUBW X,#2
      00033B FF               [ 2]  795         LDW (X),Y
      00033C 81               [ 4]  796 QDUP1:  RET
                                    797 
                                    798 ;       ROT     ( w1 w2 w3 -- w2 w3 w1 )
                                    799 ;       Rot 3rd item to top.
      00033D 03 2D                  800         .word      LINK
                           00033F   801 LINK = . 
      00033F 03                     802         .byte      3
      000340 52 4F 54               803         .ascii     "ROT"
      000343                        804 ROT:
      000343 90 93            [ 1]  805         LDW Y,X
      000345 90 EE 04         [ 2]  806 	LDW Y,(4,Y)
      000348 90 BF 1C         [ 2]  807 	LDW YTEMP,Y
      00034B 90 93            [ 1]  808         LDW Y,X
      00034D 90 EE 02         [ 2]  809         LDW Y,(2,Y)
      000350 90 BF 1A         [ 2]  810         LDW XTEMP,Y
      000353 90 93            [ 1]  811         LDW Y,X
      000355 90 FE            [ 2]  812         LDW Y,(Y)
      000357 EF 02            [ 2]  813         LDW (2,X),Y
      000359 90 BE 1A         [ 2]  814         LDW Y,XTEMP
      00035C EF 04            [ 2]  815         LDW (4,X),Y
      00035E 90 BE 1C         [ 2]  816         LDW Y,YTEMP
      000361 FF               [ 2]  817         LDW (X),Y
      000362 81               [ 4]  818         RET
                                    819 
                                    820 ;       2DROP   ( w w -- )
                                    821 ;       Discard two items on stack.
      000363 03 3F                  822         .word      LINK
                           000365   823 LINK = . 
      000365 05                     824         .byte      5
      000366 32 44 52 4F 50         825         .ascii     "2DROP"
      00036B                        826 DDROP:
      00036B 1C 00 04         [ 2]  827         ADDW X,#4
      00036E 81               [ 4]  828         RET
                                    829 
                                    830 ;       2DUP    ( w1 w2 -- w1 w2 w1 w2 )
                                    831 ;       Duplicate top two items.
      00036F 03 65                  832         .word      LINK
                           000371   833 LINK = . 
      000371 04                     834         .byte      4
      000372 32 44 55 50            835         .ascii     "2DUP"
      000376                        836 DDUP:
      000376 1D 00 04         [ 2]  837         SUBW X,#4
      000379 90 93            [ 1]  838         LDW Y,X
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 17.
Hexadecimal [24-Bits]



      00037B 90 EE 06         [ 2]  839         LDW Y,(6,Y)
      00037E EF 02            [ 2]  840         LDW (2,X),Y
      000380 90 93            [ 1]  841         LDW Y,X
      000382 90 EE 04         [ 2]  842         LDW Y,(4,Y)
      000385 FF               [ 2]  843         LDW (X),Y
      000386 81               [ 4]  844         RET
                                    845 
                                    846 ;       +       ( w w -- sum )
                                    847 ;       Add top two items.
      000387 03 71                  848         .word      LINK
                           000389   849 LINK = . 
      000389 01                     850         .byte      1
      00038A 2B                     851         .ascii     "+"
      00038B                        852 PLUS:
      00038B 90 93            [ 1]  853         LDW Y,X
      00038D 90 FE            [ 2]  854         LDW Y,(Y)
      00038F 90 BF 1C         [ 2]  855         LDW YTEMP,Y
      000392 1C 00 02         [ 2]  856         ADDW X,#2
      000395 90 93            [ 1]  857         LDW Y,X
      000397 90 FE            [ 2]  858         LDW Y,(Y)
      000399 72 B9 00 1C      [ 2]  859         ADDW Y,YTEMP
      00039D FF               [ 2]  860         LDW (X),Y
      00039E 81               [ 4]  861         RET
                                    862 
                                    863 ;       NOT     ( w -- w )
                                    864 ;       One's complement of tos.
      00039F 03 89                  865         .word      LINK
                           0003A1   866 LINK = . 
      0003A1 03                     867         .byte      3
      0003A2 4E 4F 54               868         .ascii     "NOT"
      0003A5                        869 INVER:
      0003A5 90 93            [ 1]  870         LDW Y,X
      0003A7 90 FE            [ 2]  871         LDW Y,(Y)
      0003A9 90 53            [ 2]  872         CPLW Y
      0003AB FF               [ 2]  873         LDW (X),Y
      0003AC 81               [ 4]  874         RET
                                    875 
                                    876 ;       NEGATE  ( n -- -n )
                                    877 ;       Two's complement of tos.
      0003AD 03 A1                  878         .word      LINK
                           0003AF   879 LINK = . 
      0003AF 06                     880         .byte      6
      0003B0 4E 45 47 41 54 45      881         .ascii     "NEGATE"
      0003B6                        882 NEGAT:
      0003B6 90 93            [ 1]  883         LDW Y,X
      0003B8 90 FE            [ 2]  884         LDW Y,(Y)
      0003BA 90 50            [ 2]  885         NEGW Y
      0003BC FF               [ 2]  886         LDW (X),Y
      0003BD 81               [ 4]  887         RET
                                    888 
                                    889 ;       DNEGATE ( d -- -d )
                                    890 ;       Two's complement of top double.
      0003BE 03 AF                  891         .word      LINK
                           0003C0   892 LINK = . 
      0003C0 07                     893         .byte      7
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 18.
Hexadecimal [24-Bits]



      0003C1 44 4E 45 47 41 54 45   894         .ascii     "DNEGATE"
      0003C8                        895 DNEGA:
      0003C8 90 93            [ 1]  896         LDW Y,X
      0003CA 90 FE            [ 2]  897 	LDW Y,(Y)
      0003CC 90 53            [ 2]  898         CPLW Y     
      0003CE 90 BF 1C         [ 2]  899 	LDW YTEMP,Y
      0003D1 90 93            [ 1]  900         LDW Y,X
      0003D3 90 EE 02         [ 2]  901         LDW Y,(2,Y)
      0003D6 90 53            [ 2]  902         CPLW Y
      0003D8 90 5C            [ 1]  903         INCW Y
      0003DA EF 02            [ 2]  904         LDW (2,X),Y
      0003DC 90 BE 1C         [ 2]  905         LDW Y,YTEMP
      0003DF 24 02            [ 1]  906         JRNC DN1 
      0003E1 90 5C            [ 1]  907         INCW Y
      0003E3 FF               [ 2]  908 DN1:    LDW (X),Y
      0003E4 81               [ 4]  909         RET
                                    910 
                                    911 ;       -       ( n1 n2 -- n1-n2 )
                                    912 ;       Subtraction.
      0003E5 03 C0                  913         .word      LINK
                           0003E7   914 LINK = . 
      0003E7 01                     915         .byte      1
      0003E8 2D                     916         .ascii     "-"
      0003E9                        917 SUBB:
      0003E9 90 93            [ 1]  918         LDW Y,X
      0003EB 90 FE            [ 2]  919         LDW Y,(Y)
      0003ED 90 BF 1C         [ 2]  920         LDW YTEMP,Y
      0003F0 1C 00 02         [ 2]  921         ADDW X,#2
      0003F3 90 93            [ 1]  922         LDW Y,X
      0003F5 90 FE            [ 2]  923         LDW Y,(Y)
      0003F7 72 B2 00 1C      [ 2]  924         SUBW Y,YTEMP
      0003FB FF               [ 2]  925         LDW (X),Y
      0003FC 81               [ 4]  926         RET
                                    927 
                                    928 ;       ABS     ( n -- n )
                                    929 ;       Return  absolute value of n.
      0003FD 03 E7                  930         .word      LINK
                           0003FF   931 LINK = . 
      0003FF 03                     932         .byte      3
      000400 41 42 53               933         .ascii     "ABS"
      000403                        934 ABSS:
      000403 90 93            [ 1]  935         LDW Y,X
      000405 90 FE            [ 2]  936 	LDW Y,(Y)
      000407 2A 03            [ 1]  937         JRPL     AB1     ;negate:
      000409 90 50            [ 2]  938         NEGW     Y     ;else negate hi byte
      00040B FF               [ 2]  939         LDW (X),Y
      00040C 81               [ 4]  940 AB1:    RET
                                    941 
                                    942 ;       =       ( w w -- t )
                                    943 ;       Return true if top two are =al.
      00040D 03 FF                  944         .word      LINK
                           00040F   945 LINK = . 
      00040F 01                     946         .byte      1
      000410 3D                     947         .ascii     "="
      000411                        948 EQUAL:
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 19.
Hexadecimal [24-Bits]



      000411 A6 FF            [ 1]  949         LD A,#0xFF  ;true
      000413 90 93            [ 1]  950         LDW Y,X    ;D = n2
      000415 90 FE            [ 2]  951         LDW Y,(Y)
      000417 90 BF 1C         [ 2]  952         LDW YTEMP,Y
      00041A 1C 00 02         [ 2]  953         ADDW X,#2
      00041D 90 93            [ 1]  954         LDW Y,X
      00041F 90 FE            [ 2]  955         LDW Y,(Y)
      000421 90 B3 1C         [ 2]  956         CPW Y,YTEMP     ;if n2 <> n1
      000424 27 01            [ 1]  957         JREQ     EQ1
      000426 4F               [ 1]  958         CLR A
      000427 F7               [ 1]  959 EQ1:    LD (X),A
      000428 E7 01            [ 1]  960         LD (1,X),A
      00042A 81               [ 4]  961 	RET     
                                    962 
                                    963 ;       U<      ( u u -- t )
                                    964 ;       Unsigned compare of top two items.
      00042B 04 0F                  965         .word      LINK
                           00042D   966 LINK = . 
      00042D 02                     967         .byte      2
      00042E 55 3C                  968         .ascii     "U<"
      000430                        969 ULESS:
      000430 A6 FF            [ 1]  970         LD A,#0xFF  ;true
      000432 90 93            [ 1]  971         LDW Y,X    ;D = n2
      000434 90 FE            [ 2]  972         LDW Y,(Y)
      000436 90 BF 1C         [ 2]  973         LDW YTEMP,Y
      000439 1C 00 02         [ 2]  974         ADDW X,#2
      00043C 90 93            [ 1]  975         LDW Y,X
      00043E 90 FE            [ 2]  976         LDW Y,(Y)
      000440 90 B3 1C         [ 2]  977         CPW Y,YTEMP     ;if n2 <> n1
      000443 25 01            [ 1]  978         JRULT     ULES1
      000445 4F               [ 1]  979         CLR A
      000446 F7               [ 1]  980 ULES1:  LD (X),A
      000447 E7 01            [ 1]  981         LD (1,X),A
      000449 81               [ 4]  982 	RET     
                                    983 
                                    984 ;       <       ( n1 n2 -- t )
                                    985 ;       Signed compare of top two items.
      00044A 04 2D                  986         .word      LINK
                           00044C   987 LINK = . 
      00044C 01                     988         .byte      1
      00044D 3C                     989         .ascii     "<"
      00044E                        990 LESS:
      00044E A6 FF            [ 1]  991         LD A,#0xFF  ;true
      000450 90 93            [ 1]  992         LDW Y,X    ;D = n2
      000452 90 FE            [ 2]  993         LDW Y,(Y)
      000454 90 BF 1C         [ 2]  994         LDW YTEMP,Y
      000457 1C 00 02         [ 2]  995         ADDW X,#2
      00045A 90 93            [ 1]  996         LDW Y,X
      00045C 90 FE            [ 2]  997         LDW Y,(Y)
      00045E 90 B3 1C         [ 2]  998         CPW Y,YTEMP     ;if n2 <> n1
      000461 2F 01            [ 1]  999         JRSLT     LT1
      000463 4F               [ 1] 1000         CLR A
      000464 F7               [ 1] 1001 LT1:    LD (X),A
      000465 E7 01            [ 1] 1002         LD (1,X),A
      000467 81               [ 4] 1003 	RET     
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 20.
Hexadecimal [24-Bits]



                                   1004 
                                   1005 ;       MAX     ( n n -- n )
                                   1006 ;       Return greater of two top items.
      000468 04 4C                 1007         .word      LINK
                           00046A  1008 LINK = . 
      00046A 03                    1009         .byte      3
      00046B 4D 41 58              1010         .ascii     "MAX"
      00046E                       1011 MAX:
      00046E 90 93            [ 1] 1012         LDW Y,X    ;D = n2
      000470 90 EE 02         [ 2] 1013         LDW Y,(2,Y)
      000473 90 BF 1C         [ 2] 1014         LDW YTEMP,Y
      000476 90 93            [ 1] 1015         LDW Y,X
      000478 90 FE            [ 2] 1016         LDW Y,(Y)
      00047A 90 B3 1C         [ 2] 1017         CPW Y,YTEMP     ;if n2 <> n1
      00047D 2F 02            [ 1] 1018         JRSLT     MAX1
      00047F EF 02            [ 2] 1019         LDW (2,X),Y
      000481 1C 00 02         [ 2] 1020 MAX1:   ADDW X,#2
      000484 81               [ 4] 1021 	RET     
                                   1022 
                                   1023 ;       MIN     ( n n -- n )
                                   1024 ;       Return smaller of top two items.
      000485 04 6A                 1025         .word      LINK
                           000487  1026 LINK = . 
      000487 03                    1027         .byte      3
      000488 4D 49 4E              1028         .ascii     "MIN"
      00048B                       1029 MIN:
      00048B 90 93            [ 1] 1030         LDW Y,X    ;D = n2
      00048D 90 EE 02         [ 2] 1031         LDW Y,(2,Y)
      000490 90 BF 1C         [ 2] 1032         LDW YTEMP,Y
      000493 90 93            [ 1] 1033         LDW Y,X
      000495 90 FE            [ 2] 1034         LDW Y,(Y)
      000497 90 B3 1C         [ 2] 1035         CPW Y,YTEMP     ;if n2 <> n1
      00049A 2C 02            [ 1] 1036         JRSGT     MIN1
      00049C EF 02            [ 2] 1037         LDW (2,X),Y
      00049E 1C 00 02         [ 2] 1038 MIN1:	ADDW X,#2
      0004A1 81               [ 4] 1039 	RET     
                                   1040 
                                   1041 ;       WITHIN  ( u ul uh -- t )
                                   1042 ;       Return true if u is within
                                   1043 ;       range of ul and uh. ( ul <= u < uh )
      0004A2 04 87                 1044         .word      LINK
                           0004A4  1045 LINK = . 
      0004A4 06                    1046         .byte      6
      0004A5 57 49 54 48 49 4E     1047         .ascii     "WITHIN"
      0004AB                       1048 WITHI:
      0004AB CD 02 12         [ 4] 1049         CALL     OVER
      0004AE CD 03 E9         [ 4] 1050         CALL     SUBB
      0004B1 CD 01 B1         [ 4] 1051         CALL     TOR
      0004B4 CD 03 E9         [ 4] 1052         CALL     SUBB
      0004B7 CD 01 89         [ 4] 1053         CALL     RFROM
      0004BA CC 04 30         [ 2] 1054         JP     ULESS
                                   1055 
                                   1056 ;; Divide
                                   1057 
                                   1058 ;       UM/MOD  ( udl udh un -- ur uq )
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 21.
Hexadecimal [24-Bits]



                                   1059 ;       Unsigned divide of a double by a
                                   1060 ;       single. Return mod and quotient.
      0004BD 04 A4                 1061         .word      LINK
                           0004BF  1062 LINK = . 
      0004BF 06                    1063         .byte      6
      0004C0 55 4D 2F 4D 4F 44     1064         .ascii     "UM/MOD"
      0004C6                       1065 UMMOD:
      0004C6 BF 1A            [ 2] 1066 	LDW XTEMP,X	; save stack pointer
      0004C8 FE               [ 2] 1067 	LDW X,(X)		; un
      0004C9 BF 1C            [ 2] 1068 	LDW YTEMP,X ; save un
      0004CB 90 BE 1A         [ 2] 1069 	LDW Y,XTEMP	; stack pointer
      0004CE 90 EE 04         [ 2] 1070 	LDW Y,(4,Y) ; Y=udl
      0004D1 BE 1A            [ 2] 1071 	LDW X,XTEMP
      0004D3 EE 02            [ 2] 1072 	LDW X,(2,X)	; X=udh
      0004D5 B3 1C            [ 2] 1073 	CPW X,YTEMP
      0004D7 23 0F            [ 2] 1074 	JRULE MMSM1
      0004D9 BE 1A            [ 2] 1075 	LDW X,XTEMP
      0004DB 1C 00 02         [ 2] 1076 	ADDW X,#2	; pop off 1 level
      0004DE 90 AE FF FF      [ 2] 1077 	LDW Y,#0xFFFF
      0004E2 FF               [ 2] 1078 	LDW (X),Y
      0004E3 90 5F            [ 1] 1079 	CLRW Y
      0004E5 EF 02            [ 2] 1080 	LDW (2,X),Y
      0004E7 81               [ 4] 1081 	RET
      0004E8                       1082 MMSM1:
      0004E8 A6 11            [ 1] 1083 	LD A,#17	; loop count
      0004EA                       1084 MMSM3:
      0004EA B3 1C            [ 2] 1085 	CPW X,YTEMP	; compare udh to un
      0004EC 25 04            [ 1] 1086 	JRULT MMSM4	; can't subtract
      0004EE 72 B0 00 1C      [ 2] 1087 	SUBW X,YTEMP	; can subtract
      0004F2                       1088 MMSM4:
      0004F2 8C               [ 1] 1089 	CCF	; quotient bit
      0004F3 90 59            [ 2] 1090 	RLCW Y	; rotate into quotient
      0004F5 59               [ 2] 1091 	RLCW X	; rotate into remainder
      0004F6 4A               [ 1] 1092 	DEC A	; repeat
      0004F7 22 F1            [ 1] 1093 	JRUGT MMSM3
      0004F9 57               [ 2] 1094 	SRAW X
      0004FA BF 1C            [ 2] 1095 	LDW YTEMP,X	; done, save remainder
      0004FC BE 1A            [ 2] 1096 	LDW X,XTEMP
      0004FE 1C 00 02         [ 2] 1097 	ADDW X,#2	; drop
      000501 FF               [ 2] 1098 	LDW (X),Y
      000502 90 BE 1C         [ 2] 1099 	LDW Y,YTEMP	; save quotient
      000505 EF 02            [ 2] 1100 	LDW (2,X),Y
      000507 81               [ 4] 1101 	RET
                                   1102 	
                                   1103 ;       M/MOD   ( d n -- r q )
                                   1104 ;       Signed floored divide of double by
                                   1105 ;       single. Return mod and quotient.
      000508 04 BF                 1106         .word      LINK
                           00050A  1107 LINK = . 
      00050A 05                    1108         .byte      5
      00050B 4D 2F 4D 4F 44        1109         .ascii     "M/MOD"
      000510                       1110 MSMOD:  
      000510 CD 01 E8         [ 4] 1111         CALL	DUPP
      000513 CD 02 21         [ 4] 1112         CALL	ZLESS
      000516 CD 01 E8         [ 4] 1113         CALL	DUPP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 22.
Hexadecimal [24-Bits]



      000519 CD 01 B1         [ 4] 1114         CALL	TOR
      00051C CD 00 E6         [ 4] 1115         CALL	QBRAN
      00051F 05 2D                 1116         .word	MMOD1
      000521 CD 03 B6         [ 4] 1117         CALL	NEGAT
      000524 CD 01 B1         [ 4] 1118         CALL	TOR
      000527 CD 03 C8         [ 4] 1119         CALL	DNEGA
      00052A CD 01 89         [ 4] 1120         CALL	RFROM
      00052D CD 01 B1         [ 4] 1121 MMOD1:	CALL	TOR
      000530 CD 01 E8         [ 4] 1122         CALL	DUPP
      000533 CD 02 21         [ 4] 1123         CALL	ZLESS
      000536 CD 00 E6         [ 4] 1124         CALL	QBRAN
      000539 05 41                 1125         .word	MMOD2
      00053B CD 01 9C         [ 4] 1126         CALL	RAT
      00053E CD 03 8B         [ 4] 1127         CALL	PLUS
      000541 CD 01 89         [ 4] 1128 MMOD2:	CALL	RFROM
      000544 CD 04 C6         [ 4] 1129         CALL	UMMOD
      000547 CD 01 89         [ 4] 1130         CALL	RFROM
      00054A CD 00 E6         [ 4] 1131         CALL	QBRAN
      00054D 05 58                 1132         .word	MMOD3
      00054F CD 01 F8         [ 4] 1133         CALL	SWAPP
      000552 CD 03 B6         [ 4] 1134         CALL	NEGAT
      000555 CD 01 F8         [ 4] 1135         CALL	SWAPP
      000558 81               [ 4] 1136 MMOD3:	RET
                                   1137 
                                   1138 ;       /MOD    ( n n -- r q )
                                   1139 ;       Signed divide. Return mod and quotient.
      000559 05 0A                 1140         .word      LINK
                           00055B  1141 LINK = . 
      00055B 04                    1142         .byte      4
      00055C 2F 4D 4F 44           1143         .ascii     "/MOD"
      000560                       1144 SLMOD:
      000560 CD 02 12         [ 4] 1145         CALL	OVER
      000563 CD 02 21         [ 4] 1146         CALL	ZLESS
      000566 CD 01 F8         [ 4] 1147         CALL	SWAPP
      000569 CC 05 10         [ 2] 1148         JP	MSMOD
                                   1149 
                                   1150 ;       MOD     ( n n -- r )
                                   1151 ;       Signed divide. Return mod only.
      00056C 05 5B                 1152         .word      LINK
                           00056E  1153 LINK = . 
      00056E 03                    1154         .byte      3
      00056F 4D 4F 44              1155         .ascii     "MOD"
      000572                       1156 MODD:
      000572 CD 05 60         [ 4] 1157 	CALL	SLMOD
      000575 CC 01 DE         [ 2] 1158 	JP	DROP
                                   1159 
                                   1160 ;       /       ( n n -- q )
                                   1161 ;       Signed divide. Return quotient only.
      000578 05 6E                 1162         .word      LINK
                           00057A  1163 LINK = . 
      00057A 01                    1164         .byte      1
      00057B 2F                    1165         .ascii     "/"
      00057C                       1166 SLASH:
      00057C CD 05 60         [ 4] 1167         CALL	SLMOD
      00057F CD 01 F8         [ 4] 1168         CALL	SWAPP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 23.
Hexadecimal [24-Bits]



      000582 CC 01 DE         [ 2] 1169         JP	DROP
                                   1170 
                                   1171 ;; Multiply
                                   1172 
                                   1173 ;       UM*     ( u u -- ud )
                                   1174 ;       Unsigned multiply. Return double product.
      000585 05 7A                 1175         .word      LINK
                           000587  1176 LINK = . 
      000587 03                    1177         .byte      3
      000588 55 4D 2A              1178         .ascii     "UM*"
      00058B                       1179 UMSTA:	; stack have 4 bytes u1=a,b u2=c,d
      00058B E6 02            [ 1] 1180 	LD A,(2,X)	; b
      00058D 90 97            [ 1] 1181 	LD YL,A
      00058F F6               [ 1] 1182 	LD A,(X)	; d
      000590 90 42            [ 4] 1183 	MUL Y,A
      000592 90 BF 1A         [ 2] 1184 	LDW PROD1,Y
      000595 E6 03            [ 1] 1185 	LD A,(3,X)	; a
      000597 90 97            [ 1] 1186 	LD YL,A
      000599 F6               [ 1] 1187 	LD A,(X)	; d
      00059A 90 42            [ 4] 1188 	MUL Y,A
      00059C 90 BF 1C         [ 2] 1189 	LDW PROD2,Y
      00059F E6 02            [ 1] 1190 	LD A,(2,X)	; b
      0005A1 90 97            [ 1] 1191 	LD YL,A
      0005A3 E6 01            [ 1] 1192 	LD A,(1,X)	; c
      0005A5 90 42            [ 4] 1193 	MUL Y,A
      0005A7 90 BF 1E         [ 2] 1194 	LDW PROD3,Y
      0005AA E6 03            [ 1] 1195 	LD A,(3,X)	; a
      0005AC 90 97            [ 1] 1196 	LD YL,A
      0005AE E6 01            [ 1] 1197 	LD A,(1,X)	; c
      0005B0 90 42            [ 4] 1198 	MUL Y,A	; least signifiant product
      0005B2 4F               [ 1] 1199 	CLR A
      0005B3 90 01            [ 1] 1200 	RRWA Y
      0005B5 E7 03            [ 1] 1201 	LD (3,X),A	; store least significant byte
      0005B7 72 B9 00 1E      [ 2] 1202 	ADDW Y,PROD3
      0005BB 4F               [ 1] 1203 	CLR A
      0005BC A9 00            [ 1] 1204 	ADC A,#0	; save carry
      0005BE B7 20            [ 1] 1205 	LD CARRY,A
      0005C0 72 B9 00 1C      [ 2] 1206 	ADDW Y,PROD2
      0005C4 B6 20            [ 1] 1207 	LD A,CARRY
      0005C6 A9 00            [ 1] 1208 	ADC A,#0	; add 2nd carry
      0005C8 B7 20            [ 1] 1209 	LD CARRY,A
      0005CA 4F               [ 1] 1210 	CLR A
      0005CB 90 01            [ 1] 1211 	RRWA Y
      0005CD E7 02            [ 1] 1212 	LD (2,X),A	; 2nd product byte
      0005CF 72 B9 00 1A      [ 2] 1213 	ADDW Y,PROD1
      0005D3 90 01            [ 1] 1214 	RRWA Y
      0005D5 E7 01            [ 1] 1215 	LD (1,X),A	; 3rd product byte
      0005D7 90 01            [ 1] 1216 	RRWA Y  	; 4th product byte now in A
      0005D9 B9 20            [ 1] 1217 	ADC A,CARRY	; fill in carry bits
      0005DB F7               [ 1] 1218 	LD (X),A
      0005DC 81               [ 4] 1219 	RET
                                   1220 
                                   1221 ;       *       ( n n -- n )
                                   1222 ;       Signed multiply. Return single product.
      0005DD 05 87                 1223         .word      LINK
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 24.
Hexadecimal [24-Bits]



                           0005DF  1224 LINK = . 
      0005DF 01                    1225         .byte      1
      0005E0 2A                    1226         .ascii     "*"
      0005E1                       1227 STAR:
      0005E1 CD 05 8B         [ 4] 1228 	CALL	UMSTA
      0005E4 CC 01 DE         [ 2] 1229 	JP	DROP
                                   1230 
                                   1231 ;       M*      ( n n -- d )
                                   1232 ;       Signed multiply. Return double product.
      0005E7 05 DF                 1233         .word      LINK
                           0005E9  1234 LINK = . 
      0005E9 02                    1235         .byte      2
      0005EA 4D 2A                 1236         .ascii     "M*"
      0005EC                       1237 MSTAR:      
      0005EC CD 03 76         [ 4] 1238         CALL	DDUP
      0005EF CD 02 5D         [ 4] 1239         CALL	XORR
      0005F2 CD 02 21         [ 4] 1240         CALL	ZLESS
      0005F5 CD 01 B1         [ 4] 1241         CALL	TOR
      0005F8 CD 04 03         [ 4] 1242         CALL	ABSS
      0005FB CD 01 F8         [ 4] 1243         CALL	SWAPP
      0005FE CD 04 03         [ 4] 1244         CALL	ABSS
      000601 CD 05 8B         [ 4] 1245         CALL	UMSTA
      000604 CD 01 89         [ 4] 1246         CALL	RFROM
      000607 CD 00 E6         [ 4] 1247         CALL	QBRAN
      00060A 06 0F                 1248         .word	MSTA1
      00060C CD 03 C8         [ 4] 1249         CALL	DNEGA
      00060F 81               [ 4] 1250 MSTA1:	RET
                                   1251 
                                   1252 ;       . /MOD   ( n1 n2 n3 -- r q )
                                   1253 ;       Multiply n1 and n2, then divide
                                   1254 ;       by n3. Return mod and quotient.
      000610 05 E9                 1255         .word      LINK
                           000612  1256 LINK = . 
      000612 05                    1257         .byte      5
      000613 2A 2F 4D 4F 44        1258         .ascii     "*/MOD"
      000618                       1259 SSMOD:
      000618 CD 01 B1         [ 4] 1260         CALL     TOR
      00061B CD 05 EC         [ 4] 1261         CALL     MSTAR
      00061E CD 01 89         [ 4] 1262         CALL     RFROM
      000621 CC 05 10         [ 2] 1263         JP     MSMOD
                                   1264 
                                   1265 ;       */      ( n1 n2 n3 -- q )
                                   1266 ;       Multiply n1 by n2, then divide
                                   1267 ;       by n3. Return quotient only.
      000624 06 12                 1268         .word      LINK
                           000626  1269 LINK = . 
      000626 02                    1270         .byte      2
      000627 2E 20 2F              1271         .ascii     ". /"
      00062A                       1272 STASL:
      00062A CD 06 18         [ 4] 1273         CALL	SSMOD
      00062D CD 01 F8         [ 4] 1274         CALL	SWAPP
      000630 CC 01 DE         [ 2] 1275         JP	DROP
                                   1276 
                                   1277 ;; Miscellaneous
                                   1278 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 25.
Hexadecimal [24-Bits]



                                   1279 ;       CELL+   ( a -- a )
                                   1280 ;       Add cell size in byte to address.
      000633 06 26                 1281         .word      LINK
                           000635  1282 LINK = . 
      000635 02                    1283         .byte       2
      000636 32 2B                 1284         .ascii     "2+"
      000638                       1285 CELLP:
      000638 90 93            [ 1] 1286         LDW Y,X
      00063A 90 FE            [ 2] 1287 	LDW Y,(Y)
      00063C 72 A9 00 02      [ 2] 1288         ADDW Y,#CELLL 
      000640 FF               [ 2] 1289         LDW (X),Y
      000641 81               [ 4] 1290         RET
                                   1291 
                                   1292 ;       CELL-   ( a -- a )
                                   1293 ;       Subtract 2 from address.
      000642 06 35                 1294         .word      LINK
                           000644  1295 LINK = . 
      000644 02                    1296         .byte       2
      000645 32 2D                 1297         .ascii     "2-"
      000647                       1298 CELLM:
      000647 90 93            [ 1] 1299         LDW Y,X
      000649 90 FE            [ 2] 1300 	LDW Y,(Y)
      00064B 72 A2 00 02      [ 2] 1301         SUBW Y,#CELLL
      00064F FF               [ 2] 1302         LDW (X),Y
      000650 81               [ 4] 1303         RET
                                   1304 
                                   1305 ;       CELLS   ( n -- n )
                                   1306 ;       Multiply tos by 2.
      000651 06 44                 1307         .word      LINK
                           000653  1308 LINK = . 
      000653 02                    1309         .byte       2
      000654 32 2A                 1310         .ascii     "2*"
      000656                       1311 CELLS:
      000656 90 93            [ 1] 1312         LDW Y,X
      000658 90 FE            [ 2] 1313 	LDW Y,(Y)
      00065A 90 58            [ 2] 1314         SLAW Y
      00065C FF               [ 2] 1315         LDW (X),Y
      00065D 81               [ 4] 1316         RET
                                   1317 
                                   1318 ;       1+      ( a -- a )
                                   1319 ;       Add cell size in byte to address.
      00065E 06 53                 1320         .word      LINK
                           000660  1321 LINK = . 
      000660 02                    1322         .byte      2
      000661 31 2B                 1323         .ascii     "1+"
      000663                       1324 ONEP:
      000663 90 93            [ 1] 1325         LDW Y,X
      000665 90 FE            [ 2] 1326 	LDW Y,(Y)
      000667 90 5C            [ 1] 1327         INCW Y
      000669 FF               [ 2] 1328         LDW (X),Y
      00066A 81               [ 4] 1329         RET
                                   1330 
                                   1331 ;       1-      ( a -- a )
                                   1332 ;       Subtract 2 from address.
      00066B 06 60                 1333         .word      LINK
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 26.
Hexadecimal [24-Bits]



                           00066D  1334 LINK = . 
      00066D 02                    1335         .byte      2
      00066E 31 2D                 1336         .ascii     "1-"
      000670                       1337 ONEM:
      000670 90 93            [ 1] 1338         LDW Y,X
      000672 90 FE            [ 2] 1339 	LDW Y,(Y)
      000674 90 5A            [ 2] 1340         DECW Y
      000676 FF               [ 2] 1341         LDW (X),Y
      000677 81               [ 4] 1342         RET
                                   1343 
                                   1344 ;       2/      ( n -- n )
                                   1345 ;       Multiply tos by 2.
      000678 06 6D                 1346         .word      LINK
                           00067A  1347 LINK = . 
      00067A 02                    1348         .byte      2
      00067B 32 2F                 1349         .ascii     "2/"
      00067D                       1350 TWOSL:
      00067D 90 93            [ 1] 1351         LDW Y,X
      00067F 90 FE            [ 2] 1352 	LDW Y,(Y)
      000681 90 57            [ 2] 1353         SRAW Y
      000683 FF               [ 2] 1354         LDW (X),Y
      000684 81               [ 4] 1355         RET
                                   1356 
                                   1357 ;       BL      ( -- 32 )
                                   1358 ;       Return 32,  blank character.
      000685 06 7A                 1359         .word      LINK
                           000687  1360 LINK = . 
      000687 02                    1361         .byte      2
      000688 42 4C                 1362         .ascii     "BL"
      00068A                       1363 BLANK:
      00068A 1D 00 02         [ 2] 1364         SUBW X,#2
      00068D 90 AE 00 20      [ 2] 1365 	LDW Y,#32
      000691 FF               [ 2] 1366         LDW (X),Y
      000692 81               [ 4] 1367         RET
                                   1368 
                                   1369 ;         0     ( -- 0)
                                   1370 ;         Return 0.
      000693 06 87                 1371         .word      LINK
                           000695  1372 LINK = . 
      000695 01                    1373         .byte       1
      000696 30                    1374         .ascii     "0"
      000697                       1375 ZERO:
      000697 1D 00 02         [ 2] 1376         SUBW X,#2
      00069A 90 5F            [ 1] 1377 	CLRW Y
      00069C FF               [ 2] 1378         LDW (X),Y
      00069D 81               [ 4] 1379         RET
                                   1380 
                                   1381 ;         1     ( -- 1)
                                   1382 ;         Return 1.
      00069E 06 95                 1383         .word      LINK
                           0006A0  1384 LINK = . 
      0006A0 01                    1385         .byte       1
      0006A1 31                    1386         .ascii     "1"
      0006A2                       1387 ONE:
      0006A2 1D 00 02         [ 2] 1388         SUBW X,#2
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 27.
Hexadecimal [24-Bits]



      0006A5 90 AE 00 01      [ 2] 1389 	LDW Y,#1
      0006A9 FF               [ 2] 1390         LDW (X),Y
      0006AA 81               [ 4] 1391         RET
                                   1392 
                                   1393 ;         -1    ( -- -1)
                                   1394 ;         Return 32,  blank character.
      0006AB 06 A0                 1395         .word      LINK
                           0006AD  1396 LINK = . 
      0006AD 02                    1397         .byte       2
      0006AE 2D 31                 1398         .ascii     "-1"
      0006B0                       1399 MONE:
      0006B0 1D 00 02         [ 2] 1400         SUBW X,#2
      0006B3 90 AE FF FF      [ 2] 1401 	LDW Y,#0xFFFF
      0006B7 FF               [ 2] 1402         LDW (X),Y
      0006B8 81               [ 4] 1403         RET
                                   1404 
                                   1405 ;       >CHAR   ( c -- c )
                                   1406 ;       Filter non-printing characters.
      0006B9 06 AD                 1407         .word      LINK
                           0006BB  1408 LINK = . 
      0006BB 05                    1409         .byte      5
      0006BC 3E 43 48 41 52        1410         .ascii     ">CHAR"
      0006C1                       1411 TCHAR:
      0006C1 CD 00 AF         [ 4] 1412         CALL     DOLIT
      0006C4 00 7F                 1413         .word       0x7F
      0006C6 CD 02 34         [ 4] 1414         CALL     ANDD
      0006C9 CD 01 E8         [ 4] 1415         CALL     DUPP    ;mask msb
      0006CC CD 00 AF         [ 4] 1416         CALL     DOLIT
      0006CF 00 7F                 1417         .word      127
      0006D1 CD 06 8A         [ 4] 1418         CALL     BLANK
      0006D4 CD 04 AB         [ 4] 1419         CALL     WITHI   ;check for printable
      0006D7 CD 00 E6         [ 4] 1420         CALL     QBRAN
      0006DA 06 E4                 1421         .word      TCHA1
      0006DC CD 01 DE         [ 4] 1422         CALL     DROP
      0006DF CD 00 AF         [ 4] 1423         CALL     DOLIT
      0006E2 00 5F                 1424         .word     0x5F		; "_"     ;replace non-printables
      0006E4 81               [ 4] 1425 TCHA1:  RET
                                   1426 
                                   1427 ;       DEPTH   ( -- n )
                                   1428 ;       Return  depth of  data stack.
      0006E5 06 BB                 1429         .word      LINK
                           0006E7  1430 LINK = . 
      0006E7 05                    1431         .byte      5
      0006E8 44 45 50 54 48        1432         .ascii     "DEPTH"
      0006ED                       1433 DEPTH:
      0006ED 90 BE 22         [ 2] 1434         LDW Y,SP0    ;save data stack ptr
      0006F0 BF 1A            [ 2] 1435 	LDW XTEMP,X
      0006F2 72 B2 00 1A      [ 2] 1436         SUBW Y,XTEMP     ;#bytes = SP0 - X
      0006F6 90 57            [ 2] 1437         SRAW Y    ;D = #stack items
      0006F8 90 5A            [ 2] 1438 	DECW Y
      0006FA 1D 00 02         [ 2] 1439 	SUBW X,#2
      0006FD FF               [ 2] 1440         LDW (X),Y     ; if neg, underflow
      0006FE 81               [ 4] 1441         RET
                                   1442 
                                   1443 ;       PICK    ( ... +n -- ... w )
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 28.
Hexadecimal [24-Bits]



                                   1444 ;       Copy  nth stack item to tos.
      0006FF 06 E7                 1445         .word      LINK
                           000701  1446 LINK = . 
      000701 04                    1447         .byte      4
      000702 50 49 43 4B           1448         .ascii     "PICK"
      000706                       1449 PICK:
      000706 90 93            [ 1] 1450         LDW Y,X   ;D = n1
      000708 90 FE            [ 2] 1451         LDW Y,(Y)
      00070A 90 58            [ 2] 1452         SLAW Y
      00070C BF 1A            [ 2] 1453         LDW XTEMP,X
      00070E 72 B9 00 1A      [ 2] 1454         ADDW Y,XTEMP
      000712 90 FE            [ 2] 1455         LDW Y,(Y)
      000714 FF               [ 2] 1456         LDW (X),Y
      000715 81               [ 4] 1457         RET
                                   1458 
                                   1459 ;; Memory access
                                   1460 
                                   1461 ;       +!      ( n a -- )
                                   1462 ;       Add n to  contents at address a.
      000716 07 01                 1463         .word      LINK
                           000718  1464 LINK = . 
      000718 02                    1465         .byte      2
      000719 2B 21                 1466         .ascii     "+!"
      00071B                       1467 PSTOR:
      00071B CD 01 F8         [ 4] 1468         CALL	SWAPP
      00071E CD 02 12         [ 4] 1469         CALL	OVER
      000721 CD 01 3B         [ 4] 1470         CALL	AT
      000724 CD 03 8B         [ 4] 1471         CALL	PLUS
      000727 CD 01 F8         [ 4] 1472         CALL	SWAPP
      00072A CC 01 24         [ 2] 1473         JP	STORE
                                   1474 
                                   1475 ;       2!      ( d a -- )
                                   1476 ;       Store  double integer to address a.
      00072D 07 18                 1477         .word      LINK
                           00072F  1478 LINK = . 
      00072F 02                    1479         .byte      2
      000730 32 21                 1480         .ascii     "2!"
      000732                       1481 DSTOR:
      000732 CD 01 F8         [ 4] 1482         CALL	SWAPP
      000735 CD 02 12         [ 4] 1483         CALL	OVER
      000738 CD 01 24         [ 4] 1484         CALL	STORE
      00073B CD 06 38         [ 4] 1485         CALL	CELLP
      00073E CC 01 24         [ 2] 1486         JP	STORE
                                   1487 
                                   1488 ;       2@      ( a -- d )
                                   1489 ;       Fetch double integer from address a.
      000741 07 2F                 1490         .word      LINK
                           000743  1491 LINK = . 
      000743 02                    1492         .byte      2
      000744 32 40                 1493         .ascii     "2@"
      000746                       1494 DAT:
      000746 CD 01 E8         [ 4] 1495         CALL	DUPP
      000749 CD 06 38         [ 4] 1496         CALL	CELLP
      00074C CD 01 3B         [ 4] 1497         CALL	AT
      00074F CD 01 F8         [ 4] 1498         CALL	SWAPP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 29.
Hexadecimal [24-Bits]



      000752 CC 01 3B         [ 2] 1499         JP	AT
                                   1500 
                                   1501 ;       COUNT   ( b -- b +n )
                                   1502 ;       Return count byte of a string
                                   1503 ;       and add 1 to byte address.
      000755 07 43                 1504         .word      LINK
                           000757  1505 LINK = . 
      000757 05                    1506         .byte      5
      000758 43 4F 55 4E 54        1507         .ascii     "COUNT"
      00075D                       1508 COUNT:
      00075D CD 01 E8         [ 4] 1509         CALL     DUPP
      000760 CD 06 63         [ 4] 1510         CALL     ONEP
      000763 CD 01 F8         [ 4] 1511         CALL     SWAPP
      000766 CC 01 59         [ 2] 1512         JP     CAT
                                   1513 
                                   1514 ;       HERE    ( -- a )
                                   1515 ;       Return  top of  code dictionary.
      000769 07 57                 1516         .word      LINK
                           00076B  1517 LINK = . 
      00076B 04                    1518         .byte      4
      00076C 48 45 52 45           1519         .ascii     "HERE"
      000770                       1520 HERE:
      000770 CD 03 12         [ 4] 1521         CALL     CPP
      000773 CC 01 3B         [ 2] 1522         JP     AT
                                   1523 
                                   1524 ;       PAD     ( -- a )
                                   1525 ;       Return address of text buffer
                                   1526 ;       above  code dictionary.
      000776 07 6B                 1527         .word      LINK
                           000778  1528 LINK = . 
      000778 03                    1529         .byte      3
      000779 50 41 44              1530         .ascii     "PAD"
      00077C                       1531 PAD:
      00077C CD 07 70         [ 4] 1532         CALL     HERE
      00077F CD 00 AF         [ 4] 1533         CALL     DOLIT
      000782 00 50                 1534         .word      80
      000784 CC 03 8B         [ 2] 1535         JP     PLUS
                                   1536 
                                   1537 ;       TIB     ( -- a )
                                   1538 ;       Return address of terminal input buffer.
      000787 07 78                 1539         .word      LINK
                           000789  1540 LINK = . 
      000789 03                    1541         .byte      3
      00078A 54 49 42              1542         .ascii     "TIB"
      00078D                       1543 TIB:
      00078D CD 02 D1         [ 4] 1544         CALL     NTIB
      000790 CD 06 38         [ 4] 1545         CALL     CELLP
      000793 CC 01 3B         [ 2] 1546         JP     AT
                                   1547 
                                   1548 ;       @EXECUTE        ( a -- )
                                   1549 ;       Execute vector stored in address a.
      000796 07 89                 1550         .word      LINK
                           000798  1551 LINK = . 
      000798 08                    1552         .byte      8
      000799 40 45 58 45 43 55 54  1553         .ascii     "@EXECUTE"
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 30.
Hexadecimal [24-Bits]



             45
      0007A1                       1554 ATEXE:
      0007A1 CD 01 3B         [ 4] 1555         CALL     AT
      0007A4 CD 03 32         [ 4] 1556         CALL     QDUP    ;?address or zero
      0007A7 CD 00 E6         [ 4] 1557         CALL     QBRAN
      0007AA 07 AF                 1558         .word      EXE1
      0007AC CD 01 0D         [ 4] 1559         CALL     EXECU   ;execute if non-zero
      0007AF 81               [ 4] 1560 EXE1:   RET     ;do nothing if zero
                                   1561 
                                   1562 ;       CMOVE   ( b1 b2 u -- )
                                   1563 ;       Copy u bytes from b1 to b2.
      0007B0 07 98                 1564         .word      LINK
                           0007B2  1565 LINK = . 
      0007B2 05                    1566         .byte      5
      0007B3 43 4D 4F 56 45        1567         .ascii     "CMOVE"
      0007B8                       1568 CMOVE:
      0007B8 CD 01 B1         [ 4] 1569         CALL	TOR
      0007BB CD 00 FD         [ 4] 1570         CALL	BRAN
      0007BE 07 D8                 1571         .word	CMOV2
      0007C0 CD 01 B1         [ 4] 1572 CMOV1:	CALL	TOR
      0007C3 CD 01 E8         [ 4] 1573         CALL	DUPP
      0007C6 CD 01 59         [ 4] 1574         CALL	CAT
      0007C9 CD 01 9C         [ 4] 1575         CALL	RAT
      0007CC CD 01 48         [ 4] 1576         CALL	CSTOR
      0007CF CD 06 63         [ 4] 1577         CALL	ONEP
      0007D2 CD 01 89         [ 4] 1578         CALL	RFROM
      0007D5 CD 06 63         [ 4] 1579         CALL	ONEP
      0007D8 CD 00 C7         [ 4] 1580 CMOV2:	CALL	DONXT
      0007DB 07 C0                 1581         .word	CMOV1
      0007DD CC 03 6B         [ 2] 1582         JP	DDROP
                                   1583 
                                   1584 ;       FILL    ( b u c -- )
                                   1585 ;       Fill u bytes of character c
                                   1586 ;       to area beginning at b.
      0007E0 07 B2                 1587         .word       LINK
                           0007E2  1588 LINK = . 
      0007E2 04                    1589         .byte       4
      0007E3 46 49 4C 4C           1590         .ascii     "FILL"
      0007E7                       1591 FILL:
      0007E7 CD 01 F8         [ 4] 1592         CALL	SWAPP
      0007EA CD 01 B1         [ 4] 1593         CALL	TOR
      0007ED CD 01 F8         [ 4] 1594         CALL	SWAPP
      0007F0 CD 00 FD         [ 4] 1595         CALL	BRAN
      0007F3 07 FE                 1596         .word	FILL2
      0007F5 CD 03 76         [ 4] 1597 FILL1:	CALL	DDUP
      0007F8 CD 01 48         [ 4] 1598         CALL	CSTOR
      0007FB CD 06 63         [ 4] 1599         CALL	ONEP
      0007FE CD 00 C7         [ 4] 1600 FILL2:	CALL	DONXT
      000801 07 F5                 1601         .word	FILL1
      000803 CC 03 6B         [ 2] 1602         JP	DDROP
                                   1603 
                                   1604 ;       ERASE   ( b u -- )
                                   1605 ;       Erase u bytes beginning at b.
      000806 07 E2                 1606         .word      LINK
                           000808  1607 LINK = . 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 31.
Hexadecimal [24-Bits]



      000808 05                    1608         .byte      5
      000809 45 52 41 53 45        1609         .ascii     "ERASE"
      00080E                       1610 ERASE:
      00080E CD 06 97         [ 4] 1611         CALL     ZERO
      000811 CC 07 E7         [ 2] 1612         JP     FILL
                                   1613 
                                   1614 ;       PACK0x   ( b u a -- a )
                                   1615 ;       Build a counted string with
                                   1616 ;       u characters from b. Null fill.
      000814 08 08                 1617         .word      LINK
                           000816  1618 LINK = . 
      000816 05                    1619         .byte      5
      000817 50 41 43 4B 30 78     1620         .ascii     "PACK0x"
      00081D                       1621 PACKS:
      00081D CD 01 E8         [ 4] 1622         CALL     DUPP
      000820 CD 01 B1         [ 4] 1623         CALL     TOR     ;strings only on cell boundary
      000823 CD 03 76         [ 4] 1624         CALL     DDUP
      000826 CD 01 48         [ 4] 1625         CALL     CSTOR
      000829 CD 06 63         [ 4] 1626         CALL     ONEP ;save count
      00082C CD 01 F8         [ 4] 1627         CALL     SWAPP
      00082F CD 07 B8         [ 4] 1628         CALL     CMOVE
      000832 CD 01 89         [ 4] 1629         CALL     RFROM
      000835 81               [ 4] 1630         RET
                                   1631 
                                   1632 ;; Numeric output, single precision
                                   1633 
                                   1634 ;       DIGIT   ( u -- c )
                                   1635 ;       Convert digit u to a character.
      000836 08 16                 1636         .word      LINK
                           000838  1637 LINK = . 
      000838 05                    1638         .byte      5
      000839 44 49 47 49 54        1639         .ascii     "DIGIT"
      00083E                       1640 DIGIT:
      00083E CD 00 AF         [ 4] 1641         CALL	DOLIT
      000841 00 09                 1642         .word	9
      000843 CD 02 12         [ 4] 1643         CALL	OVER
      000846 CD 04 4E         [ 4] 1644         CALL	LESS
      000849 CD 00 AF         [ 4] 1645         CALL	DOLIT
      00084C 00 07                 1646         .word	7
      00084E CD 02 34         [ 4] 1647         CALL	ANDD
      000851 CD 03 8B         [ 4] 1648         CALL	PLUS
      000854 CD 00 AF         [ 4] 1649         CALL	DOLIT
      000857 00 30                 1650         .word	48	;'0'
      000859 CC 03 8B         [ 2] 1651         JP	PLUS
                                   1652 
                                   1653 ;       EXTRACT ( n base -- n c )
                                   1654 ;       Extract least significant digit from n.
      00085C 08 38                 1655         .word      LINK
                           00085E  1656 LINK = . 
      00085E 07                    1657         .byte      7
      00085F 45 58 54 52 41 43 54  1658         .ascii     "EXTRACT"
      000866                       1659 EXTRC:
      000866 CD 06 97         [ 4] 1660         CALL     ZERO
      000869 CD 01 F8         [ 4] 1661         CALL     SWAPP
      00086C CD 04 C6         [ 4] 1662         CALL     UMMOD
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 32.
Hexadecimal [24-Bits]



      00086F CD 01 F8         [ 4] 1663         CALL     SWAPP
      000872 CC 08 3E         [ 2] 1664         JP     DIGIT
                                   1665 
                                   1666 ;       <#      ( -- )
                                   1667 ;       Initiate  numeric output process.
      000875 08 5E                 1668         .word      LINK
                           000877  1669 LINK = . 
      000877 02                    1670         .byte      2
      000878 3C 23                 1671         .ascii     "<#"
      00087A                       1672 BDIGS:
      00087A CD 07 7C         [ 4] 1673         CALL     PAD
      00087D CD 02 F1         [ 4] 1674         CALL     HLD
      000880 CC 01 24         [ 2] 1675         JP     STORE
                                   1676 
                                   1677 ;       HOLD    ( c -- )
                                   1678 ;       Insert a character into output string.
      000883 08 77                 1679         .word      LINK
                           000885  1680 LINK = . 
      000885 04                    1681         .byte      4
      000886 48 4F 4C 44           1682         .ascii     "HOLD"
      00088A                       1683 HOLD:
      00088A CD 02 F1         [ 4] 1684         CALL     HLD
      00088D CD 01 3B         [ 4] 1685         CALL     AT
      000890 CD 06 70         [ 4] 1686         CALL     ONEM
      000893 CD 01 E8         [ 4] 1687         CALL     DUPP
      000896 CD 02 F1         [ 4] 1688         CALL     HLD
      000899 CD 01 24         [ 4] 1689         CALL     STORE
      00089C CC 01 48         [ 2] 1690         JP     CSTOR
                                   1691 
                                   1692 ;       #       ( u -- u )
                                   1693 ;       Extract one digit from u and
                                   1694 ;       append digit to output string.
      00089F 08 85                 1695         .word      LINK
                           0008A1  1696 LINK = . 
      0008A1 01                    1697         .byte      1
      0008A2 23                    1698         .ascii     "#"
      0008A3                       1699 DIG:
      0008A3 CD 02 A3         [ 4] 1700         CALL     BASE
      0008A6 CD 01 3B         [ 4] 1701         CALL     AT
      0008A9 CD 08 66         [ 4] 1702         CALL     EXTRC
      0008AC CC 08 8A         [ 2] 1703         JP     HOLD
                                   1704 
                                   1705 ;       #S      ( u -- 0 )
                                   1706 ;       Convert u until all digits
                                   1707 ;       are added to output string.
      0008AF 08 A1                 1708         .word      LINK
                           0008B1  1709 LINK = . 
      0008B1 02                    1710         .byte      2
      0008B2 23 53                 1711         .ascii     "#S"
      0008B4                       1712 DIGS:
      0008B4 CD 08 A3         [ 4] 1713 DIGS1:  CALL     DIG
      0008B7 CD 01 E8         [ 4] 1714         CALL     DUPP
      0008BA CD 00 E6         [ 4] 1715         CALL     QBRAN
      0008BD 08 C1                 1716         .word      DIGS2
      0008BF 20 F3            [ 2] 1717         JRA     DIGS1
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 33.
Hexadecimal [24-Bits]



      0008C1 81               [ 4] 1718 DIGS2:  RET
                                   1719 
                                   1720 ;       SIGN    ( n -- )
                                   1721 ;       Add a minus sign to
                                   1722 ;       numeric output string.
      0008C2 08 B1                 1723         .word      LINK
                           0008C4  1724 LINK = . 
      0008C4 04                    1725         .byte      4
      0008C5 53 49 47 4E           1726         .ascii     "SIGN"
      0008C9                       1727 SIGN:
      0008C9 CD 02 21         [ 4] 1728         CALL     ZLESS
      0008CC CD 00 E6         [ 4] 1729         CALL     QBRAN
      0008CF 08 D9                 1730         .word      SIGN1
      0008D1 CD 00 AF         [ 4] 1731         CALL     DOLIT
      0008D4 00 2D                 1732         .word      45	;"-"
      0008D6 CC 08 8A         [ 2] 1733         JP     HOLD
      0008D9 81               [ 4] 1734 SIGN1:  RET
                                   1735 
                                   1736 ;       #>      ( w -- b u )
                                   1737 ;       Prepare output string.
      0008DA 08 C4                 1738         .word      LINK
                           0008DC  1739 LINK = . 
      0008DC 02                    1740         .byte      2
      0008DD 23 3E                 1741         .ascii     "#>"
      0008DF                       1742 EDIGS:
      0008DF CD 01 DE         [ 4] 1743         CALL     DROP
      0008E2 CD 02 F1         [ 4] 1744         CALL     HLD
      0008E5 CD 01 3B         [ 4] 1745         CALL     AT
      0008E8 CD 07 7C         [ 4] 1746         CALL     PAD
      0008EB CD 02 12         [ 4] 1747         CALL     OVER
      0008EE CC 03 E9         [ 2] 1748         JP     SUBB
                                   1749 
                                   1750 ;       str     ( w -- b u )
                                   1751 ;       Convert a signed integer
                                   1752 ;       to a numeric string.
      0008F1 08 DC                 1753         .word      LINK
                           0008F3  1754 LINK = . 
      0008F3 03                    1755         .byte      3
      0008F4 73 74 72              1756         .ascii     "str"
      0008F7                       1757 STR:
      0008F7 CD 01 E8         [ 4] 1758         CALL     DUPP
      0008FA CD 01 B1         [ 4] 1759         CALL     TOR
      0008FD CD 04 03         [ 4] 1760         CALL     ABSS
      000900 CD 08 7A         [ 4] 1761         CALL     BDIGS
      000903 CD 08 B4         [ 4] 1762         CALL     DIGS
      000906 CD 01 89         [ 4] 1763         CALL     RFROM
      000909 CD 08 C9         [ 4] 1764         CALL     SIGN
      00090C CC 08 DF         [ 2] 1765         JP     EDIGS
                                   1766 
                                   1767 ;       HEX     ( -- )
                                   1768 ;       Use radix 16 as base for
                                   1769 ;       numeric conversions.
      00090F 08 F3                 1770         .word      LINK
                           000911  1771 LINK = . 
      000911 03                    1772         .byte      3
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 34.
Hexadecimal [24-Bits]



      000912 48 45 58              1773         .ascii     "HEX"
      000915                       1774 HEX:
      000915 CD 00 AF         [ 4] 1775         CALL     DOLIT
      000918 00 10                 1776         .word      16
      00091A CD 02 A3         [ 4] 1777         CALL     BASE
      00091D CC 01 24         [ 2] 1778         JP     STORE
                                   1779 
                                   1780 ;       DECIMAL ( -- )
                                   1781 ;       Use radix 10 as base
                                   1782 ;       for numeric conversions.
      000920 09 11                 1783         .word      LINK
                           000922  1784 LINK = . 
      000922 07                    1785         .byte      7
      000923 44 45 43 49 4D 41 4C  1786         .ascii     "DECIMAL"
      00092A                       1787 DECIM:
      00092A CD 00 AF         [ 4] 1788         CALL     DOLIT
      00092D 00 0A                 1789         .word      10
      00092F CD 02 A3         [ 4] 1790         CALL     BASE
      000932 CC 01 24         [ 2] 1791         JP     STORE
                                   1792 
                                   1793 ;; Numeric input, single precision
                                   1794 
                                   1795 ;       DIGIT?  ( c base -- u t )
                                   1796 ;       Convert a character to its numeric
                                   1797 ;       value. A flag indicates success.
      000935 09 22                 1798         .word      LINK
                           000937  1799 LINK = . 
      000937 06                    1800         .byte       6
      000938 44 49 47 49 54 3F     1801         .ascii     "DIGIT?"
      00093E                       1802 DIGTQ:
      00093E CD 01 B1         [ 4] 1803         CALL     TOR
      000941 CD 00 AF         [ 4] 1804         CALL     DOLIT
      000944 00 30                 1805         .word     48	; "0"
      000946 CD 03 E9         [ 4] 1806         CALL     SUBB
      000949 CD 00 AF         [ 4] 1807         CALL     DOLIT
      00094C 00 09                 1808         .word      9
      00094E CD 02 12         [ 4] 1809         CALL     OVER
      000951 CD 04 4E         [ 4] 1810         CALL     LESS
      000954 CD 00 E6         [ 4] 1811         CALL     QBRAN
      000957 09 6F                 1812         .word      DGTQ1
      000959 CD 00 AF         [ 4] 1813         CALL     DOLIT
      00095C 00 07                 1814         .word      7
      00095E CD 03 E9         [ 4] 1815         CALL     SUBB
      000961 CD 01 E8         [ 4] 1816         CALL     DUPP
      000964 CD 00 AF         [ 4] 1817         CALL     DOLIT
      000967 00 0A                 1818         .word      10
      000969 CD 04 4E         [ 4] 1819         CALL     LESS
      00096C CD 02 48         [ 4] 1820         CALL     ORR
      00096F CD 01 E8         [ 4] 1821 DGTQ1:  CALL     DUPP
      000972 CD 01 89         [ 4] 1822         CALL     RFROM
      000975 CC 04 30         [ 2] 1823         JP     ULESS
                                   1824 
                                   1825 ;       NUMBER? ( a -- n T | a F )
                                   1826 ;       Convert a number string to
                                   1827 ;       integer. Push a flag on tos.
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 35.
Hexadecimal [24-Bits]



      000978 09 37                 1828         .word      LINK
                           00097A  1829 LINK = . 
      00097A 07                    1830         .byte      7
      00097B 4E 55 4D 42 45 52 3F  1831         .ascii     "NUMBER?"
      000982                       1832 NUMBQ:
      000982 CD 02 A3         [ 4] 1833         CALL     BASE
      000985 CD 01 3B         [ 4] 1834         CALL     AT
      000988 CD 01 B1         [ 4] 1835         CALL     TOR
      00098B CD 06 97         [ 4] 1836         CALL     ZERO
      00098E CD 02 12         [ 4] 1837         CALL     OVER
      000991 CD 07 5D         [ 4] 1838         CALL     COUNT
      000994 CD 02 12         [ 4] 1839         CALL     OVER
      000997 CD 01 59         [ 4] 1840         CALL     CAT
      00099A CD 00 AF         [ 4] 1841         CALL     DOLIT
      00099D 00 24                 1842         .word     36	; "0x"
      00099F CD 04 11         [ 4] 1843         CALL     EQUAL
      0009A2 CD 00 E6         [ 4] 1844         CALL     QBRAN
      0009A5 09 B6                 1845         .word      NUMQ1
      0009A7 CD 09 15         [ 4] 1846         CALL     HEX
      0009AA CD 01 F8         [ 4] 1847         CALL     SWAPP
      0009AD CD 06 63         [ 4] 1848         CALL     ONEP
      0009B0 CD 01 F8         [ 4] 1849         CALL     SWAPP
      0009B3 CD 06 70         [ 4] 1850         CALL     ONEM
      0009B6 CD 02 12         [ 4] 1851 NUMQ1:  CALL     OVER
      0009B9 CD 01 59         [ 4] 1852         CALL     CAT
      0009BC CD 00 AF         [ 4] 1853         CALL     DOLIT
      0009BF 00 2D                 1854         .word     45	; "-"
      0009C1 CD 04 11         [ 4] 1855         CALL     EQUAL
      0009C4 CD 01 B1         [ 4] 1856         CALL     TOR
      0009C7 CD 01 F8         [ 4] 1857         CALL     SWAPP
      0009CA CD 01 9C         [ 4] 1858         CALL     RAT
      0009CD CD 03 E9         [ 4] 1859         CALL     SUBB
      0009D0 CD 01 F8         [ 4] 1860         CALL     SWAPP
      0009D3 CD 01 9C         [ 4] 1861         CALL     RAT
      0009D6 CD 03 8B         [ 4] 1862         CALL     PLUS
      0009D9 CD 03 32         [ 4] 1863         CALL     QDUP
      0009DC CD 00 E6         [ 4] 1864         CALL     QBRAN
      0009DF 0A 40                 1865         .word      NUMQ6
      0009E1 CD 06 70         [ 4] 1866         CALL     ONEM
      0009E4 CD 01 B1         [ 4] 1867         CALL     TOR
      0009E7 CD 01 E8         [ 4] 1868 NUMQ2:  CALL     DUPP
      0009EA CD 01 B1         [ 4] 1869         CALL     TOR
      0009ED CD 01 59         [ 4] 1870         CALL     CAT
      0009F0 CD 02 A3         [ 4] 1871         CALL     BASE
      0009F3 CD 01 3B         [ 4] 1872         CALL     AT
      0009F6 CD 09 3E         [ 4] 1873         CALL     DIGTQ
      0009F9 CD 00 E6         [ 4] 1874         CALL     QBRAN
      0009FC 0A 2E                 1875         .word      NUMQ4
      0009FE CD 01 F8         [ 4] 1876         CALL     SWAPP
      000A01 CD 02 A3         [ 4] 1877         CALL     BASE
      000A04 CD 01 3B         [ 4] 1878         CALL     AT
      000A07 CD 05 E1         [ 4] 1879         CALL     STAR
      000A0A CD 03 8B         [ 4] 1880         CALL     PLUS
      000A0D CD 01 89         [ 4] 1881         CALL     RFROM
      000A10 CD 06 63         [ 4] 1882         CALL     ONEP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 36.
Hexadecimal [24-Bits]



      000A13 CD 00 C7         [ 4] 1883         CALL     DONXT
      000A16 09 E7                 1884         .word      NUMQ2
      000A18 CD 01 9C         [ 4] 1885         CALL     RAT
      000A1B CD 01 F8         [ 4] 1886         CALL     SWAPP
      000A1E CD 01 DE         [ 4] 1887         CALL     DROP
      000A21 CD 00 E6         [ 4] 1888         CALL     QBRAN
      000A24 0A 29                 1889         .word      NUMQ3
      000A26 CD 03 B6         [ 4] 1890         CALL     NEGAT
      000A29 CD 01 F8         [ 4] 1891 NUMQ3:  CALL     SWAPP
      000A2C 20 0F            [ 2] 1892         JRA     NUMQ5
      000A2E CD 01 89         [ 4] 1893 NUMQ4:  CALL     RFROM
      000A31 CD 01 89         [ 4] 1894         CALL     RFROM
      000A34 CD 03 6B         [ 4] 1895         CALL     DDROP
      000A37 CD 03 6B         [ 4] 1896         CALL     DDROP
      000A3A CD 06 97         [ 4] 1897         CALL     ZERO
      000A3D CD 01 E8         [ 4] 1898 NUMQ5:  CALL     DUPP
      000A40 CD 01 89         [ 4] 1899 NUMQ6:  CALL     RFROM
      000A43 CD 03 6B         [ 4] 1900         CALL     DDROP
      000A46 CD 01 89         [ 4] 1901         CALL     RFROM
      000A49 CD 02 A3         [ 4] 1902         CALL     BASE
      000A4C CC 01 24         [ 2] 1903         JP     STORE
                                   1904 
                                   1905 ;; Basic I/O
                                   1906 
                                   1907 ;       KEY     ( -- c )
                                   1908 ;       Wait for and return an
                                   1909 ;       input character.
      000A4F 09 7A                 1910         .word      LINK
                           000A51  1911 LINK = . 
      000A51 03                    1912         .byte      3
      000A52 4B 45 59              1913         .ascii     "KEY"
      000A55                       1914 KEY:
      000A55 CD 00 7B         [ 4] 1915 KEY1:   CALL     QKEY
      000A58 CD 00 E6         [ 4] 1916         CALL     QBRAN
      000A5B 0A 55                 1917         .word      KEY1
      000A5D 81               [ 4] 1918         RET
                                   1919 
                                   1920 ;       NUF?    ( -- t )
                                   1921 ;       Return false if no input,
                                   1922 ;       else pause and if CR return true.
      000A5E 0A 51                 1923         .word      LINK
                           000A60  1924 LINK = . 
      000A60 04                    1925         .byte      4
      000A61 4E 55 46 3F           1926         .ascii     "NUF?"
      000A65                       1927 NUFQ:
      000A65 CD 00 7B         [ 4] 1928         CALL     QKEY
      000A68 CD 01 E8         [ 4] 1929         CALL     DUPP
      000A6B CD 00 E6         [ 4] 1930         CALL     QBRAN
      000A6E 0A 7E                 1931         .word      NUFQ1
      000A70 CD 03 6B         [ 4] 1932         CALL     DDROP
      000A73 CD 0A 55         [ 4] 1933         CALL     KEY
      000A76 CD 00 AF         [ 4] 1934         CALL     DOLIT
      000A79 00 0D                 1935         .word      CRR
      000A7B CC 04 11         [ 2] 1936         JP     EQUAL
      000A7E 81               [ 4] 1937 NUFQ1:  RET
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 37.
Hexadecimal [24-Bits]



                                   1938 
                                   1939 ;       SPACE   ( -- )
                                   1940 ;       Send  blank character to
                                   1941 ;       output device.
      000A7F 0A 60                 1942         .word      LINK
                           000A81  1943 LINK = . 
      000A81 05                    1944         .byte      5
      000A82 53 50 41 43 45        1945         .ascii     "SPACE"
      000A87                       1946 SPACE:
      000A87 CD 06 8A         [ 4] 1947         CALL     BLANK
      000A8A CC 00 99         [ 2] 1948         JP     EMIT
                                   1949 
                                   1950 ;       SPACES  ( +n -- )
                                   1951 ;       Send n spaces to output device.
      000A8D 0A 81                 1952         .word      LINK
                           000A8F  1953 LINK = . 
      000A8F 06                    1954         .byte      6
      000A90 53 50 41 43 45 53     1955         .ascii     "SPACES"
      000A96                       1956 SPACS:
      000A96 CD 06 97         [ 4] 1957         CALL     ZERO
      000A99 CD 04 6E         [ 4] 1958         CALL     MAX
      000A9C CD 01 B1         [ 4] 1959         CALL     TOR
      000A9F 20 03            [ 2] 1960         JRA     CHAR2
      000AA1 CD 0A 87         [ 4] 1961 CHAR1:  CALL     SPACE
      000AA4 CD 00 C7         [ 4] 1962 CHAR2:  CALL     DONXT
      000AA7 0A A1                 1963         .word      CHAR1
      000AA9 81               [ 4] 1964         RET
                                   1965 
                                   1966 ;       TYPE    ( b u -- )
                                   1967 ;       Output u characters from b.
      000AAA 0A 8F                 1968         .word      LINK
                           000AAC  1969 LINK = . 
      000AAC 04                    1970         .byte      4
      000AAD 54 59 50 45           1971         .ascii     "TYPE"
      000AB1                       1972 TYPES:
      000AB1 CD 01 B1         [ 4] 1973         CALL     TOR
      000AB4 20 0C            [ 2] 1974         JRA     TYPE2
      000AB6 CD 01 E8         [ 4] 1975 TYPE1:  CALL     DUPP
      000AB9 CD 01 59         [ 4] 1976         CALL     CAT
      000ABC CD 00 99         [ 4] 1977         CALL     EMIT
      000ABF CD 06 63         [ 4] 1978         CALL     ONEP
      000AC2 CD 00 C7         [ 4] 1979 TYPE2:  CALL     DONXT
      000AC5 0A B6                 1980         .word      TYPE1
      000AC7 CC 01 DE         [ 2] 1981         JP     DROP
                                   1982 
                                   1983 ;       CR      ( -- )
                                   1984 ;       Output a carriage return
                                   1985 ;       and a line feed.
      000ACA 0A AC                 1986         .word      LINK
                           000ACC  1987 LINK = . 
      000ACC 02                    1988         .byte      2
      000ACD 43 52                 1989         .ascii     "CR"
      000ACF                       1990 CR:
      000ACF CD 00 AF         [ 4] 1991         CALL     DOLIT
      000AD2 00 0D                 1992         .word      CRR
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 38.
Hexadecimal [24-Bits]



      000AD4 CD 00 99         [ 4] 1993         CALL     EMIT
      000AD7 CD 00 AF         [ 4] 1994         CALL     DOLIT
      000ADA 00 0A                 1995         .word      LF
      000ADC CC 00 99         [ 2] 1996         JP     EMIT
                                   1997 
                                   1998 ;       do$     ( -- a )
                                   1999 ;       Return  address of a compiled
                                   2000 ;       string.
      000ADF 0A CC                 2001         .word      LINK
                           000AE1  2002 LINK = . 
      000AE1 43                    2003 	.byte      COMPO+3
      000AE2 64 6F 24              2004         .ascii     "do$"
      000AE5                       2005 DOSTR:
      000AE5 CD 01 89         [ 4] 2006         CALL     RFROM
      000AE8 CD 01 9C         [ 4] 2007         CALL     RAT
      000AEB CD 01 89         [ 4] 2008         CALL     RFROM
      000AEE CD 07 5D         [ 4] 2009         CALL     COUNT
      000AF1 CD 03 8B         [ 4] 2010         CALL     PLUS
      000AF4 CD 01 B1         [ 4] 2011         CALL     TOR
      000AF7 CD 01 F8         [ 4] 2012         CALL     SWAPP
      000AFA CD 01 B1         [ 4] 2013         CALL     TOR
      000AFD 81               [ 4] 2014         RET
                                   2015 
                                   2016 ;       $"|     ( -- a )
                                   2017 ;       Run time routine compiled by $".
                                   2018 ;       Return address of a compiled string.
      000AFE 0A E1                 2019         .word      LINK
                           000B00  2020 LINK = . 
      000B00 43                    2021 	.byte      COMPO+3
      000B01 24 22 7C              2022         .byte     '$','"','|'
      000B04                       2023 STRQP:
      000B04 CD 0A E5         [ 4] 2024         CALL     DOSTR
      000B07 81               [ 4] 2025         RET
                                   2026 
                                   2027 ;       ."|     ( -- )
                                   2028 ;       Run time routine of ." .
                                   2029 ;       Output a compiled string.
      000B08 0B 00                 2030         .word      LINK
                           000B0A  2031 LINK = . 
      000B0A 43                    2032 	.byte      COMPO+3
      000B0B 2E 22 7C              2033         .byte     '.','"','|'
      000B0E                       2034 DOTQP:
      000B0E CD 0A E5         [ 4] 2035         CALL     DOSTR
      000B11 CD 07 5D         [ 4] 2036         CALL     COUNT
      000B14 CC 0A B1         [ 2] 2037         JP     TYPES
                                   2038 
                                   2039 ;       .R      ( n +n -- )
                                   2040 ;       Display an integer in a field
                                   2041 ;       of n columns, right justified.
      000B17 0B 0A                 2042         .word      LINK
                           000B19  2043 LINK = . 
      000B19 02                    2044         .byte      2
      000B1A 2E 52                 2045         .ascii     ".R"
      000B1C                       2046 DOTR:
      000B1C CD 01 B1         [ 4] 2047         CALL     TOR
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 39.
Hexadecimal [24-Bits]



      000B1F CD 08 F7         [ 4] 2048         CALL     STR
      000B22 CD 01 89         [ 4] 2049         CALL     RFROM
      000B25 CD 02 12         [ 4] 2050         CALL     OVER
      000B28 CD 03 E9         [ 4] 2051         CALL     SUBB
      000B2B CD 0A 96         [ 4] 2052         CALL     SPACS
      000B2E CC 0A B1         [ 2] 2053         JP     TYPES
                                   2054 
                                   2055 ;       U.R     ( u +n -- )
                                   2056 ;       Display an unsigned integer
                                   2057 ;       in n column, right justified.
      000B31 0B 19                 2058         .word      LINK
                           000B33  2059 LINK = . 
      000B33 03                    2060         .byte      3
      000B34 55 2E 52              2061         .ascii     "U.R"
      000B37                       2062 UDOTR:
      000B37 CD 01 B1         [ 4] 2063         CALL     TOR
      000B3A CD 08 7A         [ 4] 2064         CALL     BDIGS
      000B3D CD 08 B4         [ 4] 2065         CALL     DIGS
      000B40 CD 08 DF         [ 4] 2066         CALL     EDIGS
      000B43 CD 01 89         [ 4] 2067         CALL     RFROM
      000B46 CD 02 12         [ 4] 2068         CALL     OVER
      000B49 CD 03 E9         [ 4] 2069         CALL     SUBB
      000B4C CD 0A 96         [ 4] 2070         CALL     SPACS
      000B4F CC 0A B1         [ 2] 2071         JP     TYPES
                                   2072 
                                   2073 ;       U.      ( u -- )
                                   2074 ;       Display an unsigned integer
                                   2075 ;       in free format.
      000B52 0B 33                 2076         .word      LINK
                           000B54  2077 LINK = . 
      000B54 02                    2078         .byte      2
      000B55 55 2E                 2079         .ascii     "U."
      000B57                       2080 UDOT:
      000B57 CD 08 7A         [ 4] 2081         CALL     BDIGS
      000B5A CD 08 B4         [ 4] 2082         CALL     DIGS
      000B5D CD 08 DF         [ 4] 2083         CALL     EDIGS
      000B60 CD 0A 87         [ 4] 2084         CALL     SPACE
      000B63 CC 0A B1         [ 2] 2085         JP     TYPES
                                   2086 
                                   2087 ;       .       ( w -- )
                                   2088 ;       Display an integer in free
                                   2089 ;       format, preceeded by a space.
      000B66 0B 54                 2090         .word      LINK
                           000B68  2091 LINK = . 
      000B68 01                    2092         .byte      1
      000B69 2E                    2093         .ascii     "."
      000B6A                       2094 DOT:
      000B6A CD 02 A3         [ 4] 2095         CALL     BASE
      000B6D CD 01 3B         [ 4] 2096         CALL     AT
      000B70 CD 00 AF         [ 4] 2097         CALL     DOLIT
      000B73 00 0A                 2098         .word      10
      000B75 CD 02 5D         [ 4] 2099         CALL     XORR    ;?decimal
      000B78 CD 00 E6         [ 4] 2100         CALL     QBRAN
      000B7B 0B 80                 2101         .word      DOT1
      000B7D CC 0B 57         [ 2] 2102         JP     UDOT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 40.
Hexadecimal [24-Bits]



      000B80 CD 08 F7         [ 4] 2103 DOT1:   CALL     STR
      000B83 CD 0A 87         [ 4] 2104         CALL     SPACE
      000B86 CC 0A B1         [ 2] 2105         JP     TYPES
                                   2106 
                                   2107 ;       ?       ( a -- )
                                   2108 ;       Display contents in memory cell.
      000B89 0B 68                 2109         .word      LINK
                                   2110         
                           000B8B  2111 LINK = . 
      000B8B 01                    2112         .byte      1
      000B8C 3F                    2113         .ascii     "?"
      000B8D                       2114 QUEST:
      000B8D CD 01 3B         [ 4] 2115         CALL     AT
      000B90 CC 0B 6A         [ 2] 2116         JP     DOT
                                   2117 
                                   2118 ;; Parsing
                                   2119 
                                   2120 ;       parse   ( b u c -- b u delta ; <string> )
                                   2121 ;       Scan string delimited by c.
                                   2122 ;       Return found string and its offset.
      000B93 0B 8B                 2123         .word      LINK
                           000B95  2124 LINK = . 
      000B95 05                    2125         .byte      5
      000B96 70 61 72 73 65        2126         .ascii     "parse"
      000B9B                       2127 PARS:
      000B9B CD 02 B2         [ 4] 2128         CALL     TEMP
      000B9E CD 01 24         [ 4] 2129         CALL     STORE
      000BA1 CD 02 12         [ 4] 2130         CALL     OVER
      000BA4 CD 01 B1         [ 4] 2131         CALL     TOR
      000BA7 CD 01 E8         [ 4] 2132         CALL     DUPP
      000BAA CD 00 E6         [ 4] 2133         CALL     QBRAN
      000BAD 0C 53                 2134         .word      PARS8
      000BAF CD 06 70         [ 4] 2135         CALL     ONEM
      000BB2 CD 02 B2         [ 4] 2136         CALL     TEMP
      000BB5 CD 01 3B         [ 4] 2137         CALL     AT
      000BB8 CD 06 8A         [ 4] 2138         CALL     BLANK
      000BBB CD 04 11         [ 4] 2139         CALL     EQUAL
      000BBE CD 00 E6         [ 4] 2140         CALL     QBRAN
      000BC1 0B F4                 2141         .word      PARS3
      000BC3 CD 01 B1         [ 4] 2142         CALL     TOR
      000BC6 CD 06 8A         [ 4] 2143 PARS1:  CALL     BLANK
      000BC9 CD 02 12         [ 4] 2144         CALL     OVER
      000BCC CD 01 59         [ 4] 2145         CALL     CAT     ;skip leading blanks ONLY
      000BCF CD 03 E9         [ 4] 2146         CALL     SUBB
      000BD2 CD 02 21         [ 4] 2147         CALL     ZLESS
      000BD5 CD 03 A5         [ 4] 2148         CALL     INVER
      000BD8 CD 00 E6         [ 4] 2149         CALL     QBRAN
      000BDB 0B F1                 2150         .word      PARS2
      000BDD CD 06 63         [ 4] 2151         CALL     ONEP
      000BE0 CD 00 C7         [ 4] 2152         CALL     DONXT
      000BE3 0B C6                 2153         .word      PARS1
      000BE5 CD 01 89         [ 4] 2154         CALL     RFROM
      000BE8 CD 01 DE         [ 4] 2155         CALL     DROP
      000BEB CD 06 97         [ 4] 2156         CALL     ZERO
      000BEE CC 01 E8         [ 2] 2157         JP     DUPP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 41.
Hexadecimal [24-Bits]



      000BF1 CD 01 89         [ 4] 2158 PARS2:  CALL     RFROM
      000BF4 CD 02 12         [ 4] 2159 PARS3:  CALL     OVER
      000BF7 CD 01 F8         [ 4] 2160         CALL     SWAPP
      000BFA CD 01 B1         [ 4] 2161         CALL     TOR
      000BFD CD 02 B2         [ 4] 2162 PARS4:  CALL     TEMP
      000C00 CD 01 3B         [ 4] 2163         CALL     AT
      000C03 CD 02 12         [ 4] 2164         CALL     OVER
      000C06 CD 01 59         [ 4] 2165         CALL     CAT
      000C09 CD 03 E9         [ 4] 2166         CALL     SUBB    ;scan for delimiter
      000C0C CD 02 B2         [ 4] 2167         CALL     TEMP
      000C0F CD 01 3B         [ 4] 2168         CALL     AT
      000C12 CD 06 8A         [ 4] 2169         CALL     BLANK
      000C15 CD 04 11         [ 4] 2170         CALL     EQUAL
      000C18 CD 00 E6         [ 4] 2171         CALL     QBRAN
      000C1B 0C 20                 2172         .word      PARS5
      000C1D CD 02 21         [ 4] 2173         CALL     ZLESS
      000C20 CD 00 E6         [ 4] 2174 PARS5:  CALL     QBRAN
      000C23 0C 35                 2175         .word      PARS6
      000C25 CD 06 63         [ 4] 2176         CALL     ONEP
      000C28 CD 00 C7         [ 4] 2177         CALL     DONXT
      000C2B 0B FD                 2178         .word      PARS4
      000C2D CD 01 E8         [ 4] 2179         CALL     DUPP
      000C30 CD 01 B1         [ 4] 2180         CALL     TOR
      000C33 20 0F            [ 2] 2181         JRA     PARS7
      000C35 CD 01 89         [ 4] 2182 PARS6:  CALL     RFROM
      000C38 CD 01 DE         [ 4] 2183         CALL     DROP
      000C3B CD 01 E8         [ 4] 2184         CALL     DUPP
      000C3E CD 06 63         [ 4] 2185         CALL     ONEP
      000C41 CD 01 B1         [ 4] 2186         CALL     TOR
      000C44 CD 02 12         [ 4] 2187 PARS7:  CALL     OVER
      000C47 CD 03 E9         [ 4] 2188         CALL     SUBB
      000C4A CD 01 89         [ 4] 2189         CALL     RFROM
      000C4D CD 01 89         [ 4] 2190         CALL     RFROM
      000C50 CC 03 E9         [ 2] 2191         JP     SUBB
      000C53 CD 02 12         [ 4] 2192 PARS8:  CALL     OVER
      000C56 CD 01 89         [ 4] 2193         CALL     RFROM
      000C59 CC 03 E9         [ 2] 2194         JP     SUBB
                                   2195 
                                   2196 ;       PARSE   ( c -- b u ; <string> )
                                   2197 ;       Scan input stream and return
                                   2198 ;       counted string delimited by c.
      000C5C 0B 95                 2199         .word      LINK
                           000C5E  2200 LINK = . 
      000C5E 05                    2201         .byte      5
      000C5F 50 41 52 53 45        2202         .ascii     "PARSE"
      000C64                       2203 PARSE:
      000C64 CD 01 B1         [ 4] 2204         CALL     TOR
      000C67 CD 07 8D         [ 4] 2205         CALL     TIB
      000C6A CD 02 C1         [ 4] 2206         CALL     INN
      000C6D CD 01 3B         [ 4] 2207         CALL     AT
      000C70 CD 03 8B         [ 4] 2208         CALL     PLUS    ;current input buffer pointer
      000C73 CD 02 D1         [ 4] 2209         CALL     NTIB
      000C76 CD 01 3B         [ 4] 2210         CALL     AT
      000C79 CD 02 C1         [ 4] 2211         CALL     INN
      000C7C CD 01 3B         [ 4] 2212         CALL     AT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 42.
Hexadecimal [24-Bits]



      000C7F CD 03 E9         [ 4] 2213         CALL     SUBB    ;remaining count
      000C82 CD 01 89         [ 4] 2214         CALL     RFROM
      000C85 CD 0B 9B         [ 4] 2215         CALL     PARS
      000C88 CD 02 C1         [ 4] 2216         CALL     INN
      000C8B CC 07 1B         [ 2] 2217         JP     PSTOR
                                   2218 
                                   2219 ;       .(      ( -- )
                                   2220 ;       Output following string up to next ) .
      000C8E 0C 5E                 2221         .word      LINK
                           000C90  2222 LINK = . 
      000C90 82                    2223 	.byte      IMEDD+2
      000C91 2E 28                 2224         .ascii     ".("
      000C93                       2225 DOTPR:
      000C93 CD 00 AF         [ 4] 2226         CALL     DOLIT
      000C96 00 29                 2227         .word     41	; ")"
      000C98 CD 0C 64         [ 4] 2228         CALL     PARSE
      000C9B CC 0A B1         [ 2] 2229         JP     TYPES
                                   2230 
                                   2231 ;       (       ( -- )
                                   2232 ;       Ignore following string up to next ).
                                   2233 ;       A comment.
      000C9E 0C 90                 2234         .word      LINK
                           000CA0  2235 LINK = . 
      000CA0 81                    2236 	.byte      IMEDD+1
      000CA1 28                    2237         .ascii     "("
      000CA2                       2238 PAREN:
      000CA2 CD 00 AF         [ 4] 2239         CALL     DOLIT
      000CA5 00 29                 2240         .word     41	; ")"
      000CA7 CD 0C 64         [ 4] 2241         CALL     PARSE
      000CAA CC 03 6B         [ 2] 2242         JP     DDROP
                                   2243 
                                   2244 ;       \       ( -- )
                                   2245 ;       Ignore following text till
                                   2246 ;       end of line.
      000CAD 0C A0                 2247         .word      LINK
                           000CAF  2248 LINK = . 
      000CAF 81                    2249 			.byte      IMEDD+1
      000CB0 5C 5C                 2250         .ascii     "\\"
      000CB2                       2251 BKSLA:
      000CB2 CD 02 D1         [ 4] 2252         CALL     NTIB
      000CB5 CD 01 3B         [ 4] 2253         CALL     AT
      000CB8 CD 02 C1         [ 4] 2254         CALL     INN
      000CBB CC 01 24         [ 2] 2255         JP     STORE
                                   2256 
                                   2257 ;       WORD    ( c -- a ; <string> )
                                   2258 ;       Parse a word from input stream
                                   2259 ;       and copy it to code dictionary.
      000CBE 0C AF                 2260         .word      LINK
                           000CC0  2261 LINK = . 
      000CC0 04                    2262         .byte      4
      000CC1 57 4F 52 44           2263         .ascii     "WORD"
      000CC5                       2264 WORDD:
      000CC5 CD 0C 64         [ 4] 2265         CALL     PARSE
      000CC8 CD 07 70         [ 4] 2266         CALL     HERE
      000CCB CD 06 38         [ 4] 2267         CALL     CELLP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 43.
Hexadecimal [24-Bits]



      000CCE CC 08 1D         [ 2] 2268         JP     PACKS
                                   2269 
                                   2270 ;       TOKEN   ( -- a ; <string> )
                                   2271 ;       Parse a word from input stream
                                   2272 ;       and copy it to name dictionary.
      000CD1 0C C0                 2273         .word      LINK
                           000CD3  2274 LINK = . 
      000CD3 05                    2275         .byte      5
      000CD4 54 4F 4B 45 4E        2276         .ascii     "TOKEN"
      000CD9                       2277 TOKEN:
      000CD9 CD 06 8A         [ 4] 2278         CALL     BLANK
      000CDC CC 0C C5         [ 2] 2279         JP     WORDD
                                   2280 
                                   2281 ;; Dictionary search
                                   2282 
                                   2283 ;       NAME>   ( na -- ca )
                                   2284 ;       Return a code address given
                                   2285 ;       a name address.
      000CDF 0C D3                 2286         .word      LINK
                           000CE1  2287 LINK = . 
      000CE1 05                    2288         .byte      5
      000CE2 4E 41 4D 45 3E        2289         .ascii     "NAME>"
      000CE7                       2290 NAMET:
      000CE7 CD 07 5D         [ 4] 2291         CALL     COUNT
      000CEA CD 00 AF         [ 4] 2292         CALL     DOLIT
      000CED 00 1F                 2293         .word      31
      000CEF CD 02 34         [ 4] 2294         CALL     ANDD
      000CF2 CC 03 8B         [ 2] 2295         JP     PLUS
                                   2296 
                                   2297 ;       SAME?   ( a a u -- a a f \ -0+ )
                                   2298 ;       Compare u cells in two
                                   2299 ;       strings. Return 0 if identical.
      000CF5 0C E1                 2300         .word      LINK
                           000CF7  2301 LINK = . 
      000CF7 05                    2302         .byte       5
      000CF8 53 41 4D 45 3F        2303         .ascii     "SAME?"
      000CFD                       2304 SAMEQ:
      000CFD CD 06 70         [ 4] 2305         CALL     ONEM
      000D00 CD 01 B1         [ 4] 2306         CALL     TOR
      000D03 20 29            [ 2] 2307         JRA     SAME2
      000D05 CD 02 12         [ 4] 2308 SAME1:  CALL     OVER
      000D08 CD 01 9C         [ 4] 2309         CALL     RAT
      000D0B CD 03 8B         [ 4] 2310         CALL     PLUS
      000D0E CD 01 59         [ 4] 2311         CALL     CAT
      000D11 CD 02 12         [ 4] 2312         CALL     OVER
      000D14 CD 01 9C         [ 4] 2313         CALL     RAT
      000D17 CD 03 8B         [ 4] 2314         CALL     PLUS
      000D1A CD 01 59         [ 4] 2315         CALL     CAT
      000D1D CD 03 E9         [ 4] 2316         CALL     SUBB
      000D20 CD 03 32         [ 4] 2317         CALL     QDUP
      000D23 CD 00 E6         [ 4] 2318         CALL     QBRAN
      000D26 0D 2E                 2319         .word      SAME2
      000D28 CD 01 89         [ 4] 2320         CALL     RFROM
      000D2B CC 01 DE         [ 2] 2321         JP     DROP
      000D2E CD 00 C7         [ 4] 2322 SAME2:  CALL     DONXT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 44.
Hexadecimal [24-Bits]



      000D31 0D 05                 2323         .word      SAME1
      000D33 CC 06 97         [ 2] 2324         JP     ZERO
                                   2325 
                                   2326 ;       find    ( a va -- ca na | a F )
                                   2327 ;       Search vocabulary for string.
                                   2328 ;       Return ca and na if succeeded.
      000D36 0C F7                 2329         .word      LINK
                           000D38  2330 LINK = . 
      000D38 04                    2331         .byte      4
      000D39 66 69 6E 64           2332         .ascii     "find"
      000D3D                       2333 FIND:
      000D3D CD 01 F8         [ 4] 2334         CALL     SWAPP
      000D40 CD 01 E8         [ 4] 2335         CALL     DUPP
      000D43 CD 01 59         [ 4] 2336         CALL     CAT
      000D46 CD 02 B2         [ 4] 2337         CALL     TEMP
      000D49 CD 01 24         [ 4] 2338         CALL     STORE
      000D4C CD 01 E8         [ 4] 2339         CALL     DUPP
      000D4F CD 01 3B         [ 4] 2340         CALL     AT
      000D52 CD 01 B1         [ 4] 2341         CALL     TOR
      000D55 CD 06 38         [ 4] 2342         CALL     CELLP
      000D58 CD 01 F8         [ 4] 2343         CALL     SWAPP
      000D5B CD 01 3B         [ 4] 2344 FIND1:  CALL     AT
      000D5E CD 01 E8         [ 4] 2345         CALL     DUPP
      000D61 CD 00 E6         [ 4] 2346         CALL     QBRAN
      000D64 0D 9A                 2347         .word      FIND6
      000D66 CD 01 E8         [ 4] 2348         CALL     DUPP
      000D69 CD 01 3B         [ 4] 2349         CALL     AT
      000D6C CD 00 AF         [ 4] 2350         CALL     DOLIT
      000D6F 1F 7F                 2351         .word      MASKK
      000D71 CD 02 34         [ 4] 2352         CALL     ANDD
      000D74 CD 01 9C         [ 4] 2353         CALL     RAT
      000D77 CD 02 5D         [ 4] 2354         CALL     XORR
      000D7A CD 00 E6         [ 4] 2355         CALL     QBRAN
      000D7D 0D 89                 2356         .word      FIND2
      000D7F CD 06 38         [ 4] 2357         CALL     CELLP
      000D82 CD 00 AF         [ 4] 2358         CALL     DOLIT
      000D85 FF FF                 2359         .word     0xFFFF
      000D87 20 0C            [ 2] 2360         JRA     FIND3
      000D89 CD 06 38         [ 4] 2361 FIND2:  CALL     CELLP
      000D8C CD 02 B2         [ 4] 2362         CALL     TEMP
      000D8F CD 01 3B         [ 4] 2363         CALL     AT
      000D92 CD 0C FD         [ 4] 2364         CALL     SAMEQ
      000D95 CD 00 FD         [ 4] 2365 FIND3:  CALL     BRAN
      000D98 0D A9                 2366         .word      FIND4
      000D9A CD 01 89         [ 4] 2367 FIND6:  CALL     RFROM
      000D9D CD 01 DE         [ 4] 2368         CALL     DROP
      000DA0 CD 01 F8         [ 4] 2369         CALL     SWAPP
      000DA3 CD 06 47         [ 4] 2370         CALL     CELLM
      000DA6 CC 01 F8         [ 2] 2371         JP     SWAPP
      000DA9 CD 00 E6         [ 4] 2372 FIND4:  CALL     QBRAN
      000DAC 0D B6                 2373         .word      FIND5
      000DAE CD 06 47         [ 4] 2374         CALL     CELLM
      000DB1 CD 06 47         [ 4] 2375         CALL     CELLM
      000DB4 20 A5            [ 2] 2376         JRA     FIND1
      000DB6 CD 01 89         [ 4] 2377 FIND5:  CALL     RFROM
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 45.
Hexadecimal [24-Bits]



      000DB9 CD 01 DE         [ 4] 2378         CALL     DROP
      000DBC CD 01 F8         [ 4] 2379         CALL     SWAPP
      000DBF CD 01 DE         [ 4] 2380         CALL     DROP
      000DC2 CD 06 47         [ 4] 2381         CALL     CELLM
      000DC5 CD 01 E8         [ 4] 2382         CALL     DUPP
      000DC8 CD 0C E7         [ 4] 2383         CALL     NAMET
      000DCB CC 01 F8         [ 2] 2384         JP     SWAPP
                                   2385 
                                   2386 ;       NAME?   ( a -- ca na | a F )
                                   2387 ;       Search vocabularies for a string.
      000DCE 0D 38                 2388         .word      LINK
                           000DD0  2389 LINK = . 
      000DD0 05                    2390         .byte      5
      000DD1 4E 41 4D 45 3F        2391         .ascii     "NAME?"
      000DD6                       2392 NAMEQ:
      000DD6 CD 03 04         [ 4] 2393         CALL     CNTXT
      000DD9 CC 0D 3D         [ 2] 2394         JP     FIND
                                   2395 
                                   2396 ;; Terminal response
                                   2397 
                                   2398 ;       ^H      ( bot eot cur -- bot eot cur )
                                   2399 ;       Backup cursor by one character.
      000DDC 0D D0                 2400         .word      LINK
                           000DDE  2401 LINK = . 
      000DDE 02                    2402         .byte      2
      000DDF 5E 68                 2403         .ascii     "^h"
      000DE1                       2404 BKSP:
      000DE1 CD 01 B1         [ 4] 2405         CALL     TOR
      000DE4 CD 02 12         [ 4] 2406         CALL     OVER
      000DE7 CD 01 89         [ 4] 2407         CALL     RFROM
      000DEA CD 01 F8         [ 4] 2408         CALL     SWAPP
      000DED CD 02 12         [ 4] 2409         CALL     OVER
      000DF0 CD 02 5D         [ 4] 2410         CALL     XORR
      000DF3 CD 00 E6         [ 4] 2411         CALL     QBRAN
      000DF6 0E 11                 2412         .word      BACK1
      000DF8 CD 00 AF         [ 4] 2413         CALL     DOLIT
      000DFB 00 08                 2414         .word      BKSPP
      000DFD CD 00 99         [ 4] 2415         CALL     EMIT
      000E00 CD 06 70         [ 4] 2416         CALL     ONEM
      000E03 CD 06 8A         [ 4] 2417         CALL     BLANK
      000E06 CD 00 99         [ 4] 2418         CALL     EMIT
      000E09 CD 00 AF         [ 4] 2419         CALL     DOLIT
      000E0C 00 08                 2420         .word      BKSPP
      000E0E CC 00 99         [ 2] 2421         JP     EMIT
      000E11 81               [ 4] 2422 BACK1:  RET
                                   2423 
                                   2424 ;       TAP     ( bot eot cur c -- bot eot cur )
                                   2425 ;       Accept and echo key stroke
                                   2426 ;       and bump cursor.
      000E12 0D DE                 2427         .word      LINK
                           000E14  2428 LINK = . 
      000E14 03                    2429         .byte      3
      000E15 54 41 50              2430         .ascii     "TAP"
      000E18                       2431 TAP:
      000E18 CD 01 E8         [ 4] 2432         CALL     DUPP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 46.
Hexadecimal [24-Bits]



      000E1B CD 00 99         [ 4] 2433         CALL     EMIT
      000E1E CD 02 12         [ 4] 2434         CALL     OVER
      000E21 CD 01 48         [ 4] 2435         CALL     CSTOR
      000E24 CC 06 63         [ 2] 2436         JP     ONEP
                                   2437 
                                   2438 ;       kTAP    ( bot eot cur c -- bot eot cur )
                                   2439 ;       Process a key stroke,
                                   2440 ;       CR or backspace.
      000E27 0E 14                 2441         .word      LINK
                           000E29  2442 LINK = . 
      000E29 04                    2443         .byte      4
      000E2A 6B 54 41 50           2444         .ascii     "kTAP"
      000E2E                       2445 KTAP:
      000E2E CD 01 E8         [ 4] 2446         CALL     DUPP
      000E31 CD 00 AF         [ 4] 2447         CALL     DOLIT
      000E34 00 0D                 2448         .word      CRR
      000E36 CD 02 5D         [ 4] 2449         CALL     XORR
      000E39 CD 00 E6         [ 4] 2450         CALL     QBRAN
      000E3C 0E 54                 2451         .word      KTAP2
      000E3E CD 00 AF         [ 4] 2452         CALL     DOLIT
      000E41 00 08                 2453         .word      BKSPP
      000E43 CD 02 5D         [ 4] 2454         CALL     XORR
      000E46 CD 00 E6         [ 4] 2455         CALL     QBRAN
      000E49 0E 51                 2456         .word      KTAP1
      000E4B CD 06 8A         [ 4] 2457         CALL     BLANK
      000E4E CC 0E 18         [ 2] 2458         JP     TAP
      000E51 CC 0D E1         [ 2] 2459 KTAP1:  JP     BKSP
      000E54 CD 01 DE         [ 4] 2460 KTAP2:  CALL     DROP
      000E57 CD 01 F8         [ 4] 2461         CALL     SWAPP
      000E5A CD 01 DE         [ 4] 2462         CALL     DROP
      000E5D CC 01 E8         [ 2] 2463         JP     DUPP
                                   2464 
                                   2465 ;       accept  ( b u -- b u )
                                   2466 ;       Accept characters to input
                                   2467 ;       buffer. Return with actual count.
      000E60 0E 29                 2468         .word      LINK
                           000E62  2469 LINK = . 
      000E62 06                    2470         .byte      6
      000E63 41 43 43 45 50 54     2471         .ascii     "ACCEPT"
      000E69                       2472 ACCEP:
      000E69 CD 02 12         [ 4] 2473         CALL     OVER
      000E6C CD 03 8B         [ 4] 2474         CALL     PLUS
      000E6F CD 02 12         [ 4] 2475         CALL     OVER
      000E72 CD 03 76         [ 4] 2476 ACCP1:  CALL     DDUP
      000E75 CD 02 5D         [ 4] 2477         CALL     XORR
      000E78 CD 00 E6         [ 4] 2478         CALL     QBRAN
      000E7B 0E 9D                 2479         .word      ACCP4
      000E7D CD 0A 55         [ 4] 2480         CALL     KEY
      000E80 CD 01 E8         [ 4] 2481         CALL     DUPP
      000E83 CD 06 8A         [ 4] 2482         CALL     BLANK
      000E86 CD 00 AF         [ 4] 2483         CALL     DOLIT
      000E89 00 7F                 2484         .word      127
      000E8B CD 04 AB         [ 4] 2485         CALL     WITHI
      000E8E CD 00 E6         [ 4] 2486         CALL     QBRAN
      000E91 0E 98                 2487         .word      ACCP2
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 47.
Hexadecimal [24-Bits]



      000E93 CD 0E 18         [ 4] 2488         CALL     TAP
      000E96 20 03            [ 2] 2489         JRA     ACCP3
      000E98 CD 0E 2E         [ 4] 2490 ACCP2:  CALL     KTAP
      000E9B 20 D5            [ 2] 2491 ACCP3:  JRA     ACCP1
      000E9D CD 01 DE         [ 4] 2492 ACCP4:  CALL     DROP
      000EA0 CD 02 12         [ 4] 2493         CALL     OVER
      000EA3 CC 03 E9         [ 2] 2494         JP     SUBB
                                   2495 
                                   2496 ;       QUERY   ( -- )
                                   2497 ;       Accept input stream to
                                   2498 ;       terminal input buffer.
      000EA6 0E 62                 2499         .word      LINK
                                   2500         
                           000EA8  2501 LINK = . 
      000EA8 05                    2502         .byte      5
      000EA9 51 55 45 52 59        2503         .ascii     "QUERY"
      000EAE                       2504 QUERY:
      000EAE CD 07 8D         [ 4] 2505         CALL     TIB
      000EB1 CD 00 AF         [ 4] 2506         CALL     DOLIT
      000EB4 00 50                 2507         .word      80
      000EB6 CD 0E 69         [ 4] 2508         CALL     ACCEP
      000EB9 CD 02 D1         [ 4] 2509         CALL     NTIB
      000EBC CD 01 24         [ 4] 2510         CALL     STORE
      000EBF CD 01 DE         [ 4] 2511         CALL     DROP
      000EC2 CD 06 97         [ 4] 2512         CALL     ZERO
      000EC5 CD 02 C1         [ 4] 2513         CALL     INN
      000EC8 CC 01 24         [ 2] 2514         JP     STORE
                                   2515 
                                   2516 ;       ABORT   ( -- )
                                   2517 ;       Reset data stack and
                                   2518 ;       jump to QUIT.
      000ECB 0E A8                 2519         .word      LINK
                           000ECD  2520 LINK = . 
      000ECD 05                    2521         .byte      5
      000ECE 41 42 4F 52 54        2522         .ascii     "ABORT"
      000ED3                       2523 ABORT:
      000ED3 CD 0F CA         [ 4] 2524         CALL     PRESE
      000ED6 CC 0F E7         [ 2] 2525         JP     QUIT
                                   2526 
                                   2527 ;       abort"  ( f -- )
                                   2528 ;       Run time routine of ABORT".
                                   2529 ;       Abort with a message.
      000ED9 0E CD                 2530         .word      LINK
                           000EDB  2531 LINK = . 
      000EDB 46                    2532 	.byte      COMPO+6
      000EDC 61 62 6F 72 74        2533         .ascii     "abort"
      000EE1 22                    2534         .byte      '"'
      000EE2                       2535 ABORQ:
      000EE2 CD 00 E6         [ 4] 2536         CALL     QBRAN
      000EE5 0F 01                 2537         .word      ABOR2   ;text flag
      000EE7 CD 0A E5         [ 4] 2538         CALL     DOSTR
      000EEA CD 0A 87         [ 4] 2539 ABOR1:  CALL     SPACE
      000EED CD 07 5D         [ 4] 2540         CALL     COUNT
      000EF0 CD 0A B1         [ 4] 2541         CALL     TYPES
      000EF3 CD 00 AF         [ 4] 2542         CALL     DOLIT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 48.
Hexadecimal [24-Bits]



      000EF6 00 3F                 2543         .word     63 ; "?"
      000EF8 CD 00 99         [ 4] 2544         CALL     EMIT
      000EFB CD 0A CF         [ 4] 2545         CALL     CR
      000EFE CC 0E D3         [ 2] 2546         JP     ABORT   ;pass error string
      000F01 CD 0A E5         [ 4] 2547 ABOR2:  CALL     DOSTR
      000F04 CC 01 DE         [ 2] 2548         JP     DROP
                                   2549 
                                   2550 ;; The text interpreter
                                   2551 
                                   2552 ;       $INTERPRET      ( a -- )
                                   2553 ;       Interpret a word. If failed,
                                   2554 ;       try to convert it to an integer.
      000F07 0E DB                 2555         .word      LINK
                           000F09  2556 LINK = . 
      000F09 0A                    2557         .byte      10
      000F0A 24 49 4E 54 45 52 50  2558         .ascii     "$INTERPRET"
             52 45 54
      000F14                       2559 INTER:
      000F14 CD 0D D6         [ 4] 2560         CALL     NAMEQ
      000F17 CD 03 32         [ 4] 2561         CALL     QDUP    ;?defined
      000F1A CD 00 E6         [ 4] 2562         CALL     QBRAN
      000F1D 0F 3E                 2563         .word      INTE1
      000F1F CD 01 3B         [ 4] 2564         CALL     AT
      000F22 CD 00 AF         [ 4] 2565         CALL     DOLIT
      000F25 40 00                 2566 		.word       0x4000	; COMPO*256
      000F27 CD 02 34         [ 4] 2567         CALL     ANDD    ;?compile only lexicon bits
      000F2A CD 0E E2         [ 4] 2568         CALL     ABORQ
      000F2D 0D                    2569         .byte      13
      000F2E 20 63 6F 6D 70 69 6C  2570         .ascii     " compile only"
             65 20 6F 6E 6C 79
      000F3B CC 01 0D         [ 2] 2571         JP     EXECU
      000F3E CD 09 82         [ 4] 2572 INTE1:  CALL     NUMBQ   ;convert a number
      000F41 CD 00 E6         [ 4] 2573         CALL     QBRAN
      000F44 0E EA                 2574         .word      ABOR1
      000F46 81               [ 4] 2575         RET
                                   2576 
                                   2577 ;       [       ( -- )
                                   2578 ;       Start  text interpreter.
      000F47 0F 09                 2579         .word      LINK
                           000F49  2580 LINK = . 
      000F49 81                    2581 	.byte      IMEDD+1
      000F4A 5B                    2582         .ascii     "["
      000F4B                       2583 LBRAC:
      000F4B CD 00 AF         [ 4] 2584         CALL     DOLIT
      000F4E 0F 14                 2585         .word      INTER
      000F50 CD 02 E2         [ 4] 2586         CALL     TEVAL
      000F53 CC 01 24         [ 2] 2587         JP     STORE
                                   2588 
                                   2589 ;       .OK     ( -- )
                                   2590 ;       Display 'ok' while interpreting.
      000F56 0F 49                 2591         .word      LINK
                           000F58  2592 LINK = . 
      000F58 03                    2593         .byte      3
      000F59 2E 4F 4B              2594         .ascii     ".OK"
      000F5C                       2595 DOTOK:
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 49.
Hexadecimal [24-Bits]



      000F5C CD 00 AF         [ 4] 2596         CALL     DOLIT
      000F5F 0F 14                 2597         .word      INTER
      000F61 CD 02 E2         [ 4] 2598         CALL     TEVAL
      000F64 CD 01 3B         [ 4] 2599         CALL     AT
      000F67 CD 04 11         [ 4] 2600         CALL     EQUAL
      000F6A CD 00 E6         [ 4] 2601         CALL     QBRAN
      000F6D 0F 76                 2602         .word      DOTO1
      000F6F CD 0B 0E         [ 4] 2603         CALL     DOTQP
      000F72 03                    2604         .byte      3
      000F73 20 6F 6B              2605         .ascii     " ok"
      000F76 CC 0A CF         [ 2] 2606 DOTO1:  JP     CR
                                   2607 
                                   2608 ;       ?STACK  ( -- )
                                   2609 ;       Abort if stack underflows.
      000F79 0F 58                 2610         .word      LINK
                           000F7B  2611 LINK = . 
      000F7B 06                    2612         .byte      6
      000F7C 3F 53 54 41 43 4B     2613         .ascii     "?STACK"
      000F82                       2614 QSTAC:
      000F82 CD 06 ED         [ 4] 2615         CALL     DEPTH
      000F85 CD 02 21         [ 4] 2616         CALL     ZLESS   ;check only for underflow
      000F88 CD 0E E2         [ 4] 2617         CALL     ABORQ
      000F8B 0B                    2618         .byte      11
      000F8C 20 75 6E 64 65 72 66  2619         .ascii     " underflow "
             6C 6F 77 20
      000F97 81               [ 4] 2620         RET
                                   2621 
                                   2622 ;       EVAL    ( -- )
                                   2623 ;       Interpret  input stream.
      000F98 0F 7B                 2624         .word      LINK
                           000F9A  2625 LINK = . 
      000F9A 04                    2626         .byte      4
      000F9B 45 56 41 4C           2627         .ascii     "EVAL"
      000F9F                       2628 EVAL:
      000F9F CD 0C D9         [ 4] 2629 EVAL1:  CALL     TOKEN
      000FA2 CD 01 E8         [ 4] 2630         CALL     DUPP
      000FA5 CD 01 59         [ 4] 2631         CALL     CAT     ;?input stream empty
      000FA8 CD 00 E6         [ 4] 2632         CALL     QBRAN
      000FAB 0F BB                 2633         .word      EVAL2
      000FAD CD 02 E2         [ 4] 2634         CALL     TEVAL
      000FB0 CD 07 A1         [ 4] 2635         CALL     ATEXE
      000FB3 CD 0F 82         [ 4] 2636         CALL     QSTAC   ;evaluate input, check stack
      000FB6 CD 00 FD         [ 4] 2637         CALL     BRAN
      000FB9 0F 9F                 2638         .word      EVAL1
      000FBB CD 01 DE         [ 4] 2639 EVAL2:  CALL     DROP
      000FBE CC 0F 5C         [ 2] 2640         JP     DOTOK
                                   2641 
                                   2642 ;       PRESET  ( -- )
                                   2643 ;       Reset data stack pointer and
                                   2644 ;       terminal input buffer.
      000FC1 0F 9A                 2645         .word      LINK
                           000FC3  2646 LINK = . 
      000FC3 06                    2647         .byte      6
      000FC4 50 52 45 53 45 54     2648         .ascii     "PRESET"
      000FCA                       2649 PRESE:
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 50.
Hexadecimal [24-Bits]



      000FCA CD 00 AF         [ 4] 2650         CALL     DOLIT
      000FCD 16 F0                 2651         .word      SPP
      000FCF CD 01 D5         [ 4] 2652         CALL     SPSTO
      000FD2 CD 00 AF         [ 4] 2653         CALL     DOLIT
      000FD5 17 00                 2654         .word      TIBB
      000FD7 CD 02 D1         [ 4] 2655         CALL     NTIB
      000FDA CD 06 38         [ 4] 2656         CALL     CELLP
      000FDD CC 01 24         [ 2] 2657         JP     STORE
                                   2658 
                                   2659 ;       QUIT    ( -- )
                                   2660 ;       Reset return stack pointer
                                   2661 ;       and start text interpreter.
      000FE0 0F C3                 2662         .word      LINK
                           000FE2  2663 LINK = . 
      000FE2 04                    2664         .byte      4
      000FE3 51 55 49 54           2665         .ascii     "QUIT"
      000FE7                       2666 QUIT:
      000FE7 CD 00 AF         [ 4] 2667         CALL     DOLIT
      000FEA 17 FF                 2668         .word      RPP
      000FEC CD 01 76         [ 4] 2669         CALL     RPSTO   ;reset return stack pointer
      000FEF CD 0F 4B         [ 4] 2670 QUIT1:  CALL     LBRAC   ;start interpretation
      000FF2 CD 0E AE         [ 4] 2671 QUIT2:  CALL     QUERY   ;get input
      000FF5 CD 0F 9F         [ 4] 2672         CALL     EVAL
      000FF8 20 F8            [ 2] 2673         JRA     QUIT2   ;continue till error
                                   2674 
                                   2675 ;; The compiler
                                   2676 
                                   2677 ;       '       ( -- ca )
                                   2678 ;       Search vocabularies for
                                   2679 ;       next word in input stream.
      000FFA 0F E2                 2680         .word      LINK
                           000FFC  2681 LINK = . 
      000FFC 01                    2682         .byte      1
      000FFD 27                    2683         .ascii     "'"
      000FFE                       2684 TICK:
      000FFE CD 0C D9         [ 4] 2685         CALL     TOKEN
      001001 CD 0D D6         [ 4] 2686         CALL     NAMEQ   ;?defined
      001004 CD 00 E6         [ 4] 2687         CALL     QBRAN
      001007 0E EA                 2688         .word      ABOR1
      001009 81               [ 4] 2689         RET     ;yes, push code address
                                   2690 
                                   2691 ;       ALLOT   ( n -- )
                                   2692 ;       Allocate n bytes to  code dictionary.
      00100A 0F FC                 2693         .word      LINK
                           00100C  2694 LINK = . 
      00100C 05                    2695         .byte      5
      00100D 41 4C 4C 4F 54        2696         .ascii     "ALLOT"
      001012                       2697 ALLOT:
      001012 CD 03 12         [ 4] 2698         CALL     CPP
      001015 CC 07 1B         [ 2] 2699         JP     PSTOR
                                   2700 
                                   2701 ;       ,       ( w -- )
                                   2702 ;         Compile an integer into
                                   2703 ;         code dictionary.
      001018 10 0C                 2704         .word      LINK
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 51.
Hexadecimal [24-Bits]



                           00101A  2705 LINK = . 
      00101A 01                    2706         .byte      1
      00101B 2C                    2707         .ascii     ","
      00101C                       2708 COMMA:
      00101C CD 07 70         [ 4] 2709         CALL     HERE
      00101F CD 01 E8         [ 4] 2710         CALL     DUPP
      001022 CD 06 38         [ 4] 2711         CALL     CELLP   ;cell boundary
      001025 CD 03 12         [ 4] 2712         CALL     CPP
      001028 CD 01 24         [ 4] 2713         CALL     STORE
      00102B CC 01 24         [ 2] 2714         JP     STORE
                                   2715 
                                   2716 ;       C,      ( c -- )
                                   2717 ;       Compile a byte into
                                   2718 ;       code dictionary.
      00102E 10 1A                 2719        .word      LINK
                           001030  2720 LINK = . 
      001030 02                    2721         .byte      2
      001031 43 2C                 2722         .ascii     "C,"
      001033                       2723 CCOMMA:
      001033 CD 07 70         [ 4] 2724         CALL     HERE
      001036 CD 01 E8         [ 4] 2725         CALL     DUPP
      001039 CD 06 63         [ 4] 2726         CALL     ONEP
      00103C CD 03 12         [ 4] 2727         CALL     CPP
      00103F CD 01 24         [ 4] 2728         CALL     STORE
      001042 CC 01 48         [ 2] 2729         JP     CSTOR
                                   2730 
                                   2731 ;       [COMPILE]       ( -- ; <string> )
                                   2732 ;       Compile next immediate
                                   2733 ;       word into code dictionary.
      001045 10 30                 2734         .word      LINK
                           001047  2735 LINK = . 
      001047 89                    2736 	.byte      IMEDD+9
      001048 5B 43 4F 4D 50 49 4C  2737         .ascii     "[COMPILE]"
             45 5D
      001051                       2738 BCOMP:
      001051 CD 0F FE         [ 4] 2739         CALL     TICK
      001054 CC 12 AD         [ 2] 2740         JP     JSRC
                                   2741 
                                   2742 ;       COMPILE ( -- )
                                   2743 ;       Compile next jsr in
                                   2744 ;       colon list to code dictionary.
      001057 10 47                 2745         .word      LINK
                           001059  2746 LINK = . 
      001059 47                    2747 	.byte      COMPO+7
      00105A 43 4F 4D 50 49 4C 45  2748         .ascii     "COMPILE"
      001061                       2749 COMPI:
      001061 CD 01 89         [ 4] 2750         CALL     RFROM
      001064 CD 06 63         [ 4] 2751         CALL     ONEP
      001067 CD 01 E8         [ 4] 2752         CALL     DUPP
      00106A CD 01 3B         [ 4] 2753         CALL     AT
      00106D CD 12 AD         [ 4] 2754         CALL     JSRC    ;compile subroutine
      001070 CD 06 38         [ 4] 2755         CALL     CELLP
      001073 CC 01 B1         [ 2] 2756         JP     TOR
                                   2757 
                                   2758 ;       LITERAL ( w -- )
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 52.
Hexadecimal [24-Bits]



                                   2759 ;       Compile tos to dictionary
                                   2760 ;       as an integer literal.
      001076 10 59                 2761         .word      LINK
                           001078  2762 LINK = . 
      001078 87                    2763 	.byte      IMEDD+7
      001079 4C 49 54 45 52 41 4C  2764         .ascii     "LITERAL"
      001080                       2765 LITER:
      001080 CD 10 61         [ 4] 2766         CALL     COMPI
      001083 CD 00 AF         [ 4] 2767         CALL     DOLIT
      001086 CC 10 1C         [ 2] 2768         JP     COMMA
                                   2769 
                                   2770 ;       $,"     ( -- )
                                   2771 ;       Compile a literal string
                                   2772 ;       up to next " .
      001089 10 78                 2773         .word      LINK
                           00108B  2774 LINK = . 
      00108B 03                    2775         .byte      3
      00108C 24 2C 22              2776         .byte     '$',',','"'
      00108F                       2777 STRCQ:
      00108F CD 00 AF         [ 4] 2778         CALL     DOLIT
      001092 00 22                 2779         .word     34	; "
      001094 CD 0C 64         [ 4] 2780         CALL     PARSE
      001097 CD 07 70         [ 4] 2781         CALL     HERE
      00109A CD 08 1D         [ 4] 2782         CALL     PACKS   ;string to code dictionary
      00109D CD 07 5D         [ 4] 2783         CALL     COUNT
      0010A0 CD 03 8B         [ 4] 2784         CALL     PLUS    ;calculate aligned end of string
      0010A3 CD 03 12         [ 4] 2785         CALL     CPP
      0010A6 CC 01 24         [ 2] 2786         JP     STORE
                                   2787 
                                   2788 ;; Structures
                                   2789 
                                   2790 ;       FOR     ( -- a )
                                   2791 ;       Start a FOR-NEXT loop
                                   2792 ;       structure in a colon definition.
      0010A9 10 8B                 2793         .word      LINK
                           0010AB  2794 LINK = . 
      0010AB 83                    2795 	.byte      IMEDD+3
      0010AC 46 4F 52              2796         .ascii     "FOR"
      0010AF                       2797 FOR:
      0010AF CD 10 61         [ 4] 2798         CALL     COMPI
      0010B2 CD 01 B1         [ 4] 2799         CALL     TOR
      0010B5 CC 07 70         [ 2] 2800         JP     HERE
                                   2801 
                                   2802 ;       NEXT    ( a -- )
                                   2803 ;       Terminate a FOR-NEXT loop.
      0010B8 10 AB                 2804         .word      LINK
                           0010BA  2805 LINK = . 
      0010BA 84                    2806 	.byte      IMEDD+4
      0010BB 4E 45 58 54           2807         .ascii     "NEXT"
      0010BF                       2808 NEXT:
      0010BF CD 10 61         [ 4] 2809         CALL     COMPI
      0010C2 CD 00 C7         [ 4] 2810         CALL     DONXT
      0010C5 CC 10 1C         [ 2] 2811         JP     COMMA
                                   2812 
                                   2813 ;       BEGIN   ( -- a )
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 53.
Hexadecimal [24-Bits]



                                   2814 ;       Start an infinite or
                                   2815 ;       indefinite loop structure.
      0010C8 10 BA                 2816         .word      LINK
                           0010CA  2817 LINK = . 
      0010CA 85                    2818 	.byte      IMEDD+5
      0010CB 42 45 47 49 4E        2819         .ascii     "BEGIN"
      0010D0                       2820 BEGIN:
      0010D0 CC 07 70         [ 2] 2821         JP     HERE
                                   2822 
                                   2823 ;       UNTIL   ( a -- )
                                   2824 ;       Terminate a BEGIN-UNTIL
                                   2825 ;       indefinite loop structure.
      0010D3 10 CA                 2826         .word      LINK
                           0010D5  2827 LINK = . 
      0010D5 85                    2828 	.byte      IMEDD+5
      0010D6 55 4E 54 49 4C        2829         .ascii     "UNTIL"
      0010DB                       2830 UNTIL:
      0010DB CD 10 61         [ 4] 2831         CALL     COMPI
      0010DE CD 00 E6         [ 4] 2832         CALL     QBRAN
      0010E1 CC 10 1C         [ 2] 2833         JP     COMMA
                                   2834 
                                   2835 ;       AGAIN   ( a -- )
                                   2836 ;       Terminate a BEGIN-AGAIN
                                   2837 ;       infinite loop structure.
      0010E4 10 D5                 2838         .word      LINK
                           0010E6  2839 LINK = . 
      0010E6 85                    2840 	.byte      IMEDD+5
      0010E7 41 47 41 49 4E        2841         .ascii     "AGAIN"
      0010EC                       2842 AGAIN:
      0010EC CD 10 61         [ 4] 2843         CALL     COMPI
      0010EF CD 00 FD         [ 4] 2844         CALL     BRAN
      0010F2 CC 10 1C         [ 2] 2845         JP     COMMA
                                   2846 
                                   2847 ;       IF      ( -- A )
                                   2848 ;       Begin a conditional branch.
      0010F5 10 E6                 2849         .word      LINK
                           0010F7  2850 LINK = . 
      0010F7 82                    2851 	.byte      IMEDD+2
      0010F8 49 46                 2852         .ascii     "IF"
      0010FA                       2853 IFF:
      0010FA CD 10 61         [ 4] 2854         CALL     COMPI
      0010FD CD 00 E6         [ 4] 2855         CALL     QBRAN
      001100 CD 07 70         [ 4] 2856         CALL     HERE
      001103 CD 06 97         [ 4] 2857         CALL     ZERO
      001106 CC 10 1C         [ 2] 2858         JP     COMMA
                                   2859 
                                   2860 ;       THEN        ( A -- )
                                   2861 ;       Terminate a conditional branch structure.
      001109 10 F7                 2862         .word      LINK
                           00110B  2863 LINK = . 
      00110B 84                    2864 	.byte      IMEDD+4
      00110C 54 48 45 4E           2865         .ascii     "THEN"
      001110                       2866 THENN:
      001110 CD 07 70         [ 4] 2867         CALL     HERE
      001113 CD 01 F8         [ 4] 2868         CALL     SWAPP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 54.
Hexadecimal [24-Bits]



      001116 CC 01 24         [ 2] 2869         JP     STORE
                                   2870 
                                   2871 ;       ELSE        ( A -- A )
                                   2872 ;       Start the false clause in an IF-ELSE-THEN structure.
      001119 11 0B                 2873         .word      LINK
                           00111B  2874 LINK = . 
      00111B 84                    2875 	.byte      IMEDD+4
      00111C 45 4C 53 45           2876         .ascii     "ELSE"
      001120                       2877 ELSEE:
      001120 CD 10 61         [ 4] 2878         CALL     COMPI
      001123 CD 00 FD         [ 4] 2879         CALL     BRAN
      001126 CD 07 70         [ 4] 2880         CALL     HERE
      001129 CD 06 97         [ 4] 2881         CALL     ZERO
      00112C CD 10 1C         [ 4] 2882         CALL     COMMA
      00112F CD 01 F8         [ 4] 2883         CALL     SWAPP
      001132 CD 07 70         [ 4] 2884         CALL     HERE
      001135 CD 01 F8         [ 4] 2885         CALL     SWAPP
      001138 CC 01 24         [ 2] 2886         JP     STORE
                                   2887 
                                   2888 ;       AHEAD       ( -- A )
                                   2889 ;       Compile a forward branch instruction.
      00113B 11 1B                 2890         .word      LINK
                           00113D  2891 LINK = . 
      00113D 85                    2892 	.byte      IMEDD+5
      00113E 41 48 45 41 44        2893         .ascii     "AHEAD"
      001143                       2894 AHEAD:
      001143 CD 10 61         [ 4] 2895         CALL     COMPI
      001146 CD 00 FD         [ 4] 2896         CALL     BRAN
      001149 CD 07 70         [ 4] 2897         CALL     HERE
      00114C CD 06 97         [ 4] 2898         CALL     ZERO
      00114F CC 10 1C         [ 2] 2899         JP     COMMA
                                   2900 
                                   2901 ;       WHILE       ( a -- A a )
                                   2902 ;       Conditional branch out of a BEGIN-WHILE-REPEAT loop.
      001152 11 3D                 2903         .word      LINK
                           001154  2904 LINK = . 
      001154 85                    2905 	.byte      IMEDD+5
      001155 57 48 49 4C 45        2906         .ascii     "WHILE"
      00115A                       2907 WHILE:
      00115A CD 10 61         [ 4] 2908         CALL     COMPI
      00115D CD 00 E6         [ 4] 2909         CALL     QBRAN
      001160 CD 07 70         [ 4] 2910         CALL     HERE
      001163 CD 06 97         [ 4] 2911         CALL     ZERO
      001166 CD 10 1C         [ 4] 2912         CALL     COMMA
      001169 CC 01 F8         [ 2] 2913         JP     SWAPP
                                   2914 
                                   2915 ;       REPEAT      ( A a -- )
                                   2916 ;       Terminate a BEGIN-WHILE-REPEAT indefinite loop.
      00116C 11 54                 2917         .word      LINK
                           00116E  2918 LINK = . 
      00116E 86                    2919         .byte      IMEDD+6
      00116F 52 45 50 45 41 54     2920         .ascii     "REPEAT"
      001175                       2921 REPEA:
      001175 CD 10 61         [ 4] 2922         CALL     COMPI
      001178 CD 00 FD         [ 4] 2923         CALL     BRAN
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 55.
Hexadecimal [24-Bits]



      00117B CD 10 1C         [ 4] 2924         CALL     COMMA
      00117E CD 07 70         [ 4] 2925         CALL     HERE
      001181 CD 01 F8         [ 4] 2926         CALL     SWAPP
      001184 CC 01 24         [ 2] 2927         JP     STORE
                                   2928 
                                   2929 ;       AFT         ( a -- a A )
                                   2930 ;       Jump to THEN in a FOR-AFT-THEN-NEXT loop the first time through.
      001187 11 6E                 2931         .word      LINK
                           001189  2932 LINK = . 
      001189 83                    2933 	.byte      IMEDD+3
      00118A 41 46 54              2934         .ascii     "AFT"
      00118D                       2935 AFT:
      00118D CD 01 DE         [ 4] 2936         CALL     DROP
      001190 CD 11 43         [ 4] 2937         CALL     AHEAD
      001193 CD 07 70         [ 4] 2938         CALL     HERE
      001196 CC 01 F8         [ 2] 2939         JP     SWAPP
                                   2940 
                                   2941 ;       ABORT"      ( -- ; <string> )
                                   2942 ;       Conditional abort with an error message.
      001199 11 89                 2943         .word      LINK
                           00119B  2944 LINK = . 
      00119B 86                    2945 	.byte      IMEDD+6
      00119C 41 42 4F 52 54        2946         .ascii     "ABORT"
      0011A1 22                    2947         .byte      '"'
      0011A2                       2948 ABRTQ:
      0011A2 CD 10 61         [ 4] 2949         CALL     COMPI
      0011A5 CD 0E E2         [ 4] 2950         CALL     ABORQ
      0011A8 CC 10 8F         [ 2] 2951         JP     STRCQ
                                   2952 
                                   2953 ;       $"     ( -- ; <string> )
                                   2954 ;       Compile an inline string literal.
      0011AB 11 9B                 2955         .word      LINK
                           0011AD  2956 LINK = . 
      0011AD 82                    2957 	.byte      IMEDD+2
      0011AE 24 22                 2958         .byte     '$','"'
      0011B0                       2959 STRQ:
      0011B0 CD 10 61         [ 4] 2960         CALL     COMPI
      0011B3 CD 0B 04         [ 4] 2961         CALL     STRQP
      0011B6 CC 10 8F         [ 2] 2962         JP     STRCQ
                                   2963 
                                   2964 ;       ."          ( -- ; <string> )
                                   2965 ;       Compile an inline string literal to be typed out at run time.
      0011B9 11 AD                 2966         .word      LINK
                           0011BB  2967 LINK = . 
      0011BB 82                    2968 	.byte      IMEDD+2
      0011BC 2E 22                 2969         .byte     '.','"'
      0011BE                       2970 DOTQ:
      0011BE CD 10 61         [ 4] 2971         CALL     COMPI
      0011C1 CD 0B 0E         [ 4] 2972         CALL     DOTQP
      0011C4 CC 10 8F         [ 2] 2973         JP     STRCQ
                                   2974 
                                   2975 ;; Name compiler
                                   2976 
                                   2977 ;       ?UNIQUE ( a -- a )
                                   2978 ;       Display a warning message
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 56.
Hexadecimal [24-Bits]



                                   2979 ;       if word already exists.
      0011C7 11 BB                 2980         .word      LINK
                           0011C9  2981 LINK = . 
      0011C9 07                    2982         .byte      7
      0011CA 3F 55 4E 49 51 55 45  2983         .ascii     "?UNIQUE"
      0011D1                       2984 UNIQU:
      0011D1 CD 01 E8         [ 4] 2985         CALL     DUPP
      0011D4 CD 0D D6         [ 4] 2986         CALL     NAMEQ   ;?name exists
      0011D7 CD 00 E6         [ 4] 2987         CALL     QBRAN
      0011DA 11 F0                 2988         .word      UNIQ1
      0011DC CD 0B 0E         [ 4] 2989         CALL     DOTQP   ;redef are OK
      0011DF 07                    2990         .byte       7
      0011E0 20 72 65 44 65 66 20  2991         .ascii     " reDef "       
      0011E7 CD 02 12         [ 4] 2992         CALL     OVER
      0011EA CD 07 5D         [ 4] 2993         CALL     COUNT
      0011ED CD 0A B1         [ 4] 2994         CALL     TYPES   ;just in case
      0011F0 CC 01 DE         [ 2] 2995 UNIQ1:  JP     DROP
                                   2996 
                                   2997 ;       $,n     ( na -- )
                                   2998 ;       Build a new dictionary name
                                   2999 ;       using string at na.
      0011F3 11 C9                 3000         .word      LINK
                           0011F5  3001 LINK = . 
      0011F5 03                    3002         .byte      3
      0011F6 24 2C 6E              3003         .ascii     "$,n"
      0011F9                       3004 SNAME:
      0011F9 CD 01 E8         [ 4] 3005         CALL     DUPP
      0011FC CD 01 59         [ 4] 3006         CALL     CAT     ;?null input
      0011FF CD 00 E6         [ 4] 3007         CALL     QBRAN
      001202 12 2F                 3008         .word      PNAM1
      001204 CD 11 D1         [ 4] 3009         CALL     UNIQU   ;?redefinition
      001207 CD 01 E8         [ 4] 3010         CALL     DUPP
      00120A CD 07 5D         [ 4] 3011         CALL     COUNT
      00120D CD 03 8B         [ 4] 3012         CALL     PLUS
      001210 CD 03 12         [ 4] 3013         CALL     CPP
      001213 CD 01 24         [ 4] 3014         CALL     STORE
      001216 CD 01 E8         [ 4] 3015         CALL     DUPP
      001219 CD 03 22         [ 4] 3016         CALL     LAST
      00121C CD 01 24         [ 4] 3017         CALL     STORE   ;save na for vocabulary link
      00121F CD 06 47         [ 4] 3018         CALL     CELLM   ;link address
      001222 CD 03 04         [ 4] 3019         CALL     CNTXT
      001225 CD 01 3B         [ 4] 3020         CALL     AT
      001228 CD 01 F8         [ 4] 3021         CALL     SWAPP
      00122B CD 01 24         [ 4] 3022         CALL     STORE
      00122E 81               [ 4] 3023         RET     ;save code pointer
      00122F CD 0B 04         [ 4] 3024 PNAM1:  CALL     STRQP
      001232 05                    3025         .byte      5
      001233 20 6E 61 6D 65        3026         .ascii     " name" ;null input
      001238 CC 0E EA         [ 2] 3027         JP     ABOR1
                                   3028 
                                   3029 ;; FORTH compiler
                                   3030 
                                   3031 ;       $COMPILE        ( a -- )
                                   3032 ;       Compile next word to
                                   3033 ;       dictionary as a token or literal.
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 57.
Hexadecimal [24-Bits]



      00123B 11 F5                 3034         .word      LINK
                           00123D  3035 LINK = . 
      00123D 08                    3036         .byte      8
      00123E 24 43 4F 4D 50 49 4C  3037         .ascii     "$COMPILE"
             45
      001246                       3038 SCOMP:
      001246 CD 0D D6         [ 4] 3039         CALL     NAMEQ
      001249 CD 03 32         [ 4] 3040         CALL     QDUP    ;?defined
      00124C CD 00 E6         [ 4] 3041         CALL     QBRAN
      00124F 12 67                 3042         .word      SCOM2
      001251 CD 01 3B         [ 4] 3043         CALL     AT
      001254 CD 00 AF         [ 4] 3044         CALL     DOLIT
      001257 80 00                 3045         .word     0x8000	;  IMEDD*256
      001259 CD 02 34         [ 4] 3046         CALL     ANDD    ;?immediate
      00125C CD 00 E6         [ 4] 3047         CALL     QBRAN
      00125F 12 64                 3048         .word      SCOM1
      001261 CC 01 0D         [ 2] 3049         JP     EXECU
      001264 CC 12 AD         [ 2] 3050 SCOM1:  JP     JSRC
      001267 CD 09 82         [ 4] 3051 SCOM2:  CALL     NUMBQ   ;try to convert to number
      00126A CD 00 E6         [ 4] 3052         CALL     QBRAN
      00126D 0E EA                 3053         .word      ABOR1
      00126F CC 10 80         [ 2] 3054         JP     LITER
                                   3055 
                                   3056 ;       OVERT   ( -- )
                                   3057 ;       Link a new word into vocabulary.
      001272 12 3D                 3058         .word      LINK
                           001274  3059 LINK = . 
      001274 05                    3060         .byte      5
      001275 4F 56 45 52 54        3061         .ascii     "OVERT"
      00127A                       3062 OVERT:
      00127A CD 03 22         [ 4] 3063         CALL     LAST
      00127D CD 01 3B         [ 4] 3064         CALL     AT
      001280 CD 03 04         [ 4] 3065         CALL     CNTXT
      001283 CC 01 24         [ 2] 3066         JP     STORE
                                   3067 
                                   3068 ;       ;       ( -- )
                                   3069 ;       Terminate a colon definition.
      001286 12 74                 3070         .word      LINK
                           001288  3071 LINK = . 
      001288 C1                    3072 	.byte      IMEDD+COMPO+1
      001289 3B                    3073         .ascii     ";"
      00128A                       3074 SEMIS:
      00128A CD 10 61         [ 4] 3075         CALL     COMPI
      00128D CD 01 1D         [ 4] 3076         CALL     EXIT
      001290 CD 0F 4B         [ 4] 3077         CALL     LBRAC
      001293 CC 12 7A         [ 2] 3078         JP     OVERT
                                   3079 
                                   3080 ;       ]       ( -- )
                                   3081 ;       Start compiling words in
                                   3082 ;       input stream.
      001296 12 88                 3083         .word      LINK
                           001298  3084 LINK = . 
      001298 01                    3085         .byte      1
      001299 5D                    3086         .ascii     "]"
      00129A                       3087 RBRAC:
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 58.
Hexadecimal [24-Bits]



      00129A CD 00 AF         [ 4] 3088         CALL     DOLIT
      00129D 12 46                 3089         .word      SCOMP
      00129F CD 02 E2         [ 4] 3090         CALL     TEVAL
      0012A2 CC 01 24         [ 2] 3091         JP     STORE
                                   3092 
                                   3093 ;       CALL,    ( ca -- )
                                   3094 ;       Compile a subroutine call.
      0012A5 12 98                 3095         .word      LINK
                           0012A7  3096 LINK = . 
      0012A7 04                    3097         .byte      4
      0012A8 43 41 4C 4C 2C        3098         .ascii     "CALL,"
      0012AD                       3099 JSRC:
      0012AD CD 00 AF         [ 4] 3100         CALL     DOLIT
      0012B0 00 CD                 3101         .word     CALLL     ;CALL
      0012B2 CD 10 33         [ 4] 3102         CALL     CCOMMA
      0012B5 CC 10 1C         [ 2] 3103         JP     COMMA
                                   3104 
                                   3105 ;       :       ( -- ; <string> )
                                   3106 ;       Start a new colon definition
                                   3107 ;       using next word as its name.
      0012B8 12 A7                 3108         .word      LINK
                           0012BA  3109 LINK = . 
      0012BA 01                    3110         .byte      1
      0012BB 3A                    3111         .ascii     ":"
      0012BC                       3112 COLON:
      0012BC CD 0C D9         [ 4] 3113         CALL     TOKEN
      0012BF CD 11 F9         [ 4] 3114         CALL     SNAME
      0012C2 CC 12 9A         [ 2] 3115         JP     RBRAC
                                   3116 
                                   3117 ;       IMMEDIATE       ( -- )
                                   3118 ;       Make last compiled word
                                   3119 ;       an immediate word.
      0012C5 12 BA                 3120         .word      LINK
                           0012C7  3121 LINK = . 
      0012C7 09                    3122         .byte      9
      0012C8 49 4D 4D 45 44 49 41  3123         .ascii     "IMMEDIATE"
             54 45
      0012D1                       3124 IMMED:
      0012D1 CD 00 AF         [ 4] 3125         CALL     DOLIT
      0012D4 80 00                 3126         .word     0x8000	;  IMEDD*256
      0012D6 CD 03 22         [ 4] 3127         CALL     LAST
      0012D9 CD 01 3B         [ 4] 3128         CALL     AT
      0012DC CD 01 3B         [ 4] 3129         CALL     AT
      0012DF CD 02 48         [ 4] 3130         CALL     ORR
      0012E2 CD 03 22         [ 4] 3131         CALL     LAST
      0012E5 CD 01 3B         [ 4] 3132         CALL     AT
      0012E8 CC 01 24         [ 2] 3133         JP     STORE
                                   3134 
                                   3135 ;; Defining words
                                   3136 
                                   3137 ;       CREATE  ( -- ; <string> )
                                   3138 ;       Compile a new array
                                   3139 ;       without allocating space.
      0012EB 12 C7                 3140         .word      LINK
                           0012ED  3141 LINK = . 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 59.
Hexadecimal [24-Bits]



      0012ED 06                    3142         .byte      6
      0012EE 43 52 45 41 54 45     3143         .ascii     "CREATE"
      0012F4                       3144 CREAT:
      0012F4 CD 0C D9         [ 4] 3145         CALL     TOKEN
      0012F7 CD 11 F9         [ 4] 3146         CALL     SNAME
      0012FA CD 12 7A         [ 4] 3147         CALL     OVERT
      0012FD CD 10 61         [ 4] 3148         CALL     COMPI
      001300 CD 02 95         [ 4] 3149         CALL     DOVAR
      001303 81               [ 4] 3150         RET
                                   3151 
                                   3152 ;       VARIABLE        ( -- ; <string> )
                                   3153 ;       Compile a new variable
                                   3154 ;       initialized to 0.
      001304 12 ED                 3155         .word      LINK
                           001306  3156 LINK = . 
      001306 08                    3157         .byte      8
      001307 56 41 52 49 41 42 4C  3158         .ascii     "VARIABLE"
             45
      00130F                       3159 VARIA:
      00130F CD 12 F4         [ 4] 3160         CALL     CREAT
      001312 CD 06 97         [ 4] 3161         CALL     ZERO
      001315 CC 10 1C         [ 2] 3162         JP     COMMA
                                   3163 
                                   3164 ;; Tools
                                   3165 
                                   3166 ;       _TYPE   ( b u -- )
                                   3167 ;       Display a string. Filter
                                   3168 ;       non-printing characters.
      001318 13 06                 3169         .word      LINK
                           00131A  3170 LINK = . 
      00131A 05                    3171         .byte      5
      00131B 5F 54 59 50 45        3172         .ascii     "_TYPE"
      001320                       3173 UTYPE:
      001320 CD 01 B1         [ 4] 3174         CALL     TOR     ;start count down loop
      001323 20 0F            [ 2] 3175         JRA     UTYP2   ;skip first pass
      001325 CD 01 E8         [ 4] 3176 UTYP1:  CALL     DUPP
      001328 CD 01 59         [ 4] 3177         CALL     CAT
      00132B CD 06 C1         [ 4] 3178         CALL     TCHAR
      00132E CD 00 99         [ 4] 3179         CALL     EMIT    ;display only printable
      001331 CD 06 63         [ 4] 3180         CALL     ONEP    ;increment address
      001334 CD 00 C7         [ 4] 3181 UTYP2:  CALL     DONXT
      001337 13 25                 3182         .word      UTYP1   ;loop till done
      001339 CC 01 DE         [ 2] 3183         JP     DROP
                                   3184 
                                   3185 ;       dm+     ( a u -- a )
                                   3186 ;       Dump u bytes from ,
                                   3187 ;       leaving a+u on  stack.
      00133C 13 1A                 3188         .word      LINK
                           00133E  3189 LINK = . 
      00133E 03                    3190         .byte      3
      00133F 64 6D 2B              3191         .ascii     "dm+"
      001342                       3192 DUMPP:
      001342 CD 02 12         [ 4] 3193         CALL     OVER
      001345 CD 00 AF         [ 4] 3194         CALL     DOLIT
      001348 00 04                 3195         .word      4
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 60.
Hexadecimal [24-Bits]



      00134A CD 0B 37         [ 4] 3196         CALL     UDOTR   ;display address
      00134D CD 0A 87         [ 4] 3197         CALL     SPACE
      001350 CD 01 B1         [ 4] 3198         CALL     TOR     ;start count down loop
      001353 20 11            [ 2] 3199         JRA     PDUM2   ;skip first pass
      001355 CD 01 E8         [ 4] 3200 PDUM1:  CALL     DUPP
      001358 CD 01 59         [ 4] 3201         CALL     CAT
      00135B CD 00 AF         [ 4] 3202         CALL     DOLIT
      00135E 00 03                 3203         .word      3
      001360 CD 0B 37         [ 4] 3204         CALL     UDOTR   ;display numeric data
      001363 CD 06 63         [ 4] 3205         CALL     ONEP    ;increment address
      001366 CD 00 C7         [ 4] 3206 PDUM2:  CALL     DONXT
      001369 13 55                 3207         .word      PDUM1   ;loop till done
      00136B 81               [ 4] 3208         RET
                                   3209 
                                   3210 ;       DUMP    ( a u -- )
                                   3211 ;       Dump u bytes from a,
                                   3212 ;       in a formatted manner.
      00136C 13 3E                 3213         .word      LINK
                           00136E  3214 LINK = . 
      00136E 04                    3215         .byte      4
      00136F 44 55 4D 50           3216         .ascii     "DUMP"
      001373                       3217 DUMP:
      001373 CD 02 A3         [ 4] 3218         CALL     BASE
      001376 CD 01 3B         [ 4] 3219         CALL     AT
      001379 CD 01 B1         [ 4] 3220         CALL     TOR
      00137C CD 09 15         [ 4] 3221         CALL     HEX     ;save radix, set hex
      00137F CD 00 AF         [ 4] 3222         CALL     DOLIT
      001382 00 10                 3223         .word      16
      001384 CD 05 7C         [ 4] 3224         CALL     SLASH   ;change count to lines
      001387 CD 01 B1         [ 4] 3225         CALL     TOR     ;start count down loop
      00138A CD 0A CF         [ 4] 3226 DUMP1:  CALL     CR
      00138D CD 00 AF         [ 4] 3227         CALL     DOLIT
      001390 00 10                 3228         .word      16
      001392 CD 03 76         [ 4] 3229         CALL     DDUP
      001395 CD 13 42         [ 4] 3230         CALL     DUMPP   ;display numeric
      001398 CD 03 43         [ 4] 3231         CALL     ROT
      00139B CD 03 43         [ 4] 3232         CALL     ROT
      00139E CD 0A 87         [ 4] 3233         CALL     SPACE
      0013A1 CD 0A 87         [ 4] 3234         CALL     SPACE
      0013A4 CD 13 20         [ 4] 3235         CALL     UTYPE   ;display printable characters
      0013A7 CD 00 C7         [ 4] 3236         CALL     DONXT
      0013AA 13 8A                 3237         .word      DUMP1   ;loop till done
      0013AC CD 01 DE         [ 4] 3238 DUMP3:  CALL     DROP
      0013AF CD 01 89         [ 4] 3239         CALL     RFROM
      0013B2 CD 02 A3         [ 4] 3240         CALL     BASE
      0013B5 CC 01 24         [ 2] 3241         JP     STORE   ;restore radix
                                   3242 
                                   3243 ;       .S      ( ... -- ... )
                                   3244 ;        Display  contents of stack.
      0013B8 13 6E                 3245         .word      LINK
                           0013BA  3246 LINK = . 
      0013BA 02                    3247         .byte      2
      0013BB 2E 53                 3248         .ascii     ".S"
      0013BD                       3249 DOTS:
      0013BD CD 0A CF         [ 4] 3250         CALL     CR
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 61.
Hexadecimal [24-Bits]



      0013C0 CD 06 ED         [ 4] 3251         CALL     DEPTH   ;stack depth
      0013C3 CD 01 B1         [ 4] 3252         CALL     TOR     ;start count down loop
      0013C6 20 0C            [ 2] 3253         JRA     DOTS2   ;skip first pass
      0013C8 CD 01 9C         [ 4] 3254 DOTS1:  CALL     RAT
      0013CB CD 06 63         [ 4] 3255         CALL ONEP
      0013CE CD 07 06         [ 4] 3256 	CALL     PICK
      0013D1 CD 0B 6A         [ 4] 3257         CALL     DOT     ;index stack, display contents
      0013D4 CD 00 C7         [ 4] 3258 DOTS2:  CALL     DONXT
      0013D7 13 C8                 3259         .word      DOTS1   ;loop till done
      0013D9 CD 0B 0E         [ 4] 3260         CALL     DOTQP
      0013DC 05                    3261         .byte      5
      0013DD 20 3C 73 70 20        3262         .ascii     " <sp "
      0013E2 81               [ 4] 3263         RET
                                   3264 
                                   3265 ;       >NAME   ( ca -- na | F )
                                   3266 ;       Convert code address
                                   3267 ;       to a name address.
      0013E3 13 BA                 3268         .word      LINK
                           0013E5  3269 LINK = . 
      0013E5 05                    3270         .byte      5
      0013E6 3E 4E 41 4D 45        3271         .ascii     ">NAME"
      0013EB                       3272 TNAME:
      0013EB CD 03 04         [ 4] 3273         CALL     CNTXT   ;vocabulary link
      0013EE CD 01 3B         [ 4] 3274 TNAM2:  CALL     AT
      0013F1 CD 01 E8         [ 4] 3275         CALL     DUPP    ;?last word in a vocabulary
      0013F4 CD 00 E6         [ 4] 3276         CALL     QBRAN
      0013F7 14 12                 3277         .word      TNAM4
      0013F9 CD 03 76         [ 4] 3278         CALL     DDUP
      0013FC CD 0C E7         [ 4] 3279         CALL     NAMET
      0013FF CD 02 5D         [ 4] 3280         CALL     XORR    ;compare
      001402 CD 00 E6         [ 4] 3281         CALL     QBRAN
      001405 14 0C                 3282         .word      TNAM3
      001407 CD 06 47         [ 4] 3283         CALL     CELLM   ;continue with next word
      00140A 20 E2            [ 2] 3284         JRA     TNAM2
      00140C CD 01 F8         [ 4] 3285 TNAM3:  CALL     SWAPP
      00140F CC 01 DE         [ 2] 3286         JP     DROP
      001412 CD 03 6B         [ 4] 3287 TNAM4:  CALL     DDROP
      001415 CC 06 97         [ 2] 3288         JP     ZERO
                                   3289 
                                   3290 ;       .ID     ( na -- )
                                   3291 ;        Display  name at address.
      001418 13 E5                 3292         .word      LINK
                           00141A  3293 LINK = . 
      00141A 03                    3294         .byte      3
      00141B 2E 49 44              3295         .ascii     ".ID"
      00141E                       3296 DOTID:
      00141E CD 03 32         [ 4] 3297         CALL     QDUP    ;if zero no name
      001421 CD 00 E6         [ 4] 3298         CALL     QBRAN
      001424 14 34                 3299         .word      DOTI1
      001426 CD 07 5D         [ 4] 3300         CALL     COUNT
      001429 CD 00 AF         [ 4] 3301         CALL     DOLIT
      00142C 00 1F                 3302         .word      0x1F
      00142E CD 02 34         [ 4] 3303         CALL     ANDD    ;mask lexicon bits
      001431 CC 13 20         [ 2] 3304         JP     UTYPE
      001434 CD 0B 0E         [ 4] 3305 DOTI1:  CALL     DOTQP
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 62.
Hexadecimal [24-Bits]



      001437 09                    3306         .byte      9
      001438 20 6E 6F 4E 61 6D 65  3307         .ascii     " noName"
      00143F 81               [ 4] 3308         RET
                                   3309 
                                   3310 ;       SEE     ( -- ; <string> )
                                   3311 ;       A simple decompiler.
                                   3312 ;       Updated for byte machines.
      001440 14 1A                 3313         .word      LINK
                           001442  3314 LINK = . 
      001442 03                    3315         .byte      3
      001443 53 45 45              3316         .ascii     "SEE"
      001446                       3317 SEE:
      001446 CD 0F FE         [ 4] 3318         CALL     TICK    ;starting address
      001449 CD 0A CF         [ 4] 3319         CALL     CR
      00144C CD 06 70         [ 4] 3320         CALL     ONEM
      00144F CD 06 63         [ 4] 3321 SEE1:   CALL     ONEP
      001452 CD 01 E8         [ 4] 3322         CALL     DUPP
      001455 CD 01 3B         [ 4] 3323         CALL     AT
      001458 CD 01 E8         [ 4] 3324         CALL     DUPP    ;?does it contain a zero
      00145B CD 00 E6         [ 4] 3325         CALL     QBRAN
      00145E 14 63                 3326         .word      SEE2
      001460 CD 13 EB         [ 4] 3327         CALL     TNAME   ;?is it a name
      001463 CD 03 32         [ 4] 3328 SEE2:   CALL     QDUP    ;name address or zero
      001466 CD 00 E6         [ 4] 3329         CALL     QBRAN
      001469 14 76                 3330         .word      SEE3
      00146B CD 0A 87         [ 4] 3331         CALL     SPACE
      00146E CD 14 1E         [ 4] 3332         CALL     DOTID   ;display name
      001471 CD 06 63         [ 4] 3333         CALL     ONEP
      001474 20 09            [ 2] 3334         JRA     SEE4
      001476 CD 01 E8         [ 4] 3335 SEE3:   CALL     DUPP
      001479 CD 01 59         [ 4] 3336         CALL     CAT
      00147C CD 0B 57         [ 4] 3337         CALL     UDOT    ;display number
      00147F CD 0A 65         [ 4] 3338 SEE4:   CALL     NUFQ    ;user control
      001482 CD 00 E6         [ 4] 3339         CALL     QBRAN
      001485 14 4F                 3340         .word      SEE1
      001487 CC 01 DE         [ 2] 3341         JP     DROP
                                   3342 
                                   3343 ;       WORDS   ( -- )
                                   3344 ;       Display names in vocabulary.
      00148A 14 42                 3345         .word      LINK
                           00148C  3346 LINK = . 
      00148C 05                    3347         .byte      5
      00148D 57 4F 52 44 53        3348         .ascii     "WORDS"
      001492                       3349 WORDS:
      001492 CD 0A CF         [ 4] 3350         CALL     CR
      001495 CD 03 04         [ 4] 3351         CALL     CNTXT   ;only in context
      001498 CD 01 3B         [ 4] 3352 WORS1:  CALL     AT
      00149B CD 03 32         [ 4] 3353         CALL     QDUP    ;?at end of list
      00149E CD 00 E6         [ 4] 3354         CALL     QBRAN
      0014A1 14 B7                 3355         .word      WORS2
      0014A3 CD 01 E8         [ 4] 3356         CALL     DUPP
      0014A6 CD 0A 87         [ 4] 3357         CALL     SPACE
      0014A9 CD 14 1E         [ 4] 3358         CALL     DOTID   ;display a name
      0014AC CD 06 47         [ 4] 3359         CALL     CELLM
      0014AF CD 00 FD         [ 4] 3360         CALL     BRAN
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 63.
Hexadecimal [24-Bits]



      0014B2 14 98                 3361         .word      WORS1
      0014B4 CD 01 DE         [ 4] 3362         CALL     DROP
      0014B7 81               [ 4] 3363 WORS2:  RET
                                   3364 
                                   3365         
                                   3366 ;; Hardware reset
                                   3367 
                                   3368 ;       hi      ( -- )
                                   3369 ;       Display sign-on message.
      0014B8 14 8C                 3370         .word      LINK
                           0014BA  3371 LINK = . 
      0014BA 02                    3372         .byte      2
      0014BB 68 69                 3373         .ascii     "hi"
      0014BD                       3374 HI:
      0014BD CD 0A CF         [ 4] 3375         CALL     CR
      0014C0 CD 0B 0E         [ 4] 3376         CALL     DOTQP   ;initialize I/O
      0014C3 0F                    3377         .byte      15
      0014C4 73 74 6D 38 65 46 6F  3378         .ascii     "stm8eForth v"
             72 74 68 20 76
      0014D0 32                    3379 	.byte      VER+'0'
      0014D1 2E                    3380         .byte      '.' 
      0014D2 31                    3381 	.byte      EXT+'0' ;version
      0014D3 CC 0A CF         [ 2] 3382         JP     CR
                                   3383 
                                   3384 ;       DEBUG      ( -- )
                                   3385 ;       Display sign-on message.
                                   3386 ;        .word      LINK
                                   3387 ;LINK = . 
                                   3388 ;        .byte      5
                                   3389 ;        .ascii     "DEBUG"
                                   3390 ;DEBUG:
                                   3391 ;	CALL DOLIT
                                   3392 ;	.word 0x65
                                   3393 ;	CALL EMIT
                                   3394 ;	CALL DOLIT
                                   3395 ;	.word 0
                                   3396 ; 	CALL ZLESS 
                                   3397 ;	CALL DOLIT
                                   3398 ;	.word 0xFFFE
                                   3399 ;	CALL ZLESS 
                                   3400 ;	CALL UPLUS 
                                   3401 ; 	CALL DROP 
                                   3402 ;	CALL DOLIT
                                   3403 ;	.word 3
                                   3404 ;	CALL UPLUS 
                                   3405 ;	CALL UPLUS 
                                   3406 ; 	CALL DROP
                                   3407 ;	CALL DOLIT
                                   3408 ;	.word 0x43
                                   3409 ;	CALL UPLUS 
                                   3410 ; 	CALL DROP
                                   3411 ;	CALL EMIT
                                   3412 ;	CALL DOLIT
                                   3413 ;	.word 0x4F
                                   3414 ;	CALL DOLIT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 64.
Hexadecimal [24-Bits]



                                   3415 ;	.word 0x6F
                                   3416 ; 	CALL XORR
                                   3417 ;	CALL DOLIT
                                   3418 ;	.word 0xF0
                                   3419 ; 	CALL ANDD
                                   3420 ;	CALL DOLIT
                                   3421 ;	.word 0x4F
                                   3422 ; 	CALL ORR
                                   3423 ;	CALL EMIT
                                   3424 ;	CALL DOLIT
                                   3425 ;	.word 8
                                   3426 ;	CALL DOLIT
                                   3427 ;	.word 6
                                   3428 ; 	CALL SWAPP
                                   3429 ;	CALL OVER
                                   3430 ;	CALL XORR
                                   3431 ;	CALL DOLIT
                                   3432 ;	.word 3
                                   3433 ;	CALL ANDD 
                                   3434 ;	CALL ANDD
                                   3435 ;	CALL DOLIT
                                   3436 ;	.word 0x70
                                   3437 ;	CALL UPLUS 
                                   3438 ;	CALL DROP
                                   3439 ;	CALL EMIT
                                   3440 ;	CALL DOLIT
                                   3441 ;	.word 0
                                   3442 ;	CALL QBRAN
                                   3443 ;	.word DEBUG1
                                   3444 ;	CALL DOLIT
                                   3445 ;	.word 0x3F
                                   3446 ;DEBUG1:
                                   3447 ;	CALL DOLIT
                                   3448 ;	.word 0xFFFF
                                   3449 ;	CALL QBRAN
                                   3450 ;	.word DEBUG2
                                   3451 ;	CALL DOLIT
                                   3452 ;	.word 0x74
                                   3453 ;	CALL BRAN
                                   3454 ;	.word DEBUG3
                                   3455 ;DEBUG2:
                                   3456 ;	CALL DOLIT
                                   3457 ;	.word 0x21
                                   3458 ;DEBUG3:
                                   3459 ;	CALL EMIT
                                   3460 ;	CALL DOLIT
                                   3461 ;	.word 0x68
                                   3462 ;	CALL DOLIT
                                   3463 ;	.word 0x80
                                   3464 ;	CALL STORE
                                   3465 ;	CALL DOLIT
                                   3466 ;	.word 0x80
                                   3467 ;	CALL AT
                                   3468 ;	CALL EMIT
                                   3469 ;	CALL DOLIT
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 65.
Hexadecimal [24-Bits]



                                   3470 ;	.word 0x4D
                                   3471 ;	CALL TOR
                                   3472 ;	CALL RAT
                                   3473 ;	CALL RFROM
                                   3474 ;	CALL ANDD
                                   3475 ;	CALL EMIT
                                   3476 ;	CALL DOLIT
                                   3477 ;	.word 0x61
                                   3478 ;	CALL DOLIT
                                   3479 ;	.word 0xA
                                   3480 ;	CALL TOR
                                   3481 ;DEBUG4:
                                   3482 ;	CALL DOLIT
                                   3483 ;	.word 1
                                   3484 ;	CALL UPLUS 
                                   3485 ;	CALL DROP
                                   3486 ;	CALL DONXT
                                   3487 ;	.word DEBUG4
                                   3488 ;	CALL EMIT
                                   3489 ;	CALL DOLIT
                                   3490 ;	.word 0x656D
                                   3491 ;	CALL DOLIT
                                   3492 ;	.word 0x100
                                   3493 ;	CALL UMSTA
                                   3494 ;	CALL SWAPP
                                   3495 ;	CALL DOLIT
                                   3496 ;	.word 0x100
                                   3497 ;	CALL UMSTA
                                   3498 ;	CALL SWAPP 
                                   3499 ;	CALL DROP
                                   3500 ;	CALL EMIT
                                   3501 ;	CALL EMIT
                                   3502 ;	CALL DOLIT
                                   3503 ;	.word 0x2043
                                   3504 ;	CALL DOLIT
                                   3505 ;	.word 0
                                   3506 ;	CALL DOLIT
                                   3507 ;	.word 0x100
                                   3508 ;	CALL UMMOD
                                   3509 ;	CALL EMIT
                                   3510 ;	CALL EMIT
                                   3511 	;JP ORIG
                                   3512 ;	RET
                                   3513 
                                   3514 ;       'BOOT   ( -- a )
                                   3515 ;       The application startup vector.
      0014D6 14 BA                 3516         .word      LINK
                           0014D8  3517 LINK = . 
      0014D8 05                    3518         .byte      5
      0014D9 27 42 4F 4F 54        3519         .ascii     "'BOOT"
      0014DE                       3520 TBOOT:
      0014DE CD 02 95         [ 4] 3521         CALL     DOVAR
      0014E1 14 BD                 3522         .word      HI       ;application to boot
                                   3523 
                                   3524 ;       COLD    ( -- )
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 66.
Hexadecimal [24-Bits]



                                   3525 ;       The hilevel cold start s=ence.
      0014E3 14 D8                 3526         .word      LINK
                           0014E5  3527 LINK = . 
      0014E5 04                    3528         .byte      4
      0014E6 43 4F 4C 44           3529         .ascii     "COLD"
      0014EA                       3530 COLD:
                                   3531 ;        CALL DEBUG
      0014EA CD 00 AF         [ 4] 3532 COLD1:  CALL     DOLIT
      0014ED 00 16                 3533         .word      UZERO
      0014EF CD 00 AF         [ 4] 3534 	CALL     DOLIT
      0014F2 00 06                 3535         .word      UPP
      0014F4 CD 00 AF         [ 4] 3536         CALL     DOLIT
      0014F7 00 14                 3537 	.word      ULAST-UZERO
      0014F9 CD 07 B8         [ 4] 3538         CALL     CMOVE   ;initialize user area
      0014FC CD 0F CA         [ 4] 3539         CALL     PRESE   ;initialize data stack and TIB
      0014FF CD 14 DE         [ 4] 3540         CALL     TBOOT
      001502 CD 07 A1         [ 4] 3541         CALL     ATEXE   ;application boot
      001505 CD 12 7A         [ 4] 3542         CALL     OVERT
      001508 CC 0F E7         [ 2] 3543         JP     QUIT    ;start interpretation
                                   3544 
                                   3545 
                                   3546 ;       
                                   3547 ;===============================================================
                                   3548 
                           0014E5  3549 LASTN   =	LINK   ;last name defined
                                   3550 
                                   3551 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 67.
Hexadecimal [24-Bits]

Symbol Table

    .__.$$$.=  002710 L   |     .__.ABS.=  000000 G   |     .__.CPU.=  000000 L
    .__.H$L.=  000001 L   |   6 AB1        00040C R   |   6 ABOR1      000EEA R
  6 ABOR2      000F01 R   |   6 ABORQ      000EE2 R   |   6 ABORT      000ED3 R
  6 ABRTQ      0011A2 R   |   6 ABSS       000403 R   |   6 ACCEP      000E69 R
  6 ACCP1      000E72 R   |   6 ACCP2      000E98 R   |   6 ACCP3      000E9B R
  6 ACCP4      000E9D R   |     ADC_CR1 =  005401     |     ADC_CR1_=  000000 
    ADC_CR1_=  000001     |     ADC_CR1_=  000004     |     ADC_CR1_=  000005 
    ADC_CR1_=  000006     |     ADC_CR2 =  005402     |     ADC_CR2_=  000003 
    ADC_CR2_=  000004     |     ADC_CR2_=  000005     |     ADC_CR2_=  000006 
    ADC_CR2_=  000001     |     ADC_CR3 =  005403     |     ADC_CR3_=  000007 
    ADC_CR3_=  000006     |     ADC_CSR =  005400     |     ADC_CSR_=  000006 
    ADC_CSR_=  000004     |     ADC_CSR_=  000000     |     ADC_CSR_=  000001 
    ADC_CSR_=  000002     |     ADC_CSR_=  000003     |     ADC_CSR_=  000007 
    ADC_CSR_=  000005     |     ADC_DRH =  005404     |     ADC_DRL =  005405 
    ADC_TDRH=  005406     |     ADC_TDRL=  005407     |     AFR     =  004803 
    AFR0_ADC=  000000     |     AFR1_TIM=  000001     |     AFR2_CCO=  000002 
    AFR3_TIM=  000003     |     AFR4_TIM=  000004     |     AFR5_TIM=  000005 
    AFR6_I2C=  000006     |     AFR7_BEE=  000007     |   6 AFT        00118D R
  6 AGAIN      0010EC R   |   6 AHEAD      001143 R   |   6 ALLOT      001012 R
  6 ANDD       000234 R   |   6 AT         00013B R   |   6 ATEXE      0007A1 R
    AWU_APR =  0050F1     |     AWU_CSR =  0050F0     |     AWU_TBR =  0050F2 
    B0_MASK =  000001     |     B115200 =  000006     |     B19200  =  000003 
    B1_MASK =  000002     |     B230400 =  000007     |     B2400   =  000000 
    B2_MASK =  000004     |     B38400  =  000004     |     B3_MASK =  000008 
    B460800 =  000008     |     B4800   =  000001     |     B4_MASK =  000010 
    B57600  =  000005     |     B5_MASK =  000020     |     B6_MASK =  000040 
    B7_MASK =  000080     |     B921600 =  000009     |     B9600   =  000002 
  6 BACK1      000E11 R   |   6 BASE       0002A3 R   |     BASEE   =  00000A 
  6 BCOMP      001051 R   |   6 BDIGS      00087A R   |     BEEP_BIT=  000004 
    BEEP_CSR=  0050F3     |     BEEP_MAS=  000010     |     BEEP_POR=  00000F 
  6 BEGIN      0010D0 R   |     BIT0    =  000000     |     BIT1    =  000001 
    BIT2    =  000002     |     BIT3    =  000003     |     BIT4    =  000004 
    BIT5    =  000005     |     BIT6    =  000006     |     BIT7    =  000007 
  6 BKSLA      000CB2 R   |   6 BKSP       000DE1 R   |     BKSPP   =  000008 
  6 BLANK      00068A R   |     BLOCK_SI=  000080     |     BOOT_ROM=  006000 
    BOOT_ROM=  007FFF     |   6 BRAN       0000FD R   |     CALLL   =  0000CD 
    CAN_DGR =  005426     |     CAN_FPSR=  005427     |     CAN_IER =  005425 
    CAN_MCR =  005420     |     CAN_MSR =  005421     |     CAN_P0  =  005428 
    CAN_P1  =  005429     |     CAN_P2  =  00542A     |     CAN_P3  =  00542B 
    CAN_P4  =  00542C     |     CAN_P5  =  00542D     |     CAN_P6  =  00542E 
    CAN_P7  =  00542F     |     CAN_P8  =  005430     |     CAN_P9  =  005431 
    CAN_PA  =  005432     |     CAN_PB  =  005433     |     CAN_PC  =  005434 
    CAN_PD  =  005435     |     CAN_PE  =  005436     |     CAN_PF  =  005437 
    CAN_RFR =  005424     |     CAN_TPR =  005423     |     CAN_TSR =  005422 
    CARRY   =  000020     |   6 CAT        000159 R   |   6 CCOMMA     001033 R
    CC_C    =  000000     |     CC_H    =  000004     |     CC_I0   =  000003 
    CC_I1   =  000005     |     CC_N    =  000002     |     CC_V    =  000007 
    CC_Z    =  000001     |     CELLL   =  000002     |   6 CELLM      000647 R
  6 CELLP      000638 R   |   6 CELLS      000656 R   |     CFG_GCR =  007F60 
    CFG_GCR_=  000001     |     CFG_GCR_=  000000     |   6 CHAR1      000AA1 R
  6 CHAR2      000AA4 R   |     CLKOPT  =  004807     |     CLKOPT_C=  000002 
    CLKOPT_E=  000003     |     CLKOPT_P=  000000     |     CLKOPT_P=  000001 
    CLK_CCOR=  0050C9     |     CLK_CKDI=  0050C6     |     CLK_CKDI=  000000 
    CLK_CKDI=  000001     |     CLK_CKDI=  000002     |     CLK_CKDI=  000003 
    CLK_CKDI=  000004     |     CLK_CMSR=  0050C3     |     CLK_CSSR=  0050C8 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 68.
Hexadecimal [24-Bits]

Symbol Table

    CLK_ECKR=  0050C1     |     CLK_ECKR=  000000     |     CLK_ECKR=  000001 
    CLK_HSIT=  0050CC     |     CLK_ICKR=  0050C0     |     CLK_ICKR=  000002 
    CLK_ICKR=  000000     |     CLK_ICKR=  000001     |     CLK_ICKR=  000003 
    CLK_ICKR=  000004     |     CLK_ICKR=  000005     |     CLK_PCKE=  0050C7 
    CLK_PCKE=  000000     |     CLK_PCKE=  000001     |     CLK_PCKE=  000007 
    CLK_PCKE=  000005     |     CLK_PCKE=  000006     |     CLK_PCKE=  000004 
    CLK_PCKE=  000002     |     CLK_PCKE=  000003     |     CLK_PCKE=  0050CA 
    CLK_PCKE=  000003     |     CLK_PCKE=  000002     |     CLK_PCKE=  000007 
    CLK_SWCR=  0050C5     |     CLK_SWCR=  000000     |     CLK_SWCR=  000001 
    CLK_SWCR=  000002     |     CLK_SWCR=  000003     |     CLK_SWIM=  0050CD 
    CLK_SWR =  0050C4     |     CLK_SWR_=  0000B4     |     CLK_SWR_=  0000E1 
    CLK_SWR_=  0000D2     |   6 CMOV1      0007C0 R   |   6 CMOV2      0007D8 R
  6 CMOVE      0007B8 R   |   6 CNTXT      000304 R   |   6 COLD       0014EA R
  6 COLD1      0014EA R   |   6 COLON      0012BC R   |   6 COMMA      00101C R
  6 COMPI      001061 R   |     COMPO   =  000040     |   6 COUNT      00075D R
  6 CPP        000312 R   |     CPU_A   =  007F00     |     CPU_CCR =  007F0A 
    CPU_PCE =  007F01     |     CPU_PCH =  007F02     |     CPU_PCL =  007F03 
    CPU_SPH =  007F08     |     CPU_SPL =  007F09     |     CPU_XH  =  007F04 
    CPU_XL  =  007F05     |     CPU_YH  =  007F06     |     CPU_YL  =  007F07 
  6 CR         000ACF R   |   6 CREAT      0012F4 R   |     CRR     =  00000D 
  6 CSTOR      000148 R   |     CTOP    =  000080     |   6 DAT        000746 R
    DATSTK  =  0016F0     |   6 DDROP      00036B R   |   6 DDUP       000376 R
    DEBUG_BA=  007F00     |     DEBUG_EN=  007FFF     |   6 DECIM      00092A R
  6 DEPTH      0006ED R   |     DEVID_BA=  0048CD     |     DEVID_EN=  0048D8 
    DEVID_LO=  0048D2     |     DEVID_LO=  0048D3     |     DEVID_LO=  0048D4 
    DEVID_LO=  0048D5     |     DEVID_LO=  0048D6     |     DEVID_LO=  0048D7 
    DEVID_LO=  0048D8     |     DEVID_WA=  0048D1     |     DEVID_XH=  0048CE 
    DEVID_XL=  0048CD     |     DEVID_YH=  0048D0     |     DEVID_YL=  0048CF 
  6 DGTQ1      00096F R   |   6 DIG        0008A3 R   |   6 DIGIT      00083E R
  6 DIGS       0008B4 R   |   6 DIGS1      0008B4 R   |   6 DIGS2      0008C1 R
  6 DIGTQ      00093E R   |     DM_BK1RE=  007F90     |     DM_BK1RH=  007F91 
    DM_BK1RL=  007F92     |     DM_BK2RE=  007F93     |     DM_BK2RH=  007F94 
    DM_BK2RL=  007F95     |     DM_CR1  =  007F96     |     DM_CR2  =  007F97 
    DM_CSR1 =  007F98     |     DM_CSR2 =  007F99     |     DM_ENFCT=  007F9A 
  6 DN1        0003E3 R   |   6 DNEGA      0003C8 R   |   6 DOLIT      0000AF R
  6 DONXT      0000C7 R   |   6 DOSTR      000AE5 R   |   6 DOT        000B6A R
  6 DOT1       000B80 R   |   6 DOTI1      001434 R   |   6 DOTID      00141E R
  6 DOTO1      000F76 R   |   6 DOTOK      000F5C R   |   6 DOTPR      000C93 R
  6 DOTQ       0011BE R   |   6 DOTQP      000B0E R   |   6 DOTR       000B1C R
  6 DOTS       0013BD R   |   6 DOTS1      0013C8 R   |   6 DOTS2      0013D4 R
  6 DOVAR      000295 R   |   6 DROP       0001DE R   |   6 DSTOR      000732 R
  6 DUMP       001373 R   |   6 DUMP1      00138A R   |   6 DUMP3      0013AC R
  6 DUMPP      001342 R   |   6 DUPP       0001E8 R   |   6 EDIGS      0008DF R
    EEPROM_B=  004000     |     EEPROM_E=  0047FF     |     EEPROM_S=  000800 
  6 ELSEE      001120 R   |   6 EMIT       000099 R   |   6 EQ1        000427 R
  6 EQUAL      000411 R   |   6 ERASE      00080E R   |     ERR     =  00001B 
  6 EVAL       000F9F R   |   6 EVAL1      000F9F R   |   6 EVAL2      000FBB R
  6 EXE1       0007AF R   |   6 EXECU      00010D R   |   6 EXIT       00011D R
    EXT     =  000001     |     EXTI_CR1=  0050A0     |     EXTI_CR2=  0050A1 
  6 EXTRC      000866 R   |     FHSE    =  7A1200     |     FHSI    =  F42400 
  6 FILL       0007E7 R   |   6 FILL1      0007F5 R   |   6 FILL2      0007FE R
  6 FIND       000D3D R   |   6 FIND1      000D5B R   |   6 FIND2      000D89 R
  6 FIND3      000D95 R   |   6 FIND4      000DA9 R   |   6 FIND5      000DB6 R
  6 FIND6      000D9A R   |     FLASH_BA=  008000     |     FLASH_CR=  00505A 
    FLASH_CR=  000002     |     FLASH_CR=  000000     |     FLASH_CR=  000003 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 69.
Hexadecimal [24-Bits]

Symbol Table

    FLASH_CR=  000001     |     FLASH_CR=  00505B     |     FLASH_CR=  000005 
    FLASH_CR=  000004     |     FLASH_CR=  000007     |     FLASH_CR=  000000 
    FLASH_CR=  000006     |     FLASH_DU=  005064     |     FLASH_DU=  0000AE 
    FLASH_DU=  000056     |     FLASH_EN=  027FFF     |     FLASH_FP=  00505D 
    FLASH_FP=  000000     |     FLASH_FP=  000001     |     FLASH_FP=  000002 
    FLASH_FP=  000003     |     FLASH_FP=  000004     |     FLASH_FP=  000005 
    FLASH_IA=  00505F     |     FLASH_IA=  000003     |     FLASH_IA=  000002 
    FLASH_IA=  000006     |     FLASH_IA=  000001     |     FLASH_IA=  000000 
    FLASH_NC=  00505C     |     FLASH_NF=  00505E     |     FLASH_NF=  000000 
    FLASH_NF=  000001     |     FLASH_NF=  000002     |     FLASH_NF=  000003 
    FLASH_NF=  000004     |     FLASH_NF=  000005     |     FLASH_PU=  005062 
    FLASH_PU=  000056     |     FLASH_PU=  0000AE     |     FLASH_SI=  020000 
    FLASH_WS=  00480D     |     FLSI    =  01F400     |   6 FOR        0010AF R
    GPIO_BAS=  005000     |     GPIO_CR1=  000003     |     GPIO_CR2=  000004 
    GPIO_DDR=  000002     |     GPIO_IDR=  000001     |     GPIO_ODR=  000000 
    GPIO_SIZ=  000005     |   6 HERE       000770 R   |   6 HEX        000915 R
  6 HI         0014BD R   |   6 HLD        0002F1 R   |   6 HOLD       00088A R
    HSECNT  =  004809     |     I2C_CCRH=  00521C     |     I2C_CCRH=  000080 
    I2C_CCRH=  0000C0     |     I2C_CCRH=  000080     |     I2C_CCRH=  000000 
    I2C_CCRH=  000001     |     I2C_CCRH=  000000     |     I2C_CCRL=  00521B 
    I2C_CCRL=  00001A     |     I2C_CCRL=  000002     |     I2C_CCRL=  00000D 
    I2C_CCRL=  000050     |     I2C_CCRL=  000090     |     I2C_CCRL=  0000A0 
    I2C_CR1 =  005210     |     I2C_CR1_=  000006     |     I2C_CR1_=  000007 
    I2C_CR1_=  000000     |     I2C_CR2 =  005211     |     I2C_CR2_=  000002 
    I2C_CR2_=  000003     |     I2C_CR2_=  000000     |     I2C_CR2_=  000001 
    I2C_CR2_=  000007     |     I2C_DR  =  005216     |     I2C_FREQ=  005212 
    I2C_ITR =  00521A     |     I2C_ITR_=  000002     |     I2C_ITR_=  000000 
    I2C_ITR_=  000001     |     I2C_OARH=  005214     |     I2C_OARH=  000001 
    I2C_OARH=  000002     |     I2C_OARH=  000006     |     I2C_OARH=  000007 
    I2C_OARL=  005213     |     I2C_OARL=  000000     |     I2C_OAR_=  000813 
    I2C_OAR_=  000009     |     I2C_PECR=  00521E     |     I2C_READ=  000001 
    I2C_SR1 =  005217     |     I2C_SR1_=  000003     |     I2C_SR1_=  000001 
    I2C_SR1_=  000002     |     I2C_SR1_=  000006     |     I2C_SR1_=  000000 
    I2C_SR1_=  000004     |     I2C_SR1_=  000007     |     I2C_SR2 =  005218 
    I2C_SR2_=  000002     |     I2C_SR2_=  000001     |     I2C_SR2_=  000000 
    I2C_SR2_=  000003     |     I2C_SR2_=  000005     |     I2C_SR3 =  005219 
    I2C_SR3_=  000001     |     I2C_SR3_=  000007     |     I2C_SR3_=  000004 
    I2C_SR3_=  000000     |     I2C_SR3_=  000002     |     I2C_TRIS=  00521D 
    I2C_TRIS=  000005     |     I2C_TRIS=  000005     |     I2C_TRIS=  000005 
    I2C_TRIS=  000011     |     I2C_TRIS=  000011     |     I2C_TRIS=  000011 
    I2C_WRIT=  000000     |   6 IFF        0010FA R   |     IMEDD   =  000080 
  6 IMMED      0012D1 R   |   6 INCH       00008D R   |   6 INN        0002C1 R
    INPUT_DI=  000000     |     INPUT_EI=  000001     |     INPUT_FL=  000000 
    INPUT_PU=  000001     |   6 INTE1      000F3E R   |   6 INTER      000F14 R
    INT_ADC2=  000016     |     INT_AUAR=  000012     |     INT_AWU =  000001 
    INT_CAN_=  000008     |     INT_CAN_=  000009     |     INT_CLK =  000002 
    INT_EXTI=  000003     |     INT_EXTI=  000004     |     INT_EXTI=  000005 
    INT_EXTI=  000006     |     INT_EXTI=  000007     |     INT_FLAS=  000018 
    INT_I2C =  000013     |     INT_SPI =  00000A     |     INT_TIM1=  00000C 
    INT_TIM1=  00000B     |     INT_TIM2=  00000E     |     INT_TIM2=  00000D 
    INT_TIM3=  000010     |     INT_TIM3=  00000F     |     INT_TIM4=  000017 
    INT_TLI =  000000     |     INT_UART=  000011     |     INT_UART=  000015 
    INT_UART=  000014     |     INT_VECT=  008060     |     INT_VECT=  00800C 
    INT_VECT=  008028     |     INT_VECT=  00802C     |     INT_VECT=  008010 
    INT_VECT=  008014     |     INT_VECT=  008018     |     INT_VECT=  00801C 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 70.
Hexadecimal [24-Bits]

Symbol Table

    INT_VECT=  008020     |     INT_VECT=  008024     |     INT_VECT=  008068 
    INT_VECT=  008054     |     INT_VECT=  008000     |     INT_VECT=  008030 
    INT_VECT=  008038     |     INT_VECT=  008034     |     INT_VECT=  008040 
    INT_VECT=  00803C     |     INT_VECT=  008048     |     INT_VECT=  008044 
    INT_VECT=  008064     |     INT_VECT=  008008     |     INT_VECT=  008004 
    INT_VECT=  008050     |     INT_VECT=  00804C     |     INT_VECT=  00805C 
    INT_VECT=  008058     |   6 INVER      0003A5 R   |     ITC_SPR1=  007F70 
    ITC_SPR2=  007F71     |     ITC_SPR3=  007F72     |     ITC_SPR4=  007F73 
    ITC_SPR5=  007F74     |     ITC_SPR6=  007F75     |     ITC_SPR7=  007F76 
    ITC_SPR8=  007F77     |     IWDG_KR =  0050E0     |     IWDG_PR =  0050E1 
    IWDG_RLR=  0050E2     |   6 JSRC       0012AD R   |   6 KEY        000A55 R
  6 KEY1       000A55 R   |   6 KTAP       000E2E R   |   6 KTAP1      000E51 R
  6 KTAP2      000E54 R   |   6 LAST       000322 R   |   6 LASTN   =  0014E5 R
  6 LBRAC      000F4B R   |     LED2_BIT=  000005     |     LED2_MAS=  000020 
    LED2_POR=  00500A     |   6 LESS       00044E R   |     LF      =  00000A 
  6 LINK    =  0014E5 R   |   6 LITER      001080 R   |   6 LT1        000464 R
    MASKK   =  001F7F     |   6 MAX        00046E R   |   6 MAX1       000481 R
  6 MIN        00048B R   |   6 MIN1       00049E R   |   6 MMOD1      00052D R
  6 MMOD2      000541 R   |   6 MMOD3      000558 R   |   6 MMSM1      0004E8 R
  6 MMSM3      0004EA R   |   6 MMSM4      0004F2 R   |   6 MODD       000572 R
  6 MONE       0006B0 R   |   6 MSMOD      000510 R   |   6 MSTA1      00060F R
  6 MSTAR      0005EC R   |     NAFR    =  004804     |   6 NAMEQ      000DD6 R
  6 NAMET      000CE7 R   |     NCLKOPT =  004808     |   6 NEGAT      0003B6 R
  6 NEX1       0000D4 R   |   6 NEXT       0010BF R   |     NFLASH_W=  00480E 
    NHSECNT =  00480A     |     NOPT1   =  004802     |     NOPT2   =  004804 
    NOPT3   =  004806     |     NOPT4   =  004808     |     NOPT5   =  00480A 
    NOPT6   =  00480C     |     NOPT7   =  00480E     |     NOPTBL  =  00487F 
  6 NTIB       0002D1 R   |     NUBC    =  004802     |   6 NUFQ       000A65 R
  6 NUFQ1      000A7E R   |   6 NUMBQ      000982 R   |   6 NUMQ1      0009B6 R
  6 NUMQ2      0009E7 R   |   6 NUMQ3      000A29 R   |   6 NUMQ4      000A2E R
  6 NUMQ5      000A3D R   |   6 NUMQ6      000A40 R   |     NWDGOPT =  004806 
    NWDGOPT_=  FFFFFFFD     |     NWDGOPT_=  FFFFFFFC     |     NWDGOPT_=  FFFFFFFF 
    NWDGOPT_=  FFFFFFFE     |   6 NonHandl   000000 R   |   6 ONE        0006A2 R
  6 ONEM       000670 R   |   6 ONEP       000663 R   |     OPT0    =  004800 
    OPT1    =  004801     |     OPT2    =  004803     |     OPT3    =  004805 
    OPT4    =  004807     |     OPT5    =  004809     |     OPT6    =  00480B 
    OPT7    =  00480D     |     OPTBL   =  00487E     |     OPTION_B=  004800 
    OPTION_E=  00487F     |     OPTION_S=  000080     |   6 ORIG       00002C R
  6 ORR        000248 R   |   6 OUTPUT     00009E R   |     OUTPUT_F=  000001 
    OUTPUT_O=  000000     |     OUTPUT_P=  000001     |     OUTPUT_S=  000000 
  6 OVER       000212 R   |   6 OVERT      00127A R   |     PA      =  000000 
  6 PACKS      00081D R   |   6 PAD        00077C R   |   6 PAREN      000CA2 R
  6 PARS       000B9B R   |   6 PARS1      000BC6 R   |   6 PARS2      000BF1 R
  6 PARS3      000BF4 R   |   6 PARS4      000BFD R   |   6 PARS5      000C20 R
  6 PARS6      000C35 R   |   6 PARS7      000C44 R   |   6 PARS8      000C53 R
  6 PARSE      000C64 R   |     PA_BASE =  005000     |     PA_CR1  =  005003 
    PA_CR2  =  005004     |     PA_DDR  =  005002     |     PA_IDR  =  005001 
    PA_ODR  =  005000     |     PB      =  000005     |     PB_BASE =  005005 
    PB_CR1  =  005008     |     PB_CR2  =  005009     |     PB_DDR  =  005007 
    PB_IDR  =  005006     |     PB_ODR  =  005005     |     PC      =  00000A 
    PC_BASE =  00500A     |     PC_CR1  =  00500D     |     PC_CR2  =  00500E 
    PC_DDR  =  00500C     |     PC_IDR  =  00500B     |     PC_ODR  =  00500A 
    PD      =  00000F     |   6 PDUM1      001355 R   |   6 PDUM2      001366 R
    PD_BASE =  00500F     |     PD_CR1  =  005012     |     PD_CR2  =  005013 
    PD_DDR  =  005011     |     PD_IDR  =  005010     |     PD_ODR  =  00500F 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 71.
Hexadecimal [24-Bits]

Symbol Table

    PE      =  000014     |     PE_BASE =  005014     |     PE_CR1  =  005017 
    PE_CR2  =  005018     |     PE_DDR  =  005016     |     PE_IDR  =  005015 
    PE_ODR  =  005014     |     PF      =  000019     |     PF_BASE =  005019 
    PF_CR1  =  00501C     |     PF_CR2  =  00501D     |     PF_DDR  =  00501B 
    PF_IDR  =  00501A     |     PF_ODR  =  005019     |     PG      =  00001E 
    PG_BASE =  00501E     |     PG_CR1  =  005021     |     PG_CR2  =  005022 
    PG_DDR  =  005020     |     PG_IDR  =  00501F     |     PG_ODR  =  00501E 
    PH      =  000023     |     PH_BASE =  005023     |     PH_CR1  =  005026 
    PH_CR2  =  005027     |     PH_DDR  =  005025     |     PH_IDR  =  005024 
    PH_ODR  =  005023     |     PI      =  000028     |   6 PICK       000706 R
    PI_BASE =  005028     |     PI_CR1  =  00502B     |     PI_CR2  =  00502C 
    PI_DDR  =  00502A     |     PI_IDR  =  005029     |     PI_ODR  =  005028 
  6 PLUS       00038B R   |   6 PNAM1      00122F R   |   6 PRESE      000FCA R
    PROD1   =  00001A     |     PROD2   =  00001C     |     PROD3   =  00001E 
  6 PSTOR      00071B R   |   6 QBRAN      0000E6 R   |   6 QDUP       000332 R
  6 QDUP1      00033C R   |   6 QKEY       00007B R   |   6 QSTAC      000F82 R
  6 QUERY      000EAE R   |   6 QUEST      000B8D R   |   6 QUIT       000FE7 R
  6 QUIT1      000FEF R   |   6 QUIT2      000FF2 R   |     RAMBASE =  000000 
    RAM_BASE=  000000     |     RAM_END =  0017FF     |     RAM_SIZE=  001800 
  6 RAT        00019C R   |   6 RBRAC      00129A R   |   6 REPEA      001175 R
  6 RFROM      000189 R   |     ROP     =  004800     |   6 ROT        000343 R
    RP0     =  000024     |   6 RPAT       000169 R   |     RPP     =  0017FF 
  6 RPSTO      000176 R   |     RST_SR  =  0050B3     |   6 SAME1      000D05 R
  6 SAME2      000D2E R   |   6 SAMEQ      000CFD R   |   6 SCOM1      001264 R
  6 SCOM2      001267 R   |   6 SCOMP      001246 R   |   6 SEE        001446 R
  6 SEE1       00144F R   |   6 SEE2       001463 R   |   6 SEE3       001476 R
  6 SEE4       00147F R   |   6 SEMIS      00128A R   |     SFR_BASE=  005000 
    SFR_END =  0057FF     |   6 SIGN       0008C9 R   |   6 SIGN1      0008D9 R
  6 SLASH      00057C R   |   6 SLMOD      000560 R   |   6 SNAME      0011F9 R
    SP0     =  000022     |   6 SPACE      000A87 R   |   6 SPACS      000A96 R
  6 SPAT       0001C8 R   |     SPI_CR1 =  005200     |     SPI_CR2 =  005201 
    SPI_CRCP=  005205     |     SPI_DR  =  005204     |     SPI_ICR =  005202 
    SPI_RXCR=  005206     |     SPI_SR  =  005203     |     SPI_TXCR=  005207 
    SPP     =  0016F0     |   6 SPSTO      0001D5 R   |   6 SSMOD      000618 R
    STACK   =  0017FF     |   6 STAR       0005E1 R   |   6 STASL      00062A R
  6 STORE      000124 R   |   6 STR        0008F7 R   |   6 STRCQ      00108F R
  6 STRQ       0011B0 R   |   6 STRQP      000B04 R   |   6 SUBB       0003E9 R
  6 SWAPP      0001F8 R   |     SWIM_CSR=  007F80     |   6 TAP        000E18 R
  6 TBOOT      0014DE R   |   6 TCHA1      0006E4 R   |   6 TCHAR      0006C1 R
  6 TEMP       0002B2 R   |   6 TEVAL      0002E2 R   |   6 THENN      001110 R
  6 TIB        00078D R   |     TIBB    =  001700     |     TIBBASE =  001700 
    TIC     =  000027     |   6 TICK       000FFE R   |     TIM1_ARR=  005262 
    TIM1_ARR=  005263     |     TIM1_BKR=  00526D     |     TIM1_CCE=  00525C 
    TIM1_CCE=  00525D     |     TIM1_CCM=  005258     |     TIM1_CCM=  000000 
    TIM1_CCM=  000001     |     TIM1_CCM=  000004     |     TIM1_CCM=  000005 
    TIM1_CCM=  000006     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000003     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000004     |     TIM1_CCM=  000005     |     TIM1_CCM=  000006 
    TIM1_CCM=  000003     |     TIM1_CCM=  005259     |     TIM1_CCM=  000000 
    TIM1_CCM=  000001     |     TIM1_CCM=  000004     |     TIM1_CCM=  000005 
    TIM1_CCM=  000006     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000003     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000004     |     TIM1_CCM=  000005     |     TIM1_CCM=  000006 
    TIM1_CCM=  000003     |     TIM1_CCM=  00525A     |     TIM1_CCM=  000000 
    TIM1_CCM=  000001     |     TIM1_CCM=  000004     |     TIM1_CCM=  000005 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 72.
Hexadecimal [24-Bits]

Symbol Table

    TIM1_CCM=  000006     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000003     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000004     |     TIM1_CCM=  000005     |     TIM1_CCM=  000006 
    TIM1_CCM=  000003     |     TIM1_CCM=  00525B     |     TIM1_CCM=  000000 
    TIM1_CCM=  000001     |     TIM1_CCM=  000004     |     TIM1_CCM=  000005 
    TIM1_CCM=  000006     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000003     |     TIM1_CCM=  000007     |     TIM1_CCM=  000002 
    TIM1_CCM=  000004     |     TIM1_CCM=  000005     |     TIM1_CCM=  000006 
    TIM1_CCM=  000003     |     TIM1_CCR=  005265     |     TIM1_CCR=  005266 
    TIM1_CCR=  005267     |     TIM1_CCR=  005268     |     TIM1_CCR=  005269 
    TIM1_CCR=  00526A     |     TIM1_CCR=  00526B     |     TIM1_CCR=  00526C 
    TIM1_CNT=  00525E     |     TIM1_CNT=  00525F     |     TIM1_CR1=  005250 
    TIM1_CR2=  005251     |     TIM1_CR2=  000000     |     TIM1_CR2=  000002 
    TIM1_CR2=  000004     |     TIM1_CR2=  000005     |     TIM1_CR2=  000006 
    TIM1_DTR=  00526E     |     TIM1_EGR=  005257     |     TIM1_EGR=  000007 
    TIM1_EGR=  000001     |     TIM1_EGR=  000002     |     TIM1_EGR=  000003 
    TIM1_EGR=  000004     |     TIM1_EGR=  000005     |     TIM1_EGR=  000006 
    TIM1_EGR=  000000     |     TIM1_ETR=  005253     |     TIM1_ETR=  000006 
    TIM1_ETR=  000000     |     TIM1_ETR=  000001     |     TIM1_ETR=  000002 
    TIM1_ETR=  000003     |     TIM1_ETR=  000007     |     TIM1_ETR=  000004 
    TIM1_ETR=  000005     |     TIM1_IER=  005254     |     TIM1_IER=  000007 
    TIM1_IER=  000001     |     TIM1_IER=  000002     |     TIM1_IER=  000003 
    TIM1_IER=  000004     |     TIM1_IER=  000005     |     TIM1_IER=  000006 
    TIM1_IER=  000000     |     TIM1_OIS=  00526F     |     TIM1_PSC=  005260 
    TIM1_PSC=  005261     |     TIM1_RCR=  005264     |     TIM1_SMC=  005252 
    TIM1_SMC=  000007     |     TIM1_SMC=  000000     |     TIM1_SMC=  000001 
    TIM1_SMC=  000002     |     TIM1_SMC=  000004     |     TIM1_SMC=  000005 
    TIM1_SMC=  000006     |     TIM1_SR1=  005255     |     TIM1_SR1=  000007 
    TIM1_SR1=  000001     |     TIM1_SR1=  000002     |     TIM1_SR1=  000003 
    TIM1_SR1=  000004     |     TIM1_SR1=  000005     |     TIM1_SR1=  000006 
    TIM1_SR1=  000000     |     TIM1_SR2=  005256     |     TIM1_SR2=  000001 
    TIM1_SR2=  000002     |     TIM1_SR2=  000003     |     TIM1_SR2=  000004 
    TIM2_ARR=  00530D     |     TIM2_ARR=  00530E     |     TIM2_CCE=  005308 
    TIM2_CCE=  005309     |     TIM2_CCM=  005305     |     TIM2_CCM=  005306 
    TIM2_CCM=  005307     |     TIM2_CCR=  00530F     |     TIM2_CCR=  005310 
    TIM2_CCR=  005311     |     TIM2_CCR=  005312     |     TIM2_CCR=  005313 
    TIM2_CCR=  005314     |     TIM2_CNT=  00530A     |     TIM2_CNT=  00530B 
    TIM2_CR1=  005300     |     TIM2_EGR=  005304     |     TIM2_IER=  005301 
    TIM2_PSC=  00530C     |     TIM2_SR1=  005302     |     TIM2_SR2=  005303 
    TIM3_ARR=  00532B     |     TIM3_ARR=  00532C     |     TIM3_CCE=  005327 
    TIM3_CCE=  000000     |     TIM3_CCE=  000001     |     TIM3_CCE=  000004 
    TIM3_CCE=  000005     |     TIM3_CCE=  000000     |     TIM3_CCE=  000001 
    TIM3_CCM=  005325     |     TIM3_CCM=  005326     |     TIM3_CCM=  000000 
    TIM3_CCM=  000004     |     TIM3_CCM=  000003     |     TIM3_CCR=  00532D 
    TIM3_CCR=  00532E     |     TIM3_CCR=  00532F     |     TIM3_CCR=  005330 
    TIM3_CNT=  005328     |     TIM3_CNT=  005329     |     TIM3_CR1=  005320 
    TIM3_CR1=  000007     |     TIM3_CR1=  000000     |     TIM3_CR1=  000003 
    TIM3_CR1=  000001     |     TIM3_CR1=  000002     |     TIM3_EGR=  005324 
    TIM3_IER=  005321     |     TIM3_PSC=  00532A     |     TIM3_SR1=  005322 
    TIM3_SR2=  005323     |     TIM4_ARR=  005346     |     TIM4_CNT=  005344 
    TIM4_CR1=  005340     |     TIM4_CR1=  000007     |     TIM4_CR1=  000000 
    TIM4_CR1=  000003     |     TIM4_CR1=  000001     |     TIM4_CR1=  000002 
    TIM4_EGR=  005343     |     TIM4_EGR=  000000     |     TIM4_IER=  005341 
    TIM4_IER=  000000     |     TIM4_PSC=  005345     |     TIM4_PSC=  000000 
    TIM4_PSC=  000007     |     TIM4_PSC=  000004     |     TIM4_PSC=  000001 
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 73.
Hexadecimal [24-Bits]

Symbol Table

    TIM4_PSC=  000005     |     TIM4_PSC=  000002     |     TIM4_PSC=  000006 
    TIM4_PSC=  000003     |     TIM4_PSC=  000000     |     TIM4_PSC=  000001 
    TIM4_PSC=  000002     |     TIM4_SR =  005342     |     TIM4_SR_=  000000 
    TIM_CR1_=  000007     |     TIM_CR1_=  000000     |     TIM_CR1_=  000006 
    TIM_CR1_=  000005     |     TIM_CR1_=  000004     |     TIM_CR1_=  000003 
    TIM_CR1_=  000001     |     TIM_CR1_=  000002     |   6 TNAM2      0013EE R
  6 TNAM3      00140C R   |   6 TNAM4      001412 R   |   6 TNAME      0013EB R
  6 TOKEN      000CD9 R   |   6 TOR        0001B1 R   |     TRUEE   =  00FFFF 
  6 TWOSL      00067D R   |   6 TYPE1      000AB6 R   |   6 TYPE2      000AC2 R
  6 TYPES      000AB1 R   |     UART1   =  000000     |     UART1_BA=  005230 
    UART1_BR=  005232     |     UART1_BR=  005233     |     UART1_CR=  005234 
    UART1_CR=  005235     |     UART1_CR=  005236     |     UART1_CR=  005237 
    UART1_CR=  005238     |     UART1_DR=  005231     |     UART1_GT=  005239 
    UART1_PO=  000000     |     UART1_PS=  00523A     |     UART1_RX=  000004 
    UART1_SR=  005230     |     UART1_TX=  000005     |     UART3   =  000001 
    UART3_BA=  005240     |     UART3_BR=  005242     |     UART3_BR=  005243 
    UART3_CR=  005244     |     UART3_CR=  005245     |     UART3_CR=  005246 
    UART3_CR=  005247     |     UART3_CR=  004249     |     UART3_DR=  005241 
    UART3_PO=  00000F     |     UART3_RX=  000006     |     UART3_SR=  005240 
    UART3_TX=  000005     |     UART_BRR=  000002     |     UART_BRR=  000003 
    UART_CR1=  000004     |     UART_CR1=  000004     |     UART_CR1=  000002 
    UART_CR1=  000000     |     UART_CR1=  000001     |     UART_CR1=  000007 
    UART_CR1=  000006     |     UART_CR1=  000005     |     UART_CR1=  000003 
    UART_CR2=  000005     |     UART_CR2=  000004     |     UART_CR2=  000002 
    UART_CR2=  000005     |     UART_CR2=  000001     |     UART_CR2=  000000 
    UART_CR2=  000006     |     UART_CR2=  000003     |     UART_CR2=  000007 
    UART_CR3=  000006     |     UART_CR3=  000003     |     UART_CR3=  000001 
    UART_CR3=  000002     |     UART_CR3=  000000     |     UART_CR3=  000006 
    UART_CR3=  000004     |     UART_CR3=  000005     |     UART_CR4=  000007 
    UART_CR4=  000000     |     UART_CR4=  000001     |     UART_CR4=  000002 
    UART_CR4=  000003     |     UART_CR4=  000004     |     UART_CR4=  000006 
    UART_CR4=  000005     |     UART_CR5=  000008     |     UART_CR5=  000003 
    UART_CR5=  000001     |     UART_CR5=  000002     |     UART_CR5=  000004 
    UART_CR5=  000005     |     UART_CR6=  000009     |     UART_CR6=  000004 
    UART_CR6=  000007     |     UART_CR6=  000001     |     UART_CR6=  000002 
    UART_CR6=  000000     |     UART_CR6=  000005     |     UART_DR =  000001 
    UART_GTR=  000009     |     UART_PSC=  00000A     |     UART_SR =  000000 
    UART_SR_=  000001     |     UART_SR_=  000004     |     UART_SR_=  000002 
    UART_SR_=  000003     |     UART_SR_=  000000     |     UART_SR_=  000005 
    UART_SR_=  000006     |     UART_SR_=  000007     |     UBC     =  004801 
  6 UDOT       000B57 R   |   6 UDOTR      000B37 R   |   6 ULAST      00002A R
  6 ULES1      000446 R   |   6 ULESS      000430 R   |   6 UMMOD      0004C6 R
  6 UMSTA      00058B R   |   6 UNIQ1      0011F0 R   |   6 UNIQU      0011D1 R
  6 UNTIL      0010DB R   |   6 UPL1       000289 R   |   6 UPLUS      000272 R
    UPP     =  000006     |     USR_BTN_=  000004     |     USR_BTN_=  000010 
    USR_BTN_=  005015     |   6 UTYP1      001325 R   |   6 UTYP2      001334 R
  6 UTYPE      001320 R   |   6 UZERO      000016 R   |   6 VARIA      00130F R
    VER     =  000002     |     WDGOPT  =  004805     |     WDGOPT_I=  000002 
    WDGOPT_L=  000003     |     WDGOPT_W=  000000     |     WDGOPT_W=  000001 
  6 WHILE      00115A R   |   6 WITHI      0004AB R   |   6 WORDD      000CC5 R
  6 WORDS      001492 R   |   6 WORS1      001498 R   |   6 WORS2      0014B7 R
    WWDG_CR =  0050D1     |     WWDG_WR =  0050D2     |   6 XORR       00025D R
    XTEMP   =  00001A     |     YTEMP   =  00001C     |   6 ZERO       000697 R
  6 ZL1        00022A R   |   6 ZLESS      000221 R   |   6 clear_ra   000008 R
  6 clock_in   000047 R   |   6 main       000005 R   |   6 uart1_in   000055 R
ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 74.
Hexadecimal [24-Bits]

Symbol Table


ASxxxx Assembler V02.00 + NoICE + SDCC mods  (STMicroelectronics STM8), page 75.
Hexadecimal [24-Bits]

Area Table

   0 _CODE      size      0   flags    0
   1 DATA       size      0   flags    8
   2 DATA0      size      0   flags    8
   3 SSEG       size      0   flags    8
   4 SSEG1      size    100   flags    8
   5 HOME       size     80   flags    0
   6 CODE       size   150B   flags    0

